<meta charset="UTF-8"><link rel="stylesheet" type="text/css" href="../style.css"><div id="CALeft">
<div class="headNormal">
<h1><a href="/questions/59610/osmosis-postgresql-error">Osmosis PostgreSQL error</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/59610/up/" id="post-59610-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-59610-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/59610/down/" id="post-59610-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/59610/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>A week ago, I used Osmosis to import osc files into PostgreSQL with this code:</p>
<pre><code>osmosis --rxc source\osc\xyz.osc --wpc database=gps user=myuser password=mypassword
</code></pre>
<p>All went well, and today I tried to run this code with a different osc file, and it failed with this error message:</p>
<p>...</p>
<p>SEVERE: Thread for task 1-rxc failed
org.springframework.jdbc.BadSqlGrammarException: PreparedStatementCallback; bad SQL grammar [INSERT INTO nodes(id, version, user_id, tstamp, changeset_id, tags, geom) VALUES (?, ?, ?, ?, ?, ?, ?)]; nested exception is org.postgresql.util.PSQLException: Can't infer the SQL type to use for an instance of java.util.HashMap. Use setObject() with an explicit Types value to specify the type to use.</p>
<p>...</p>
<p>Can you help solve this? I have a pgsnapshot schema with the linestring.sql, Osmosis version is 0.45, PostgreSQL version is 9.5.6, PostGIS version: 2.3.3</p>
<p>Thank you!</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-openstreetmap" href="/tags/openstreetmap/" rel="tag" title="see questions tagged 'openstreetmap'">openstreetmap</a>
<a class="post-tag tag-link-postgresql" href="/tags/postgresql/" rel="tag" title="see questions tagged 'postgresql'">postgresql</a>
<a class="post-tag tag-link-osm" href="/tags/osm/" rel="tag" title="see questions tagged 'osm'">osm</a>
<a class="post-tag tag-link-postgis" href="/tags/postgis/" rel="tag" title="see questions tagged 'postgis'">postgis</a>
<a class="post-tag tag-link-osmosis" href="/tags/osmosis/" rel="tag" title="see questions tagged 'osmosis'">osmosis</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>13 Sep '17, 17:14</strong>
</p>
<img alt="horvatha's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/bd59a1956b8ee779ec94d29e78596b72?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/14201/horvatha">horvatha</a><br/>
<span class="score" title="11 reputation points">11</span><span title="2 badges"><span class="badge1">●</span><span class="badgecount">2</span></span><span title="2 badges"><span class="silver">●</span><span class="badgecount">2</span></span><span title="4 badges"><span class="bronze">●</span><span class="badgecount">4</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="horvatha has no accepted answers">0%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-59610">
<a name="59856"></a>
<div class="comment" id="comment-59856">
<div class="comment-score" id="post-59856-score"></div>
<div class="comment-text"><p>i have the same exact error and its driving me crazy!! i wish i can help you but i also posted this question. If i get an answer myself i will be sure to share it with you! Im curious though, you were able to get it work once for you, then now it doesnt work? From the very first time i tried to apply a change file i started receiving this error. The only difference with error is the sql query. Mine is this </p>
<p>[UPDATE nodes SET id = ?, version = ?, user_id = ?, tstamp = ?, changeset_id = ?, tags = ?, geom = ? WHERE id = ?]</p></div>
<div class="comment-info" id="comment-59856-info">
<span class="comment-age">(26 Sep '17, 20:07)</span>
<a class="comment-user userinfo" href="/users/14254/asinger321">Asinger321</a>
</div>
</div>
<a name="59866"></a>
<div class="comment" id="comment-59866">
<div class="comment-score" id="post-59866-score"></div>
<div class="comment-text"><p>I installed osmosis 0.40.1 with apt install osmosis and now it works. Installed the pgsnapshot_schema.sql and linestring.sql (version 0.6). No more error messages. Hope it will work for you, too!</p></div>
<div class="comment-info" id="comment-59866-info">
<span class="comment-age">(28 Sep '17, 12:09)</span>
<a class="comment-user userinfo" href="/users/14201/horvatha">horvatha</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-59610">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-59610-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<form action="/questions/59610/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="IBf6IlTvrQK6RpvLBr6S9LXzvVjA5IBL"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>