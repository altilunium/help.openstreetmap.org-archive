<meta charset="utf-8"/><link href="../style.css" rel="stylesheet" type="text/css"/><div id="CALeft"><center><a href="../"><img id="ll" src="https://help.openstreetmap.org/upfiles/osm_help_logo_6.png"/></a></center>
<div class="headNormal">
<h1><a href="/questions/5601/osmosis-bat-file-runs-then-closes">Osmosis bat file runs then closes</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/5601/up/" id="post-5601-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-5601-score" title="current number of votes">
    1
</div>
<a class="ajax-command post-vote down" href="/vote/5601/down/" id="post-5601-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/5601/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>Similar to <a href="http://help.openstreetmap.org/questions/1980/installing-osmosis">this question</a> I am also having windows installation problems.  I am using osmosis-0.39 and I have installed JRE, but when I run the batch file, it runs through some lines of code and then closes.<br/>
</p>
<p>When I run the batch file in cmd, it looks like everything has run, "org.openstreetmap.osmosis.core.Osmosis run, INFO: Total execution time: 562 milliseconds." but then what do I do?</p>
<p>This might be an absolutely obvious questions, but where am I actually writing the java commands into?</p>
<p>Sorry for such basic questions? </p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-osmosis" href="/tags/osmosis/" rel="tag" title="see questions tagged 'osmosis'">osmosis</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>07 Jun '11, 11:16</strong>
</p>
<img alt="Nat%20Evatt's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/650c04578f8713eb2c8cf9dd3ab9b2f3?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/1521/nat-evatt">Nat Evatt</a><br/>
<span class="score" title="16 reputation points">16</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">●</span><span class="badgecount">1</span></span><span title="2 badges"><span class="bronze">●</span><span class="badgecount">2</span></span><br>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Nat Evatt has no accepted answers">0%</span>
</br></p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/5601/">
                converted to question
                <strong>07 Jun '11, 18:40</strong>
</a>
</p>
<img alt="Harry%20Wood's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/9e04333be840d50c6aa66fb112aad77c?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/107/harry-wood">Harry Wood</a><br/>
<span class="score" title="9489 reputation points"><span class="">9.5k</span></span><span title="25 badges"><span class="badge1">●</span><span class="badgecount">25</span></span><span title="88 badges"><span class="silver">●</span><span class="badgecount">88</span></span><span title="128 badges"><span class="bronze">●</span><span class="badgecount">128</span></span></p>
</div>
</div>
<div class="comments-container" id="comments-container-5601">
</div>
<div class="comment-tools" id="comment-tools-5601">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-5601-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    2 Answers:
                    </div>
<div class="tabsA"><a href="/questions/5601/osmosis-bat-file-runs-then-closes?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/5601/osmosis-bat-file-runs-then-closes?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/5601/osmosis-bat-file-runs-then-closes?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/5601/osmosis-bat-file-runs-then-closes?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="5617"></a>
<div class="answer" id="answer-container-5617">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/5617/up/" id="post-5617-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-5617-score" title="current number of votes">
    4
</div>
<a class="ajax-command post-vote down" href="/vote/5617/down/" id="post-5617-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>I think if you just run 'osmosis' while in the bin directory then it will start up (via the bat file), think about all the exciting tasks you given it (none whatsoever), and then report that it's finished. That's what you're seeing.</p>
<p>so try doing something like</p>
<pre><code>osmosis --read-xml C:\files\input.osm --write-xml C:\files\output.osm
</code></pre>
<p>So now it's reading (trying to) and input file and writing an output file (.osm formatted XML) without doing anything in between (bit boring, but it should work)</p>
<p>Notice that I've specified paths in full. Kind of ugly perhaps. Another way of doing it would be to cd to the location where your planet files are and then specify the path to osmosis in full:</p>
<pre><code>cd c:\files
C:\Progra~1\osmosis\bin\osmosis --read-xml input.osm --write-xml output.osm
</code></pre>
<p>Still pretty ugly perhaps, but you could put this in another bat file alongside your OSM files (a bat file calling a bat file)  Command line params appearing after the word osmosis are fed through to the  <a href="http://svn.openstreetmap.org/applications/utils/osmosis/trunk/package/bin/osmosis.bat">bat file in your osmosis installation</a> and I think little '%*' at the very end of that script, means your params (the specification of tasks etc) get fed into the osmosis java code.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/5617/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>07 Jun '11, 18:58</strong>
</p>
<img alt="Harry%20Wood's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/9e04333be840d50c6aa66fb112aad77c?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/107/harry-wood">Harry Wood</a><br/>
<span class="score" title="9489 reputation points"><span class="">9.5k</span></span><span title="25 badges"><span class="badge1">●</span><span class="badgecount">25</span></span><span title="88 badges"><span class="silver">●</span><span class="badgecount">88</span></span><span title="128 badges"><span class="bronze">●</span><span class="badgecount">128</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Harry Wood has 19 accepted answers">14%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/5617/">
                edited
                <strong>07 Jun '11, 18:59</strong>
</a>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-5617">
<a name="5736"></a>
<div class="comment" id="comment-5736">
<div class="comment-score" id="post-5736-score"></div>
<div class="comment-text"><p>Brilliant!  Thank Harry.</p></div>
<div class="comment-info" id="comment-5736-info">
<span class="comment-age">(13 Jun '11, 17:59)</span>
<a class="comment-user userinfo" href="/users/1521/nat-evatt">Nat Evatt</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-5617">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-5617-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="53200"></a>
<div class="answer" id="answer-container-53200">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/53200/up/" id="post-53200-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-53200-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/53200/down/" id="post-53200-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>osmosis is a bat file itself so call it with a CALL command to prevent closing after execution.</p>
<pre><code>CALL osmosis
</code></pre>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/53200/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>01 Dec '16, 19:23</strong>
</p>
<img alt="yaugenka's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/6aec475eb732cafb533ee480a204ee7c?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/13039/yaugenka">yaugenka</a><br/>
<span class="score" title="11 reputation points">11</span><span title="1 badges"><span class="bronze">●</span><span class="badgecount">1</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="yaugenka has no accepted answers">0%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-53200">
</div>
<div class="comment-tools" id="comment-tools-53200">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-53200-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/5601/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="n3MH0nqG2qxv9iAzRmvEKy8QgZyhUAec"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>