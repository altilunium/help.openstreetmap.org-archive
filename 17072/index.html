<meta charset="utf-8"/><link href="../style.css" rel="stylesheet" type="text/css"/><div id="CALeft"><center><a href="../"><img id="ll" src="https://help.openstreetmap.org/upfiles/osm_help_logo_6.png"/></a></center>
<div class="headNormal">
<h1><a href="/questions/17072/pedestrian-returned-by-nominatim-is-this-an-alternative-to-road">"Pedestrian" returned by Nominatim.  Is this an alternative to "road"?</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/17072/up/" id="post-17072-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-17072-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/17072/down/" id="post-17072-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/17072/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>Hi</p>
<p>A couple of addresses in the capital raise some questions in Nominatim - tested calling via api </p>
<p>(A) "http://nominatim.openstreetmap.org/search?format=json&amp;q=2400 Pennsylvania Avenue Northwest, Washington, DC 20037&amp;countrycodes=US&amp;addressdetails=1"</p>
<p>Postcode is specified - however Nominatim returns 2x places - one postcode 20037 - one postcode 20006 - why was the 20006 result included?</p>
<p>No house_number is returned in either case - why is that?</p>
<p>(B) "http://nominatim.openstreetmap.org/search?format=json&amp;q=1600 Pennsylvania Avenue Northwest&amp;countrycodes=US&amp;addressdetails=1"</p>
<p>Instead of returning "road" address component - Nominatim returns "pedestrian" as "Pennsylvania Avenue Northwest" - why is this? Is this an alternative to "road" - are there any other names by which "road" may be returned?</p>
<p>Thanks!</p>
<p>Regards</p>
<p>Julian</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-nominatim" href="/tags/nominatim/" rel="tag" title="see questions tagged 'nominatim'">nominatim</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>21 Oct '12, 16:42</strong>
</p>
<img alt="Julian88's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/ef5277fef092958525333343e415e6ce?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/4800/julian88">Julian88</a><br/>
<span class="score" title="11 reputation points">11</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">●</span><span class="badgecount">1</span></span><span title="2 badges"><span class="bronze">●</span><span class="badgecount">2</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Julian88 has no accepted answers">0%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/17072/">
                edited
                <strong>21 Oct '12, 18:33</strong>
</a>
</p>
<img alt="SomeoneElse's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/0bf1aa22f7f5e045b0eb8beb79fe7907?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/387/someoneelse">SomeoneElse ♦</a><br/>
<span class="score" title="36866 reputation points"><span class="">36.9k</span></span><span title="71 badges"><span class="badge1">●</span><span class="badgecount">71</span></span><span title="370 badges"><span class="silver">●</span><span class="badgecount">370</span></span><span title="866 badges"><span class="bronze">●</span><span class="badgecount">866</span></span></p>
</div>
</div>
<div class="comments-container" id="comments-container-17072">
</div>
<div class="comment-tools" id="comment-tools-17072">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-17072-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    2 Answers:
                    </div>
<div class="tabsA"><a href="/questions/17072/pedestrian-returned-by-nominatim-is-this-an-alternative-to-road?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/17072/pedestrian-returned-by-nominatim-is-this-an-alternative-to-road?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/17072/pedestrian-returned-by-nominatim-is-this-an-alternative-to-road?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/17072/pedestrian-returned-by-nominatim-is-this-an-alternative-to-road?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="17102"></a>
<div class="answer" id="answer-container-17102">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/17102/up/" id="post-17102-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-17102-score" title="current number of votes">
    1
</div>
<a class="ajax-command post-vote down" href="/vote/17102/down/" id="post-17102-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>(A1) Short answer: Nominatim thinks that the street goes through two postcode areas and returns both.</p>
<p>Long answer: Postcodes are currently saved mostly as points in the Nominatim database, not as an area. As this is not very precise, Nominatim also returns results that are (spatially) close to the postcode you requested but are annotated with a different one. It does not filter results where only the postcode differs. But the result with the postcode from the query should always appear higher in the list.</p>
<p>(A2) As for the house number, if you have a look at the <a href="http://nominatim.openstreetmap.org/details.php?osmtype=W&amp;osmid=66417794">details page for the house</a>, you can see that Nominatim did not put it into the city of Washington. This looks suspiciously like a bug, the neighbouring streets seem fine.</p>
<p>(B) The label that is returned for roads depends on the highway tag. Currently, the following may be returned: Road(for anything a 4-wheeled vehicle can use), Footway, Pedestrian, Cycleway, Bridleway. (You may get others if there is a typo in the highway tag or somebody invented a new value but that should be so rare that it can be safely ignored.)</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/17102/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>22 Oct '12, 15:43</strong>
</p>
<img alt="lonvia's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/d888b712d85dee0aa304297f2dc697c7?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/2921/lonvia">lonvia</a><br/>
<span class="score" title="6213 reputation points"><span class="">6.2k</span></span><span title="2 badges"><span class="badge1">●</span><span class="badgecount">2</span></span><span title="57 badges"><span class="silver">●</span><span class="badgecount">57</span></span><span title="89 badges"><span class="bronze">●</span><span class="badgecount">89</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="lonvia has 43 accepted answers">40%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-17102">
</div>
<div class="comment-tools" id="comment-tools-17102">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-17102-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="17083"></a>
<div class="answer" id="answer-container-17083">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/17083/up/" id="post-17083-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-17083-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/17083/down/" id="post-17083-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>(A) You can use Nominatim's <a href="http://nominatim.openstreetmap.org/search.php?q=2400+Pennsylvania+Avenue+Northwest%2C+Washington%2C+DC+20037&amp;viewbox=-337.5%2C84.7%2C337.5%2C-79.2">web search</a> to find out. It returns two results, <a href="http://nominatim.openstreetmap.org/details.php?place_id=53784449">53784449</a> and <a href="http://nominatim.openstreetmap.org/details.php?place_id=51321945">51321945</a>. Both are the <em>Pennsylvania Avenue Northwest</em>, but one belongs to the suburb <a href="http://www.openstreetmap.org/browse/node/158249984">Georgetown</a> and the other one to the suburb <a href="http://nominatim.openstreetmap.org/details.php?place_id=51321945">Farragut Square</a>. Both suburbs are just nodes in OSM so Nominatim has to guess their sizes. If you think this is incorrect, try adding both suburbs as an area.</p>
<p>(B) According to <a href="http://rdoc.info/github/jakubsvehla/nominatim/master/Nominatim/Address">this documentation</a> there seems to be only road and pedestrian as the smallest elements, but that's just a guess and it's not the official documentation (if there is any at all). Better ask twain or lonvia about this issue.</p>
<p>Note that depending on the object you are searching for neither road nor pedestrian has to be returned as Nominatim does not only search for street addresses but for everything. Thus it can also happen that you just get something like "POI, suburb, city, country" without a road/house number part.</p>
<p>After taking a short look at the code I think every <a href="https://trac.openstreetmap.org/browser/applications/utils/nominatim/lib/lib.php#L291">class</a> label can be returned, so there are lots of alternatives to <em>road</em> and <em>pedestrian</em>.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/17083/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>22 Oct '12, 06:20</strong>
</p>
<img alt="scai's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/52d3234f3be58156770e8a91d575bfbd?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/158/scai">scai ♦</a><br/>
<span class="score" title="33317 reputation points"><span class="">33.3k</span></span><span title="21 badges"><span class="badge1">●</span><span class="badgecount">21</span></span><span title="309 badges"><span class="silver">●</span><span class="badgecount">309</span></span><span title="459 badges"><span class="bronze">●</span><span class="badgecount">459</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="scai has 168 accepted answers">23%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/17083/">
                edited
                <strong>22 Oct '12, 07:29</strong>
</a>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-17083">
</div>
<div class="comment-tools" id="comment-tools-17083">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-17083-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/17072/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="MeXxgX6IUlbzhYYY6cwzcfbtIwnrROlI"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>