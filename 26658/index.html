<meta charset="utf-8"/><link href="../style.css" rel="stylesheet" type="text/css"/><div id="CALeft"><center><a href="../"><img id="ll" src="https://help.openstreetmap.org/upfiles/osm_help_logo_6.png"/></a></center>
<div class="headNormal">
<h1><a href="/questions/26658/convert-atco-code-to-latlng-coordinates">Convert ATCO Code to Lat/Lng coordinates?</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/26658/up/" id="post-26658-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-26658-score" title="current number of votes">
    1
</div>
<a class="ajax-command post-vote down" href="/vote/26658/down/" id="post-26658-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/26658/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>Hi,</p>
<p>I have a large set of XML files following the TransXchange data standard. I have created a parser to extract bus stops a bus will run through when making a specific journey. These bus stops are identified by an 'ATCO Code'. Below is an example of an ATCO Code.</p>
<p>43000804705</p>
<p>Are there any resources OpenStreetMap has that will help me convert this code into a set of coordinates? If not and anyone has any ideas as to how I can do this I would really appreciate it. I have about 60 codes to convert and will have many more in the near future so ideally I need something that is fast and easy to use.</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-bus" href="/tags/bus/" rel="tag" title="see questions tagged 'bus'">bus</a>
<a class="post-tag tag-link-atcocode" href="/tags/atcocode/" rel="tag" title="see questions tagged 'atcocode'">atcocode</a>
<a class="post-tag tag-link-transxchange" href="/tags/transxchange/" rel="tag" title="see questions tagged 'transxchange'">transxchange</a>
<a class="post-tag tag-link-coordinates" href="/tags/coordinates/" rel="tag" title="see questions tagged 'coordinates'">coordinates</a>
<a class="post-tag tag-link-busstops" href="/tags/busstops/" rel="tag" title="see questions tagged 'busstops'">busstops</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>23 Sep '13, 20:55</strong>
</p>
<img alt="jskidd3's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/798374ef5cfa2acd48be598c543fdcd3?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/7331/jskidd3">jskidd3</a><br/>
<span class="score" title="46 reputation points">46</span><span title="2 badges"><span class="badge1">●</span><span class="badgecount">2</span></span><span title="2 badges"><span class="silver">●</span><span class="badgecount">2</span></span><span title="5 badges"><span class="bronze">●</span><span class="badgecount">5</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="jskidd3 has no accepted answers">0%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-26658">
</div>
<div class="comment-tools" id="comment-tools-26658">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-26658-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    2 Answers:
                    </div>
<div class="tabsA"><a href="/questions/26658/convert-atco-code-to-latlng-coordinates?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/26658/convert-atco-code-to-latlng-coordinates?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/26658/convert-atco-code-to-latlng-coordinates?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/26658/convert-atco-code-to-latlng-coordinates?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="26659"></a>
<div class="answer" id="answer-container-26659">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/26659/up/" id="post-26659-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-26659-score" title="current number of votes">
    3
</div>
<a class="ajax-command post-vote down" href="/vote/26659/down/" id="post-26659-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>The ATCO code is an identifier for bus stops in the <a href="http://wiki.openstreetmap.org/wiki/NaPTAN">NaPTAN</a> database, which has been imported into OSM in parts of the UK. You can search OSM for bus stops with the naptan:AtcoCode tag key that you want, otherwise it should be possible to find the stop in NaPTAN itself.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/26659/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>23 Sep '13, 21:26</strong>
</p>
<img alt="Wynndale's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/8d2104911958906e2105c27461780d2b?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/7440/wynndale">Wynndale</a><br/>
<span class="score" title="565 reputation points">565</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="5 badges"><span class="silver">●</span><span class="badgecount">5</span></span><span title="15 badges"><span class="bronze">●</span><span class="badgecount">15</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Wynndale has one accepted answer">7%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/26659/">
                edited
                <strong>24 Sep '13, 07:28</strong>
</a>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-26659">
<a name="26660"></a>
<div class="comment" id="comment-26660">
<div class="comment-score" id="post-26660-score"></div>
<div class="comment-text"><p>Thanks for your answer. Would you be able to give me an example of how I can search OSM for the data? I'd really appreciate that as I'm pretty new to it. Ideally I'd need some sort of URL where I can pass the AtcoCode as a parameter? Thanks again</p></div>
<div class="comment-info" id="comment-26660-info">
<span class="comment-age">(23 Sep '13, 21:28)</span>
<a class="comment-user userinfo" href="/users/7331/jskidd3">jskidd3</a>
</div>
</div>
<a name="26662"></a>
<div class="comment" id="comment-26662">
<div class="comment-score" id="post-26662-score">1</div>
<div class="comment-text"><p>A good place to start is <a href="http://overpass-turbo.eu">http://overpass-turbo.eu</a> .</p>
<p>Try choosing where you are interested in on the map view and edit the script on the left to say:
&lt;query type="node"&gt;
  &lt;has-kv k="naptan:AtcoCode" v="43000804705"/&gt;</p>
<p>and so on.</p></div>
<div class="comment-info" id="comment-26662-info">
<span class="comment-age">(23 Sep '13, 21:38)</span>
<a class="comment-user userinfo" href="/users/7440/wynndale">Wynndale</a>
</div>
</div>
<a name="26663"></a>
<div class="comment" id="comment-26663">
<div class="comment-score" id="post-26663-score">1</div>
<div class="comment-text"><p>If you know where the bus stops are you can use the Export data link on the left of the map to get an XML extract of the OSM database including coordinates and ATCO codes of bus stops.</p></div>
<div class="comment-info" id="comment-26663-info">
<span class="comment-age">(23 Sep '13, 21:45)</span>
<a class="comment-user userinfo" href="/users/7440/wynndale">Wynndale</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-26659">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-26659-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="26661"></a>
<div class="answer" id="answer-container-26661">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/26661/up/" id="post-26661-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-26661-score" title="current number of votes">
    2
</div>
<a class="ajax-command post-vote down" href="/vote/26661/down/" id="post-26661-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>Not OSM data, but you might want to look at the <a href="http://data.gov.uk/dataset/naptan">NaPTAN data</a>. Some of this was imported as a trial into OpenStreetMap and where that has been done the stops may have a naptan:AtcoCode tag, <a href="http://www.openstreetmap.org/browse/node/474890256">such as this one</a>. Where the data has been verified the position is likely to be more accurate than the original NaPTAN data, though their data may well have been updated since the original data was made available and the trial imports were done.</p>
<p>The NaPTAN data states precision of:
"+/- 1 metre spatial accuracy of Ordnance Survey Grid Reference"
so you may need to convert the grid reference to lat/lon (and then perhaps to WGS84 or whatever you need).</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/26661/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>23 Sep '13, 21:31</strong>
</p>
<img alt="EdLoach's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/f25a8392e12ed696b16554b3d08e4e2b?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/339/edloach">EdLoach ♦</a><br/>
<span class="score" title="19478 reputation points"><span class="">19.5k</span></span><span title="16 badges"><span class="badge1">●</span><span class="badgecount">16</span></span><span title="156 badges"><span class="silver">●</span><span class="badgecount">156</span></span><span title="280 badges"><span class="bronze">●</span><span class="badgecount">280</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="EdLoach has 93 accepted answers">22%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-26661">
<a name="26675"></a>
<div class="comment" id="comment-26675">
<div class="comment-score" id="post-26675-score"></div>
<div class="comment-text"><p>automatic coordinate conversion can be done using the excellent proj4 library. There are a lot of proj4 bindings for different languages.</p></div>
<div class="comment-info" id="comment-26675-info">
<span class="comment-age">(24 Sep '13, 10:13)</span>
<a class="comment-user userinfo" href="/users/4653/gormo">gormo</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-26661">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-26661-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/26658/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="dO9csiAkREF74XmNNpgoSSLdRRl02vHS"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>