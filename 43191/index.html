<meta charset="utf-8"/><link href="../style.css" rel="stylesheet" type="text/css"/><div id="CALeft"><center><a href="../"><img id="ll" src="https://help.openstreetmap.org/upfiles/osm_help_logo_6.png"/></a></center>
<div class="headNormal">
<h1><a href="/questions/43191/how-to-enter-length-information-for-ways">How to enter length information for ways?</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/43191/up/" id="post-43191-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-43191-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/43191/down/" id="post-43191-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/43191/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>I've been measuring trails in town simultaneously with a GPS logger and a distance-measuring wheel.  As a result, I know the distances between trail junctions quite accurately.  My repeatability seems to be around 1/4 percent.  Due to the relatively high curvature of trails (both horizontal and vertical), inferring distance by doing the math on the way points is not as accurate.  How do I store my accurate distances?</p>
<p>I see that there is a DISTANCE tag, but according to the documentation only applies to relations.  First, you have to actually create a relation to use it, which I don't think is appropriate for many of our trails.  Second, it seems to be intended to give the length of a longer route thru a bunch of intersections and possibly as it switches ways in the OSM database.</p>
<p>I was expecting to make individual ways between trail junctions, then use something like the DISTANCE tag to explicitly state how long that way is, regardless of what you might get by adding up the individual line segments that were entered by eyeball-filtering GPS traces.</p>
<h2>Added in response to comments</h2>
<p>I haven't directly compared my measurements to distances computed from OSM data, but I have seen significant discrepancies between the wheel-measured distances and distances computed from other people's GPS tracks, over 10% in some cases.  That may have been because these other GPS tracks were rather sloppy, which is one reason I'm re-doing all the trails in town.  It just seems a shame that there isn't a mechanism to save this data in OSM when known, but if that's not done then I will stop looking for it.</p>
<p>Trails are thin, so there is no issue of walking on the other side of a street.  The biggest issue that will make the distance experienced by two people different is when they go around a wet area differently.</p>
<p>As for getting out of date when someone else edits the way, I can see the point to that.  That is probably the best reason given to not add distances to ways.</p>
<p>I guess the overall answer is</p><ol><p></p>
<li>Distances on ways is not how OSM is intended to work.

</li><li>Even if you did it, it would cause maintenance problems as people edit the ways and then don't update the distances accordingly.

</li><li>We think that the error isn't that great, and don't care if it is.

</li></ol>

If someone wants to write a nice answer stating this and possibly elaborating on it, I'll be happy to upvote and accept it.  I'm not going to upvote or accept SK53's answer since it didn't address the question.  I asked how to store the more accurate directly-measured distance data instead of requiring it to be calculated, and his answer is basically "It's not needed since it can be calculated".
                            </div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-ways" href="/tags/ways/" rel="tag" title="see questions tagged 'ways'">ways</a>
<a class="post-tag tag-link-distance" href="/tags/distance/" rel="tag" title="see questions tagged 'distance'">distance</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>24 May '15, 21:14</strong>
</p>
<img alt="Olin%20Lathrop's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/523875048fad58440c3d08d2b91a8de8?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/11018/olin-lathrop">Olin Lathrop</a><br/>
<span class="score" title="16 reputation points">16</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">●</span><span class="badgecount">1</span></span><span title="3 badges"><span class="bronze">●</span><span class="badgecount">3</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Olin Lathrop has no accepted answers">0%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/43191/">
                edited
                <strong>25 May '15, 13:41</strong>
</a>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-43191">
<a name="43199"></a>
<div class="comment" id="comment-43199">
<div class="comment-score" id="post-43199-score"></div>
<div class="comment-text"><p>How does your measurement compare with measurements from OSM's 2D geometry ? And when correcting for relief using DEM data ? Did you consider that the personal decision of walking on this or that side of the road will throw off measurements ? Chances are that distance measured from OSM data + SRTM is just as good as manually-measured distance.</p></div>
<div class="comment-info" id="comment-43199-info">
<span class="comment-age">(25 May '15, 11:55)</span>
<a class="comment-user userinfo" href="/users/867/vincent-de-phily">Vincent de P... ♦</a>
</div>
</div>
<a name="43206"></a>
<div class="comment" id="comment-43206">
<div class="comment-score" id="post-43206-score"></div>
<div class="comment-text"><p>Thanks for the additional paragraphs, they seem spot-on.</p>
<p>Distances from GPS traces can have a big error, especially in forest/valley/city, or if making pauses, or if recording at less than 1s frequency. Map data corrected by a human and helped by satellite imagery ought to be much more accurate, on par with a measuring wheel if the path is narrow and relief is accounted for.</p></div>
<div class="comment-info" id="comment-43206-info">
<span class="comment-age">(25 May '15, 16:26)</span>
<a class="comment-user userinfo" href="/users/867/vincent-de-phily">Vincent de P... ♦</a>
</div>
</div>
<a name="43207"></a>
<div class="comment" id="comment-43207">
<div class="comment-score" id="post-43207-score"></div>
<div class="comment-text"><p>I suggest you create the <a href="http://wiki.openstreetmap.org/wiki/Route">route relation</a> corresponding to the trails when applicable, an then look up the trail details on <a href="http://hiking.waymarkedtrails.org/">waymarked trails</a>.</p></div>
<div class="comment-info" id="comment-43207-info">
<span class="comment-age">(25 May '15, 16:31)</span>
<a class="comment-user userinfo" href="/users/867/vincent-de-phily">Vincent de P... ♦</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-43191">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-43191-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    2 Answers:
                    </div>
<div class="tabsA"><a href="/questions/43191/how-to-enter-length-information-for-ways?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/43191/how-to-enter-length-information-for-ways?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/43191/how-to-enter-length-information-for-ways?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/43191/how-to-enter-length-information-for-ways?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="43208"></a>
<div class="answer accepted-answer" id="answer-container-43208">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/43208/up/" id="post-43208-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-43208-score" title="current number of votes">
    6
</div>
<a class="ajax-command post-vote down" href="/vote/43208/down/" id="post-43208-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="accept-answer on" href="/accept_answer/43208/" rel="nofollow" title="Olin Lathrop has selected this answer as the correct answer">
</a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<blockquote>
<p>I see that there is a DISTANCE tag,
but according to the documentation
only applies to relations. First, you
have to actually create a relation to
use it, which I don't think is
appropriate for many of our trails.
[...]
I was expecting to make individual
ways between trail junctions</p>
</blockquote>
<p>Nope. A way in OSM represents a real-world geometry with shared attributes. As soon as the attributes change, you start a new way.</p>
<p>The upshot is that a relation is the correct way to store trail-wide information, since you can't rely on there being just one way for your whole trail.</p>
<p>(It's technically possible to create a way that shares sequences of nodes with other ways; if you were determined to store the information in a way, this would be the way to do it. However, it's <em>strongly</em> discouraged because it's a nightmare to edit and a nightmare to parse.)</p>
<p>FWIW, I generally tend to agree with SK53 that this information can and ought to be automatically computed. If you absolutely need the level of accuracy that an accurate centreline can't provide, then OSM is probably not the right project for your needs.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/43208/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>25 May '15, 16:54</strong>
</p>
<img alt="Richard's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/08324717c25d6067fa4ff23ef37d455f?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/5/richard">Richard ♦</a><br/>
<span class="score" title="30902 reputation points"><span class="">30.9k</span></span><span title="44 badges"><span class="badge1">●</span><span class="badgecount">44</span></span><span title="279 badges"><span class="silver">●</span><span class="badgecount">279</span></span><span title="412 badges"><span class="bronze">●</span><span class="badgecount">412</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Richard has 98 accepted answers">18%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/43208/">
                edited
                <strong>25 May '15, 16:56</strong>
</a>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-43208">
</div>
<div class="comment-tools" id="comment-tools-43208">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-43208-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="43192"></a>
<div class="answer" id="answer-container-43192">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/43192/up/" id="post-43192-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-43192-score" title="current number of votes">
    5
</div>
<a class="ajax-command post-vote down" href="/vote/43192/down/" id="post-43192-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>Just dont add distance to ways. It is completely unnecessary, just as adding lat/lon to each node is not needed. </p>
<p>OSM is a geographical database, it can be calculated, just as every router does.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/43192/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>24 May '15, 21:36</strong>
</p>
<img alt="SK53's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/06cd84075f1adc2870ad102c7233e661?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/647/sk53">SK53 ♦</a><br/>
<span class="score" title="28084 reputation points"><span class="">28.1k</span></span><span title="48 badges"><span class="badge1">●</span><span class="badgecount">48</span></span><span title="268 badges"><span class="silver">●</span><span class="badgecount">268</span></span><span title="433 badges"><span class="bronze">●</span><span class="badgecount">433</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="SK53 has 121 accepted answers">22%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-43192">
<a name="43193"></a>
<div class="comment" id="comment-43193">
<div class="comment-score" id="post-43193-score">1</div>
<div class="comment-text"><p>But the point is that these calculations will be less accurate than the explicitly measured data I have.  When I walk a trail, the GPS point-samples my motion, adds inevitable error to these points, then the result of several GPS tracks are low pass filtered by eye and the point-sampled again to make the OSM ways.  Adding up the lengths of this piecewise linear approximation won't be as accurate as measuring the actual trail by running over it with a 19 inch wheel.  My question is how to provide this more accurate information for OSM ways.  Are you saying there is no mechanism for this and to live with the less accurate summing of line segments?</p></div>
<div class="comment-info" id="comment-43193-info">
<span class="comment-age">(24 May '15, 21:43)</span>
<a class="comment-user userinfo" href="/users/11018/olin-lathrop">Olin Lathrop</a>
</div>
</div>
<a name="43194"></a>
<div class="comment" id="comment-43194">
<div class="comment-score" id="post-43194-score">4</div>
<div class="comment-text"><p>Well feel free to add this using the distance tag. </p>
<p>What happens when someone splits the trail? For instance to mark a change of surface. How do they re-calculate the distance for each segment. Elevation &amp; other aspects will obviously also affect distance. I really see no advantage of storing it in OSM for the sake of an apparent small increase in accuracy.</p></div>
<div class="comment-info" id="comment-43194-info">
<span class="comment-age">(25 May '15, 07:52)</span>
<a class="comment-user userinfo" href="/users/647/sk53">SK53 ♦</a>
</div>
</div>
<a name="43200"></a>
<div class="comment" id="comment-43200">
<div class="comment-score" id="post-43200-score">1</div>
<div class="comment-text"><p>The distance tag on relations is mainly (only ?) usefull for QA purposes : if a route's geometry is significantly shorter than its distance tag implies, then the route relation is probably incomplete and should be fixed.</p></div>
<div class="comment-info" id="comment-43200-info">
<span class="comment-age">(25 May '15, 11:59)</span>
<a class="comment-user userinfo" href="/users/867/vincent-de-phily">Vincent de P... ♦</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-43192">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-43192-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/43191/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="16xjwAKYSVhRPm8u4gEGUljkiVYGiHgB"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>