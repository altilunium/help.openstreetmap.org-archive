<meta charset="UTF-8"><link rel="stylesheet" type="text/css" href="../style.css"><div id="CALeft">
<div class="headNormal">
<h1><a href="/questions/76339/find-the-boundary-streets-of-a-suburb">Find the boundary streets of a suburb</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/76339/up/" id="post-76339-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-76339-score" title="current number of votes">
    1
</div>
<a class="ajax-command post-vote down" href="/vote/76339/down/" id="post-76339-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/76339/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>A simple query can find the streets inside the boundary of a suburb.</p>
<p>[out:csv("name";false)]
[bbox:-33.9480172,151.1107534,-33.8594833,151.2207935];
area[name="Beaconsfield"];
way(area)[highway][name];
out;</p>
<p>Beaconsfield Lane,
Collins Street,
Connolly Lane,
McConville Lane,
O'Connor Lane,
Queen Street,
Reserve Street,
Victoria Lane,
Victoria Street</p>
<p>In areas (cities) with multiple suburbs, the boundaries are usually streets and these are not included in queries for finding streets in suburbs. Their presence may be only visible by looking at a map or making a query via a bounding box or by making a boundary query as below.</p>
<p>Such streets can thus be listed in queries such as:
[out:json][timeout:25]
[bbox:-33.9480172,151.1107534,-33.8594833,151.2207935];
rel[name=Beaconsfield];
(._;&gt;;);
out;</p>
<p>The streets are readily extracted from the complex output with a simple bash script.
However, how can the above Overpass query be modifed/extended/replaced to just supply the streets on the boundary of the suburb without resorting to bash scripts? - 
Beaconsfield Street,
Botany Road,
Johnson Street,
O'Riordan Street,
Reserve Street,
William Street</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-suburbs" href="/tags/suburbs/" rel="tag" title="see questions tagged 'suburbs'">suburbs</a>
<a class="post-tag tag-link-boundary" href="/tags/boundary/" rel="tag" title="see questions tagged 'boundary'">boundary</a>
<a class="post-tag tag-link-streets" href="/tags/streets/" rel="tag" title="see questions tagged 'streets'">streets</a>
<a class="post-tag tag-link-boundary_streets" href="/tags/boundary_streets/" rel="tag" title="see questions tagged 'boundary_streets'">boundary_streets</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>28 Aug '20, 14:15</strong>
</p>
<img alt="rorylila's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/c5e89b8b037b23165056f8722eb83dd2?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/14455/rorylila">rorylila</a><br/>
<span class="score" title="41 reputation points">41</span><span title="4 badges"><span class="badge1">●</span><span class="badgecount">4</span></span><span title="4 badges"><span class="silver">●</span><span class="badgecount">4</span></span><span title="6 badges"><span class="bronze">●</span><span class="badgecount">6</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="rorylila has no accepted answers">0%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-76339">
<a name="76342"></a>
<div class="comment" id="comment-76342">
<div class="comment-score" id="post-76342-score"></div>
<div class="comment-text"><p>I think if you try the first part on areas with named paths it will probably return the path names too. </p>
<p>But then I've always recoiled in horror whenever I've tried to look at the Overpass documentation, so you probably shouldn't listen to me.</p></div>
<div class="comment-info" id="comment-76342-info">
<span class="comment-age">(28 Aug '20, 17:32)</span>
<a class="comment-user userinfo" href="/users/4426/insertuser">InsertUser</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-76339">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-76339-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    2 Answers:
                    </div>
<div class="tabsA"><a href="/questions/76339/find-the-boundary-streets-of-a-suburb?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/76339/find-the-boundary-streets-of-a-suburb?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/76339/find-the-boundary-streets-of-a-suburb?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/76339/find-the-boundary-streets-of-a-suburb?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="76345"></a>
<div class="answer" id="answer-container-76345">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/76345/up/" id="post-76345-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-76345-score" title="current number of votes">
    1
</div>
<a class="ajax-command post-vote down" href="/vote/76345/down/" id="post-76345-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>The first bit of code in your output repeats some names as some of the ways are split in several places. Assuming this is OK, then a bit of experimentation gives a modification of your second snippet to:</p>
<p><code>[out:csv("name";false)][timeout:25] [bbox:-33.9480172,151.1107534,-33.8594833,151.2207935];
rel[name=Beaconsfield];
(._;&gt;;); 
way._;
out;</code> </p>
<p>I think this would also return the names of rivers or streams that are used as boundaries, so an additional filter may be required if you're planning on looking at other suburbs too. It also won't be useful if for some reason one of the boundary lines is actually an independent way that happens to share nodes with a road etc.</p>
<p>To get both the outer and inner ways in one go: </p>
<p><code>[out:csv("name";false)] [bbox:-33.9480172,151.1107534,-33.8594833,151.2207935];
area[name="Beaconsfield"];
way(area)[highway][name] -&gt; .b; 
rel[name=Beaconsfield] -&gt; .a;
(.a &gt;; .a ; .b; .b &gt; ; )-&gt; ._;
way._;
out;</code></p>
<p>Again, this has the same repetition where ways are split, so depending on your use case you may need to use a script to clean up the output anyway. </p>
<p>The above snippets were cobbled together from your question and the information <a href="https://wiki.openstreetmap.org/wiki/Overpass_API/Overpass_QL">here</a>. There's probably a much more elegant way to do this that I'm unaware of. </p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/76345/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>29 Aug '20, 00:39</strong>
</p>
<img alt="InsertUser's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/ec8a0cf213f9797ad1c1ae2c28c2332d?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/4426/insertuser">InsertUser</a><br/>
<span class="score" title="11005 reputation points"><span class="">11.0k</span></span><span title="13 badges"><span class="badge1">●</span><span class="badgecount">13</span></span><span title="69 badges"><span class="silver">●</span><span class="badgecount">69</span></span><span title="185 badges"><span class="bronze">●</span><span class="badgecount">185</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="InsertUser has 73 accepted answers">19%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/76345/">
                edited
                <strong>29 Aug '20, 00:40</strong>
</a>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-76345">
<a name="76346"></a>
<div class="comment" id="comment-76346">
<div class="comment-score" id="post-76346-score"></div>
<div class="comment-text"><p>Thanks for the help.
a) I do want to use the query over many suburbs. I do this already to find streets within suburb boundaries but that omits boundary streets.
b) The second suggestion introduces unwanted streets from inside the boundary.
c) Rivers etc should be able to be avoided by somehow using `highway' attributes as part of the query.  Unfortunately, I am 'unskilled' and to me, the documentation is still quite opaque.</p></div>
<div class="comment-info" id="comment-76346-info">
<span class="comment-age">(29 Aug '20, 08:40)</span>
<a class="comment-user userinfo" href="/users/14455/rorylila">rorylila</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-76345">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-76345-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="76347"></a>
<div class="answer answered-by-owner" id="answer-container-76347">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/76347/up/" id="post-76347-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-76347-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/76347/down/" id="post-76347-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>The following seems to produce reasonably 'clean' output but still needs
a bash sort. I guess there is no way around that.
The admin_level is introduced because there are at least two overlapping administrative boundaries in the area of concern with the same name (Sydney) but different admin_levels.
Highway is introduced to hopefully ignore other types of boundaries - rivers have been suggested.That is yet to be tested.</p>
<p>Script:</p>
<p>[out:csv("name";"false")]
[bbox:-33.9480172,151.1107534,-33.8594833,151.2207935];
rel[name=Beaconsfield]
[boundary=administrative]
[admin_level=10];
(.<em>;&gt;;);
way.</em>[highway][name];
out;</p>
<p>Beaconsfield Street
William Street
Johnson Street
Botany Road
Botany Road
Botany Road
Botany Road
Botany Road
O'Riordan Street
Reserve Street</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/76347/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>29 Aug '20, 09:48</strong>
</p>
<img alt="rorylila's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/c5e89b8b037b23165056f8722eb83dd2?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/14455/rorylila">rorylila</a><br/>
<span class="score" title="41 reputation points">41</span><span title="4 badges"><span class="badge1">●</span><span class="badgecount">4</span></span><span title="4 badges"><span class="silver">●</span><span class="badgecount">4</span></span><span title="6 badges"><span class="bronze">●</span><span class="badgecount">6</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="rorylila has no accepted answers">0%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-76347">
</div>
<div class="comment-tools" id="comment-tools-76347">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-76347-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/76339/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="dLR4kCCnEhgTDzGxN5RpyyzKhpU450UH"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>