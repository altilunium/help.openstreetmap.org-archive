<meta charset="UTF-8"><link rel="stylesheet" type="text/css" href="../style.css"><div id="CALeft">
<div class="headNormal">
<h1><a href="/questions/3646/extracting-country-specific-data">Extracting country specific data.</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/3646/up/" id="post-3646-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-3646-score" title="current number of votes">
    3
</div>
<a class="ajax-command post-vote down" href="/vote/3646/down/" id="post-3646-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/3646/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
   1
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>Hi,</p>
<p>Is there any way to extract nodes from only a certain country.</p>
<p>I've used XAPI to do this but that uses a bounding box [bbox]. This is OK but suppose I only want nodes from the UK and not the Republic of Ireland. In this case the square bbox will inevitably rope in Republic of Ireland nodes when I only want UK nodes beacuse in order to get the whole of the UK the box will also cover Ireland.</p>
<p>I see that there is a download location where I can download country specific datasets:
<a href="http://download.geofabrik.de/osm/europe/"></a><a href="http://download.geofabrik.de/osm/europe/"></a><a href="http://download.geofabrik.de/osm/europe/">http://download.geofabrik.de/osm/europe/</a></p>
<p>But I'm assuming that they have just collected the data using a bbox as well.</p>
<p>Thanks
C</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-xapi" href="/tags/xapi/" rel="tag" title="see questions tagged 'xapi'">xapi</a>
<a class="post-tag tag-link-extract" href="/tags/extract/" rel="tag" title="see questions tagged 'extract'">extract</a>
<a class="post-tag tag-link-bbox" href="/tags/bbox/" rel="tag" title="see questions tagged 'bbox'">bbox</a>
<a class="post-tag tag-link-country" href="/tags/country/" rel="tag" title="see questions tagged 'country'">country</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>09 Mar '11, 09:57</strong>
</p>
<img alt="columboid's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/1666f93738e1ffd71792709a8d206764?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/985/columboid">columboid</a><br/>
<span class="score" title="51 reputation points">51</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">●</span><span class="badgecount">1</span></span><span title="4 badges"><span class="bronze">●</span><span class="badgecount">4</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="columboid has no accepted answers">0%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-3646">
<a name="3647"></a>
<div class="comment" id="comment-3647">
<div class="comment-score" id="post-3647-score">-2</div>
<div class="comment-text"><p>Always try before assuming :)</p></div>
<div class="comment-info" id="comment-3647-info">
<span class="comment-age">(09 Mar '11, 10:51)</span>
<a class="comment-user userinfo" href="/users/118/breki">Breki</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-3646">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-3646-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    2 Answers:
                    </div>
<div class="tabsA"><a href="/questions/3646/extracting-country-specific-data?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/3646/extracting-country-specific-data?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/3646/extracting-country-specific-data?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/3646/extracting-country-specific-data?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="3649"></a>
<div class="answer accepted-answer" id="answer-container-3649">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/3649/up/" id="post-3649-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-3649-score" title="current number of votes">
    3
</div>
<a class="ajax-command post-vote down" href="/vote/3649/down/" id="post-3649-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="accept-answer on" href="/accept_answer/3649/" rel="nofollow" title="columboid has selected this answer as the correct answer">
</a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>The Geofabrik extracts do not use a simple rectangular bounding box. Instead they use a polygon, which follows the country borders fairly closely. So if for example you download the England extract, it will just contain England, and none of the surrounding bits of Scotland/Wales/Ireland etc.</p>
<p>Though you say you just want the UK, which it seems Geofabrik do not provide an extract for. They just have extracts for "Great Britain", "Ireland" and "British Isles". So to get all of the UK, you could download the British Isles extract, then use Osmosis to extract just the UK part using a polygon filter.</p>
<p>Or Cloudmade provide <a href="http://downloads.cloudmade.com/europe/united_kingdom">UK extracts</a>, though I'm not sure how closely they follow the Northern Ireland border.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/3649/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>09 Mar '11, 15:15</strong>
</p>
<img alt="Vclaw's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/aa505c046b1c010e997a7849c6f3dbbe?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/62/vclaw">Vclaw</a><br/>
<span class="score" title="9217 reputation points"><span class="">9.2k</span></span><span title="8 badges"><span class="badge1">●</span><span class="badgecount">8</span></span><span title="95 badges"><span class="silver">●</span><span class="badgecount">95</span></span><span title="141 badges"><span class="bronze">●</span><span class="badgecount">141</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Vclaw has 41 accepted answers">22%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-3649">
<a name="3650"></a>
<div class="comment" id="comment-3650">
<div class="comment-score" id="post-3650-score"></div>
<div class="comment-text"><p>Thanks Vclaw and gnurk, that is most useful. That's plenty for me to read up on and it sounds like the answer is in there. Thanks for your help.</p></div>
<div class="comment-info" id="comment-3650-info">
<span class="comment-age">(09 Mar '11, 15:31)</span>
<a class="comment-user userinfo" href="/users/985/columboid">columboid</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-3649">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-3649-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="3648"></a>
<div class="answer" id="answer-container-3648">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/3648/up/" id="post-3648-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-3648-score" title="current number of votes">
    4
</div>
<a class="ajax-command post-vote down" href="/vote/3648/down/" id="post-3648-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>Smaller non-rectangular areas, like cities, can be extracted using the methods described in <a href="http://78.46.81.38/#chapter.use_cases">OSM Server Side Script</a>.</p>
<p>In order to extract big areas, like a whole country, you may download a <a href="http://wiki.openstreetmap.org/wiki/Planet">planet</a> file, or a part of a planet file, and then use Osmosis <a href="http://wiki.openstreetmap.org/wiki/Osmosis/Polygon_Filter_File_Format">Polygon Filter File Format</a>.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/3648/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>09 Mar '11, 11:11</strong>
</p>
<img alt="gnurk's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/c2a980da3fdfa1ee2659ad70d1e21f31?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/652/gnurk">gnurk</a><br/>
<span class="score" title="6114 reputation points"><span class="">6.1k</span></span><span title="10 badges"><span class="badge1">●</span><span class="badgecount">10</span></span><span title="60 badges"><span class="silver">●</span><span class="badgecount">60</span></span><span title="96 badges"><span class="bronze">●</span><span class="badgecount">96</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="gnurk has 18 accepted answers">15%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-3648">
</div>
<div class="comment-tools" id="comment-tools-3648">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-3648-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/3646/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="HKuHiKFmWEQ5hT8QFoRT7JdN03uAEKsh"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>