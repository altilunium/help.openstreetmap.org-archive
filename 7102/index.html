<meta charset="UTF-8"><link rel="stylesheet" type="text/css" href="../style.css"><div id="CALeft">
<div class="headNormal">
<h1><a href="/questions/7102/merging-duplicate-ways-river">Merging duplicate ways (river)</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/7102/up/" id="post-7102-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-7102-score" title="current number of votes">
    2
</div>
<a class="ajax-command post-vote down" href="/vote/7102/down/" id="post-7102-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/7102/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>River <a href="http://en.wikipedia.org/wiki/S%C3%A1zava_(river)">Sázava</a> (cz) is mapped twice (<a href="http://www.openstreetmap.org/?lat=49.6288&amp;lon=15.49187&amp;zoom=17">see example</a>). According to the source tag one is an import from some database of waters, the second one has been created manually.<br/>
What is the best approach to merge these two rivers into one - preserving tags from both?</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-duplicate" href="/tags/duplicate/" rel="tag" title="see questions tagged 'duplicate'">duplicate</a>
<a class="post-tag tag-link-river" href="/tags/river/" rel="tag" title="see questions tagged 'river'">river</a>
<a class="post-tag tag-link-merging" href="/tags/merging/" rel="tag" title="see questions tagged 'merging'">merging</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>15 Aug '11, 19:34</strong>
</p>
<img alt="LM_1's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/15c1efc9ebb466f69907a3e85693e739?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/1619/lm_1">LM_1</a><br>
<span class="score" title="3287 reputation points"><span class="">3.3k</span></span><span title="33 badges"><span class="badge1">●</span><span class="badgecount">33</span></span><span title="51 badges"><span class="silver">●</span><span class="badgecount">51</span></span><span title="88 badges"><span class="bronze">●</span><span class="badgecount">88</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="LM_1 has 7 accepted answers">10%</span>
</br></p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/7102/">
                edited
                <strong>15 Aug '11, 20:07</strong>
</a>
</p>
<img alt="scai's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/52d3234f3be58156770e8a91d575bfbd?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/158/scai">scai ♦</a><br/>
<span class="score" title="33317 reputation points"><span class="">33.3k</span></span><span title="21 badges"><span class="badge1">●</span><span class="badgecount">21</span></span><span title="309 badges"><span class="silver">●</span><span class="badgecount">309</span></span><span title="459 badges"><span class="bronze">●</span><span class="badgecount">459</span></span></p>
</div>
</div>
<div class="comments-container" id="comments-container-7102">
<a name="8292"></a>
<div class="comment" id="comment-8292">
<div class="comment-score" id="post-8292-score">1</div>
<div class="comment-text"><p>I can imagine quite easily how this duplicity emerged. Also I have no doubt it should be removed.<br/>
The question how to merge the two ways with possibly minmal effort and maximal precision. What tools and procedures to use.<br/>
Not what to do, but how to do it.</p></div>
<div class="comment-info" id="comment-8292-info">
<span class="comment-age">(04 Oct '11, 22:36)</span>
<a class="comment-user userinfo" href="/users/1619/lm_1">LM_1</a>
</div>
</div>
<a name="8328"></a>
<div class="comment" id="comment-8328">
<div class="comment-score" id="post-8328-score">1</div>
<div class="comment-text"><p>I think there is no better way of merging than simply manually by hand in a visual editor. Sure it is a painfull task and that is why still many duplicates remain. I think the tasks to do would be:</p>
<ul>
<li>check correct position against ortophoto or another usable source</li>
<li>reconnect the tributaries from one river body to another if neccessary</li>
</ul>
<p>I think both of these are hard to "automate", if this is what you ask for.</p></div>
<div class="comment-info" id="comment-8328-info">
<span class="comment-age">(06 Oct '11, 10:33)</span>
<a class="comment-user userinfo" href="/users/237/kozuch">Kozuch</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-7102">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-7102-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    2 Answers:
                    </div>
<div class="tabsA"><a href="/questions/7102/merging-duplicate-ways-river?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/7102/merging-duplicate-ways-river?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/7102/merging-duplicate-ways-river?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/7102/merging-duplicate-ways-river?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="7119"></a>
<div class="answer" id="answer-container-7119">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/7119/up/" id="post-7119-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-7119-score" title="current number of votes">
    5
</div>
<a class="ajax-command post-vote down" href="/vote/7119/down/" id="post-7119-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>First, you should check creation dates of the duplicated elements and blame the author who created the duplication without clean-up. If the duplicated data is coming from the external data import, then you should consider the import itself and possibly revert it when it is not done in the state of the art (see our wiki about <a href="http://wiki.openstreetmap.org/wiki/Import">imports</a>) (perhaps the import was decided in this way and conflicts are solved manually by local contributors, check this point with your local community first). </p>
<p>If you consider that the amount of duplicates is manageable and the imported data is valuable, then you have to decide case by case which of the duplicated way you want to keep and which one will be deleted:</p>
<p>In the <a href="http://www.openstreetmap.org/?lat=49.6288&amp;lon=15.49187&amp;zoom=17">example you are pointing</a> for instance, the imported  waterway is qualified as a 'stream' and 'name' is missing where the manually surveyed version says it is a 'river', 'width' is '20' meters and the 'name' is present. Based on this example, I would say that the imported data quality is very poor (name missing), badly managed (they did not check for duplicates) and use wrong tags (20 meters wide waterway is a 'river', not a 'stream'). .</p>
<p>In your position, I would check other examples of this imported data and revert it globally if there is no real added value but this should be done only after some discussion and consensus inside your local OSM community.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/7119/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>16 Aug '11, 14:54</strong>
</p>
<img alt="Pieren's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/0e92f2d89853fd4e04c4b40a921e519b?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/87/pieren">Pieren</a><br>
<span class="score" title="9847 reputation points"><span class="">9.8k</span></span><span title="20 badges"><span class="badge1">●</span><span class="badgecount">20</span></span><span title="83 badges"><span class="silver">●</span><span class="badgecount">83</span></span><span title="157 badges"><span class="bronze">●</span><span class="badgecount">157</span></span><br>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Pieren has 34 accepted answers">15%</span>
</br></br></p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/7119/">
                edited
                <strong>16 Aug '11, 15:01</strong>
</a>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-7119">
</div>
<div class="comment-tools" id="comment-tools-7119">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-7119-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="8290"></a>
<div class="answer" id="answer-container-8290">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/8290/up/" id="post-8290-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-8290-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/8290/down/" id="post-8290-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>One of the rivers is most likely a result of a local Czech <a href="http://wiki.openstreetmap.org/wiki/CS:Import_DIBAVOD">DIBAVOD</a> water import. DIBAVOD was donated by Czech government and I think the reason it was imported is because it contained a lot of water data that was still not present in OSM (like smaller streams etc.). While I do not know the import history by detail I think the "value" of new data was considered to be greater than the work planned to be spent on resolving conflicts.</p>
<p>Since this is a bigger river you definitely should check it against UHUL ortophoto (in JOSM for instance) layer to see what the reality is and correct the map data. There still is lot of dupliates from DIBAVOD in general so if you can help to sort these out that would be great.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/8290/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>04 Oct '11, 21:15</strong>
</p>
<img alt="Kozuch's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/7d327873d48d28e563c9ad7259853c35?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/237/kozuch">Kozuch</a><br/>
<span class="score" title="1720 reputation points"><span class="">1.7k</span></span><span title="58 badges"><span class="badge1">●</span><span class="badgecount">58</span></span><span title="72 badges"><span class="silver">●</span><span class="badgecount">72</span></span><span title="85 badges"><span class="bronze">●</span><span class="badgecount">85</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Kozuch has one accepted answer">8%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-8290">
</div>
<div class="comment-tools" id="comment-tools-8290">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-8290-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/7102/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="cYa7N9wm6V8DVftaszQ4YotipsiPQEUY"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>