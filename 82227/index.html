<meta charset="utf-8"/><link href="../style.css" rel="stylesheet" type="text/css"/><div id="CALeft"><center><a href="../"><img id="ll" src="https://help.openstreetmap.org/upfiles/osm_help_logo_6.png"/></a></center>
<div class="headNormal">
<h1><a href="/questions/82227/shapefile-install-fails-on-module-yaml-missing-error">shapefile install fails on module yaml missing error</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/82227/up/" id="post-82227-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-82227-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/82227/down/" id="post-82227-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/82227/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>Hello,
I try to setup a tile server with this tutorial: <a href="https://switch2osm.org/serving-tiles/manually-building-a-tile-server-20-04-lts/.">https://switch2osm.org/serving-tiles/manually-building-a-tile-server-20-04-lts/.</a> The process can not be continued at SHAPEFILE DOWNLOAD, because module YAML is missing. I´m not familiar with python, what can I do? Error hits here:</p>
<pre><code>scripts/get-external-data.py
</code></pre>
<p>Thx and Regards</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-python" href="/tags/python/" rel="tag" title="see questions tagged 'python'">python</a>
<a class="post-tag tag-link-shapefile" href="/tags/shapefile/" rel="tag" title="see questions tagged 'shapefile'">shapefile</a>
<a class="post-tag tag-link-tileserver" href="/tags/tileserver/" rel="tag" title="see questions tagged 'tileserver'">tileserver</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>19 Oct '21, 00:20</strong>
</p>
<img alt="Dom771013's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/2ee56dffff70eb5c464e336817ac08a5?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/20922/dom771013">Dom771013</a><br/>
<span class="score" title="61 reputation points">61</span><span title="3 badges"><span class="badge1">●</span><span class="badgecount">3</span></span><span title="3 badges"><span class="silver">●</span><span class="badgecount">3</span></span><span title="6 badges"><span class="bronze">●</span><span class="badgecount">6</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Dom771013 has no accepted answers">0%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-82227">
<a name="82236"></a>
<div class="comment" id="comment-82236">
<div class="comment-score" id="post-82236-score">1</div>
<div class="comment-text"><p>Could you provide a full output of the error?</p></div>
<div class="comment-info" id="comment-82236-info">
<span class="comment-age">(19 Oct '21, 08:24)</span>
<a class="comment-user userinfo" href="/users/15564/marcos-dione">Marcos Dione</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-82227">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-82227-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    3 Answers:
                    </div>
<div class="tabsA"><a href="/questions/82227/shapefile-install-fails-on-module-yaml-missing-error?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/82227/shapefile-install-fails-on-module-yaml-missing-error?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/82227/shapefile-install-fails-on-module-yaml-missing-error?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/82227/shapefile-install-fails-on-module-yaml-missing-error?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="82235"></a>
<div class="answer" id="answer-container-82235">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/82235/up/" id="post-82235-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-82235-score" title="current number of votes">
    1
</div>
<a class="ajax-command post-vote down" href="/vote/82235/down/" id="post-82235-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>You should be able to install a system wide version with <code>sudo apt install python3-yaml</code>.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/82235/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>19 Oct '21, 08:23</strong>
</p>
<img alt="Marcos%20Dione's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/e4587465b2b1b94834e5e625b80a29dd?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/15564/marcos-dione">Marcos Dione</a><br/>
<span class="score" title="71 reputation points">71</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">●</span><span class="badgecount">1</span></span><span title="3 badges"><span class="bronze">●</span><span class="badgecount">3</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Marcos Dione has no accepted answers">0%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-82235">
<a name="82237"></a>
<div class="comment" id="comment-82237">
<div class="comment-score" id="post-82237-score"></div>
<div class="comment-text"><p>I've updated <a href="https://switch2osm.org/serving-tiles/manually-building-a-tile-server-20-04-lts/">https://switch2osm.org/serving-tiles/manually-building-a-tile-server-20-04-lts/</a> to include python3-yaml .  It was present in the Debian 11 guide but not the Ubuntu 20.04 one.</p>
<p>What software is needed changed as what's packaged in various OSes, and also in things like OSM Carto itself, change ver time.</p></div>
<div class="comment-info" id="comment-82237-info">
<span class="comment-age">(19 Oct '21, 09:29)</span>
<a class="comment-user userinfo" href="/users/387/someoneelse">SomeoneElse ♦</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-82235">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-82235-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="82234"></a>
<div class="answer answered-by-owner" id="answer-container-82234">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/82234/up/" id="post-82234-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-82234-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/82234/down/" id="post-82234-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>I also tried to install YAML by: /usr/bin/python -m pip install pyyaml</p>
<p>I found that here (last post): <a href="https://github.com/yaml/pyyaml/issues/291">https://github.com/yaml/pyyaml/issues/291</a></p>
<p>So PIP seems also not beeing installed. What went wrong? I missed no line of the tutorial.</p>
<p>Regards </p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/82234/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>19 Oct '21, 07:24</strong>
</p>
<img alt="Dom771013's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/2ee56dffff70eb5c464e336817ac08a5?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/20922/dom771013">Dom771013</a><br/>
<span class="score" title="61 reputation points">61</span><span title="3 badges"><span class="badge1">●</span><span class="badgecount">3</span></span><span title="3 badges"><span class="silver">●</span><span class="badgecount">3</span></span><span title="6 badges"><span class="bronze">●</span><span class="badgecount">6</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Dom771013 has no accepted answers">0%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-82234">
<a name="82238"></a>
<div class="comment" id="comment-82238">
<div class="comment-score" id="post-82238-score"></div>
<div class="comment-text"><blockquote>
<p>I missed no line of the tutorial.</p>
</blockquote>
<p>No, you didn't.  A dependency (that wasn't previously needed but now is) was missing.  I've added it at <a href="https://github.com/switch2osm/switch2osm.github.io/pull/170">https://github.com/switch2osm/switch2osm.github.io/pull/170</a> .</p>
<p>The switch2osm guides use the package manager in your OS where possible, in this case Ubuntu's "apt".  These days every 2-bit language has at least one package manager (python has "pip" and "cpan", node.js has "npm" and "yarn").  These guides don't use those but instead uses packages bundled (and tested) by Ubuntu.</p></div>
<div class="comment-info" id="comment-82238-info">
<span class="comment-age">(19 Oct '21, 09:35)</span>
<a class="comment-user userinfo" href="/users/387/someoneelse">SomeoneElse ♦</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-82234">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-82234-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="82241"></a>
<div class="answer answered-by-owner" id="answer-container-82241">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/82241/up/" id="post-82241-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-82241-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/82241/down/" id="post-82241-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>I solved this my manually adding pip3 and after that by additionally install of pyyaml and requests. The card works now as expected. Thx</p>
<pre><code>sudo apt install python3-pip
/usr/bin/python3 -m pip install pyyaml
/usr/bin/python3 -m pip install requests
/usr/bin/python3 -c 'import yaml'
</code></pre>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/82241/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>19 Oct '21, 10:07</strong>
</p>
<img alt="Dom771013's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/2ee56dffff70eb5c464e336817ac08a5?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/20922/dom771013">Dom771013</a><br/>
<span class="score" title="61 reputation points">61</span><span title="3 badges"><span class="badge1">●</span><span class="badgecount">3</span></span><span title="3 badges"><span class="silver">●</span><span class="badgecount">3</span></span><span title="6 badges"><span class="bronze">●</span><span class="badgecount">6</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Dom771013 has no accepted answers">0%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/82241/">
                edited
                <strong>19 Oct '21, 10:12</strong>
</a>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-82241">
</div>
<div class="comment-tools" id="comment-tools-82241">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-82241-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/82227/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="AIuwiyuskKcYsRuo1Wgyv1TThK8z9Hlc"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>