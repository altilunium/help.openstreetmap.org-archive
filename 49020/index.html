<meta charset="UTF-8"><link rel="stylesheet" type="text/css" href="../style.css"><div id="CALeft">
<div class="headNormal">
<h1><a href="/questions/49020/how-to-investigate-missing-amenities">How to investigate missing amenities?</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/49020/up/" id="post-49020-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-49020-score" title="current number of votes">
    4
</div>
<a class="ajax-command post-vote down" href="/vote/49020/down/" id="post-49020-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/49020/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
   1
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>Hello,</p>
<p>Several months (maybe an year?) ago I had thoroughly mapped an area. Now as I check it, all the amenities are missing. It was a square with pharmacies, shops, banks, marketplace, parkings - various stuff.</p>
<p><code>highway</code> ways are intact, but maybe about 20 tagged nodes and polygons are gone. I tried looking at the <a href="http://www.openstreetmap.org/history#map=19/42.15083/24.74497">history</a>, but it is full of bogus edits that have nothing to do with my area. It shows worldwide changesets that happen to contain my area as well and it is not usable at all.</p>
<p>How can I proceed to find out what happened to all the stuff there?</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-data" href="/tags/data/" rel="tag" title="see questions tagged 'data'">data</a>
<a class="post-tag tag-link-history" href="/tags/history/" rel="tag" title="see questions tagged 'history'">history</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>04 Apr '16, 17:51</strong>
</p>
<img alt="ivanatora's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/ca446edd75e87c48db5dd850d9f394a9?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/191/ivanatora">ivanatora</a><br/>
<span class="score" title="2740 reputation points"><span class="">2.7k</span></span><span title="35 badges"><span class="badge1">●</span><span class="badgecount">35</span></span><span title="55 badges"><span class="silver">●</span><span class="badgecount">55</span></span><span title="68 badges"><span class="bronze">●</span><span class="badgecount">68</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="ivanatora has one accepted answer">7%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/49020/">
                edited
                <strong>04 Apr '16, 17:52</strong>
</a>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-49020">
</div>
<div class="comment-tools" id="comment-tools-49020">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-49020-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    3 Answers:
                    </div>
<div class="tabsA"><a href="/questions/49020/how-to-investigate-missing-amenities?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/49020/how-to-investigate-missing-amenities?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/49020/how-to-investigate-missing-amenities?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/49020/how-to-investigate-missing-amenities?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="49027"></a>
<div class="answer accepted-answer" id="answer-container-49027">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/49027/up/" id="post-49027-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-49027-score" title="current number of votes">
    6
</div>
<a class="ajax-command post-vote down" href="/vote/49027/down/" id="post-49027-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="accept-answer on" href="/accept_answer/49027/" rel="nofollow" title="ivanatora has selected this answer as the correct answer">
</a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>Overpass API has some features for restricting queries based on date and time:</p>
<p><a href="http://wiki.openstreetmap.org/wiki/Overpass_API/Overpass_QL#Attic_data_.28.22date.22.29">http://wiki.openstreetmap.org/wiki/Overpass_API/Overpass_QL#Attic_data_.28.22date.22.29</a></p>
<p>Here's an example showing amenities that existed on a given date:</p>
<p><a href="http://overpass-turbo.eu/s/fsj">http://overpass-turbo.eu/s/fsj</a></p>
<p>And another showing items that were edited during a period of time:</p>
<p><a href="http://overpass-turbo.eu/s/fso">http://overpass-turbo.eu/s/fso</a></p>
<p>Edit: The examples queries above only specify the date. As explained further in the comments below, to get correct results it is necessary to specify the date and time, like "2015-01-01T06:55:00Z".</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/49027/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>04 Apr '16, 19:57</strong>
</p>
<img alt="maxerickson's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/c860445e868ebb21da141635a4aa7b06?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/10973/maxerickson">maxerickson</a><br/>
<span class="score" title="12700 reputation points"><span class="">12.7k</span></span><span title="10 badges"><span class="badge1">●</span><span class="badgecount">10</span></span><span title="83 badges"><span class="silver">●</span><span class="badgecount">83</span></span><span title="176 badges"><span class="bronze">●</span><span class="badgecount">176</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="maxerickson has 93 accepted answers">32%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/49027/">
                edited
                <strong>06 Apr '16, 16:54</strong>
</a>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-49027">
<a name="49028"></a>
<div class="comment" id="comment-49028">
<div class="comment-score" id="post-49028-score"></div>
<div class="comment-text"><p>wow, that's cool!  sadly turbo is not working since some days :(  Firefox' console shows a blocked cross-origin request to the interpreter. Not for you? hmm...</p></div>
<div class="comment-info" id="comment-49028-info">
<span class="comment-age">(04 Apr '16, 20:39)</span>
<a class="comment-user userinfo" href="/users/5179/aseerel4c26">aseerel4c26 ♦</a>
</div>
</div>
<a name="49029"></a>
<div class="comment" id="comment-49029">
<div class="comment-score" id="post-49029-score">1</div>
<div class="comment-text"><p><a href="http://help.openstreetmap.org/users/5179/aseerel4c26">@aseerel4c26</a> Sounds like a bug at your end - <a href="http://overpass-turbo.eu/s/fsj">http://overpass-turbo.eu/s/fsj</a> works for me in Firefox, Chrome and Seamonkey (all Windows 7).</p></div>
<div class="comment-info" id="comment-49029-info">
<span class="comment-age">(04 Apr '16, 21:02)</span>
<a class="comment-user userinfo" href="/users/387/someoneelse">SomeoneElse ♦</a>
</div>
</div>
<a name="49030"></a>
<div class="comment" id="comment-49030">
<div class="comment-score" id="post-49030-score">1</div>
<div class="comment-text"><p><a href="http://help.openstreetmap.org/users/387/someoneelse">@SomeoneElse</a>: Ah, thanks! I digged a bit deeper: The request was made to <a href="http://overpass-api.de">http://overpass-api.de</a> and was rewritten to <a href="https://overpass-api.de">https://overpass-api.de</a> by a browser plugin. Either some plugin is not working correctly with another one, or... whatever.  Opening overpass-turbo via https fixes the issue. :)  If you think this is not useful for others, please delete my comments.</p></div>
<div class="comment-info" id="comment-49030-info">
<span class="comment-age">(04 Apr '16, 21:22)</span>
<a class="comment-user userinfo" href="/users/5179/aseerel4c26">aseerel4c26 ♦</a>
</div>
</div>
<a name="49038"></a>
<div class="comment not_top_scorer" id="comment-49038">
<div class="comment-score" id="post-49038-score"></div>
<div class="comment-text"><p>Is this really working? Because, I'm trying this <a href="http://overpass-turbo.eu/s/ftx">http://overpass-turbo.eu/s/ftx</a> with date 2015-01-01 and it returns amenities I've created yesterday.</p></div>
<div class="comment-info" id="comment-49038-info">
<span class="comment-age">(05 Apr '16, 14:49)</span>
<a class="comment-user userinfo" href="/users/191/ivanatora">ivanatora</a>
</div>
</div>
<a name="49039"></a>
<div class="comment not_top_scorer" id="comment-49039">
<div class="comment-score" id="post-49039-score"></div>
<div class="comment-text"><p>For me that query returns exactly three things, all created before 2015-01-01.  Look at what's highlighted at the right, not at the data on the map tiles...</p></div>
<div class="comment-info" id="comment-49039-info">
<span class="comment-age">(05 Apr '16, 14:52)</span>
<a class="comment-user userinfo" href="/users/387/someoneelse">SomeoneElse ♦</a>
</div>
</div>
<a name="49041"></a>
<div class="comment" id="comment-49041">
<div class="comment-score" id="post-49041-score">3</div>
<div class="comment-text"><p>Apparently my assumption that the date alone is sufficient is incorrect. Using date:"2015-01-01T06:55:00Z" omits the banks created yesterday, the date alone includes them.</p></div>
<div class="comment-info" id="comment-49041-info">
<span class="comment-age">(05 Apr '16, 15:15)</span>
<a class="comment-user userinfo" href="/users/10973/maxerickson">maxerickson</a>
</div>
</div>
<a name="49046"></a>
<div class="comment not_top_scorer" id="comment-49046">
<div class="comment-score" id="post-49046-score"></div>
<div class="comment-text"><p>Yeah, adding an hour seems to filter the list a bit. But still, it returns seemingly odd data. For example I get that node 2147630318 that originates from this changeset 14966325 that is closed at 2013-02-09. How exactly does the <code>date</code> parameter works in Overpass API? Is it documented somewhere?</p></div>
<div class="comment-info" id="comment-49046-info">
<span class="comment-age">(05 Apr '16, 16:32)</span>
<a class="comment-user userinfo" href="/users/191/ivanatora">ivanatora</a>
</div>
</div>
<a name="49047"></a>
<div class="comment not_top_scorer" id="comment-49047">
<div class="comment-score" id="post-49047-score"></div>
<div class="comment-text"><p><a href="http://help.openstreetmap.org/users/387/someoneelse">@SomeoneElse</a> I've got a lot of highlights from that query, not just 3 things. And I really see those were returned in the Data tab. Adding hour and time to the query seems to filter the query to those 3 items you see. It is curious why did the same query returned different data for you and for me.</p></div>
<div class="comment-info" id="comment-49047-info">
<span class="comment-age">(05 Apr '16, 16:35)</span>
<a class="comment-user userinfo" href="/users/191/ivanatora">ivanatora</a>
</div>
</div>
<a name="49048"></a>
<div class="comment" id="comment-49048">
<div class="comment-score" id="post-49048-score">1</div>
<div class="comment-text"><p>It's documented at the link above. Beyond that, the source code.</p>
<p>Showing something from 2013 matches my expectations, the date query shows the results of querying the OSM database as it existed on the date in question. Use diff/adiff to see the changes that occurred over a chosen period of time.</p></div>
<div class="comment-info" id="comment-49048-info">
<span class="comment-age">(05 Apr '16, 16:51)</span>
<a class="comment-user userinfo" href="/users/10973/maxerickson">maxerickson</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-49027">
<span class="comments-showing">
            showing 5 of 9
        </span>
<a class="show-all-comments-link" href="#">show 4 more comments</a>
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-49027-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="49022"></a>
<div class="answer" id="answer-container-49022">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/49022/up/" id="post-49022-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-49022-score" title="current number of votes">
    3
</div>
<a class="ajax-command post-vote down" href="/vote/49022/down/" id="post-49022-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>If you can find the changeset where you added the data in your edit history you can click on one of the items you added to see the current version, and from there the history for that node, to work out what happened to it when.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/49022/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>04 Apr '16, 18:26</strong>
</p>
<img alt="EdLoach's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/f25a8392e12ed696b16554b3d08e4e2b?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/339/edloach">EdLoach ♦</a><br/>
<span class="score" title="19478 reputation points"><span class="">19.5k</span></span><span title="16 badges"><span class="badge1">●</span><span class="badgecount">16</span></span><span title="156 badges"><span class="silver">●</span><span class="badgecount">156</span></span><span title="280 badges"><span class="bronze">●</span><span class="badgecount">280</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="EdLoach has 93 accepted answers">22%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-49022">
<a name="49045"></a>
<div class="comment" id="comment-49045">
<div class="comment-score" id="post-49045-score"></div>
<div class="comment-text"><p>That would be hard, due to the large number of my changesets, and me not knowing when exactly did I added those amenities...</p></div>
<div class="comment-info" id="comment-49045-info">
<span class="comment-age">(05 Apr '16, 16:26)</span>
<a class="comment-user userinfo" href="/users/191/ivanatora">ivanatora</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-49022">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-49022-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="49025"></a>
<div class="answer" id="answer-container-49025">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/49025/up/" id="post-49025-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-49025-score" title="current number of votes">
    1
</div>
<a class="ajax-command post-vote down" href="/vote/49025/down/" id="post-49025-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>There are ways to only see local edits, see <a href="/questions/7/">how-do-i-see-the-history-for-my-area</a>.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/49025/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>04 Apr '16, 19:32</strong>
</p>
<img alt="aseerel4c26's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/66f0dc05b44574e3894be07b0b37cf37?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/5179/aseerel4c26">aseerel4c26 ♦</a><br/>
<span class="score" title="32615 reputation points"><span class="">32.6k</span></span><span title="18 badges"><span class="badge1">●</span><span class="badgecount">18</span></span><span title="248 badges"><span class="silver">●</span><span class="badgecount">248</span></span><span title="554 badges"><span class="bronze">●</span><span class="badgecount">554</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="aseerel4c26 has 169 accepted answers">18%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-49025">
</div>
<div class="comment-tools" id="comment-tools-49025">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-49025-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/49020/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="gaRzCeo8cRpO6LbIrEtFLIPTZyItAHOb"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>