<meta charset="UTF-8"><link rel="stylesheet" type="text/css" href="../style.css"><div id="CALeft">
<div class="headNormal">
<h1><a href="/questions/68832/why-an-exact-city-name-match-is-not-on-the-first-place-of-the-search-result-list">Why an exact city name match is not on the first place of the search result list?</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/68832/up/" id="post-68832-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-68832-score" title="current number of votes">
    3
</div>
<a class="ajax-command post-vote down" href="/vote/68832/down/" id="post-68832-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/68832/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>Hi,<br/>
I run a query about a Hungarian city, named <b>Agárd</b>:<br/>
<a href="https://nominatim.openstreetmap.org/search?q=ag%C3%A1rd+hungary&amp;format=json">https://nominatim.openstreetmap.org/search?q=ag%C3%A1rd+hungary&amp;format=json</a><br/>
but strangely:
</p><ul>
<li>the first result is <b>Zemplénagárd</b>
</li><li>the second result is <b>Ősagárd</b>
</li><li>only the third result is <b>Agárd</b>
</li></ul>
Why is it so?<br/>
Why an exact name match is not put on the first place of the result list?<p></p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-search" href="/tags/search/" rel="tag" title="see questions tagged 'search'">search</a>
<a class="post-tag tag-link-geocoding" href="/tags/geocoding/" rel="tag" title="see questions tagged 'geocoding'">geocoding</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>18 Apr '19, 10:47</strong>
</p>
<img alt="Mocsi's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/a26ed2ade947bffddba9943b91e5fd5e?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/16555/mocsi">Mocsi</a><br>
<span class="score" title="66 reputation points">66</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">●</span><span class="badgecount">1</span></span><span title="5 badges"><span class="bronze">●</span><span class="badgecount">5</span></span><br>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Mocsi has no accepted answers">0%</span>
</br></br></p>
</div>
</div>
<div class="comments-container" id="comments-container-68832">
</div>
<div class="comment-tools" id="comment-tools-68832">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-68832-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    One Answer:
                    </div>
<div class="tabsA"><a href="/questions/68832/why-an-exact-city-name-match-is-not-on-the-first-place-of-the-search-result-list?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/68832/why-an-exact-city-name-match-is-not-on-the-first-place-of-the-search-result-list?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/68832/why-an-exact-city-name-match-is-not-on-the-first-place-of-the-search-result-list?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/68832/why-an-exact-city-name-match-is-not-on-the-first-place-of-the-search-result-list?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="68833"></a>
<div class="answer" id="answer-container-68833">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/68833/up/" id="post-68833-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-68833-score" title="current number of votes">
    4
</div>
<a class="ajax-command post-vote down" href="/vote/68833/down/" id="post-68833-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>The city Zemplénagárd (<a href="https://www.openstreetmap.org/node/354944716)">https://www.openstreetmap.org/node/354944716)</a> has a Slovak name of <code>name:sk=Agard</code>. Same for <a href="https://www.openstreetmap.org/node/736023948">https://www.openstreetmap.org/node/736023948</a> Maybe that's a mapping error?</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/68833/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>18 Apr '19, 10:56</strong>
</p>
<img alt="mtmail's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/96aad1e1801b7ea36fba50687924c935?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/150/mtmail">mtmail</a><br>
<span class="score" title="4757 reputation points"><span class="">4.8k</span></span><span title="15 badges"><span class="silver">●</span><span class="badgecount">15</span></span><span title="74 badges"><span class="bronze">●</span><span class="badgecount">74</span></span><br>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="mtmail has 50 accepted answers">27%</span>
</br></br></p>
</div>
</div>
<div class="comments-container" id="comments-container-68833">
<a name="68834"></a>
<div class="comment" id="comment-68834">
<div class="comment-score" id="post-68834-score"></div>
<div class="comment-text"><p>Definitely error. Both are Hungarian cities.</p></div>
<div class="comment-info" id="comment-68834-info">
<span class="comment-age">(18 Apr '19, 13:09)</span>
<a class="comment-user userinfo" href="/users/16555/mocsi">Mocsi</a>
</div>
</div>
<a name="68835"></a>
<div class="comment not_top_scorer" id="comment-68835">
<div class="comment-score" id="post-68835-score"></div>
<div class="comment-text"><p>Which still doesn't mean that this is a tagging error. <code>name:sk</code> specifies the Slovak name, not the Hungary name. I can't find a source for the Slovak name, though. <code>name:sk</code> has been added in <a href="https://www.openstreetmap.org/changeset/42663428">changeset 42663428</a> which also has a discussion about the source. It says "main source is the Ethnographic Map of Hungarian Slovaks" according to a famous online translator.</p></div>
<div class="comment-info" id="comment-68835-info">
<span class="comment-age">(18 Apr '19, 13:38)</span>
<a class="comment-user userinfo" href="/users/158/scai">scai ♦</a>
</div>
</div>
<a name="68836"></a>
<div class="comment not_top_scorer" id="comment-68836">
<div class="comment-score" id="post-68836-score"></div>
<div class="comment-text"><p>Slovak Wikipedia tells us that the Slovakian names for Zemplénagárd and Ősagárd are indeed <a href="https://sk.wikipedia.org/wiki/Zempl%C3%A9nag%C3%A1rd">Agard</a> and <a href="https://sk.wikipedia.org/wiki/Ag%C3%A1rd">Agárd</a>, respectively.</p></div>
<div class="comment-info" id="comment-68836-info">
<span class="comment-age">(18 Apr '19, 13:39)</span>
<a class="comment-user userinfo" href="/users/10133/tzorn">TZorn</a>
</div>
</div>
<a name="68838"></a>
<div class="comment" id="comment-68838">
<div class="comment-score" id="post-68838-score">2</div>
<div class="comment-text"><p>To influence the ranking you could add name:hu tags and add <code>&amp;accept-language=hu,en</code> to the Nominatim query URL. When you add <code>&amp;debug=1</code> near the top you see a (sorted) list of name tags it looks for.</p></div>
<div class="comment-info" id="comment-68838-info">
<span class="comment-age">(18 Apr '19, 14:07)</span>
<a class="comment-user userinfo" href="/users/150/mtmail">mtmail</a>
</div>
</div>
<a name="68882"></a>
<div class="comment" id="comment-68882">
<div class="comment-score" id="post-68882-score">1</div>
<div class="comment-text"><p>What do you mean? The below url produces the exact sam eresults:<br/>
<a href="https://nominatim.openstreetmap.org/search?q=ag%C3%A1rd+hungary&amp;format=json&amp;name:hu&amp;accept-language=hu,en">https://nominatim.openstreetmap.org/search?q=ag%C3%A1rd+hungary&amp;format=json&amp;name:hu&amp;accept-language=hu,en</a></p></div>
<div class="comment-info" id="comment-68882-info">
<span class="comment-age">(23 Apr '19, 09:01)</span>
<a class="comment-user userinfo" href="/users/16555/mocsi">Mocsi</a>
</div>
</div>
<a name="68895"></a>
<div class="comment not_top_scorer" id="comment-68895">
<div class="comment-score" id="post-68895-score"></div>
<div class="comment-text"><p>I mean adding 'name:hu' tags to the villiages (<a href="https://www.openstreetmap.org/node/354944716)">https://www.openstreetmap.org/node/354944716)</a> just like they have 'name:ru' tags.</p></div>
<div class="comment-info" id="comment-68895-info">
<span class="comment-age">(23 Apr '19, 20:05)</span>
<a class="comment-user userinfo" href="/users/150/mtmail">mtmail</a>
</div>
</div>
<a name="68897"></a>
<div class="comment" id="comment-68897">
<div class="comment-score" id="post-68897-score">1</div>
<div class="comment-text"><p>Please have a look at <a href="https://wiki.openstreetmap.org/wiki/Names#Localization">https://wiki.openstreetmap.org/wiki/Names#Localization</a> for an explanation of localized names.</p></div>
<div class="comment-info" id="comment-68897-info">
<span class="comment-age">(23 Apr '19, 21:14)</span>
<a class="comment-user userinfo" href="/users/10133/tzorn">TZorn</a>
</div>
</div>
<a name="68904"></a>
<div class="comment not_top_scorer" id="comment-68904">
<div class="comment-score" id="post-68904-score"></div>
<div class="comment-text"><p>And Zemplénagárd also has Wikipedia and Wikidata tags, which I believe give a higher ranking when the name is the same.</p></div>
<div class="comment-info" id="comment-68904-info">
<span class="comment-age">(24 Apr '19, 04:09)</span>
<a class="comment-user userinfo" href="/users/5390/escada">escada</a>
</div>
</div>
<a name="69002"></a>
<div class="comment not_top_scorer" id="comment-69002">
<div class="comment-score" id="post-69002-score"></div>
<div class="comment-text"><p>Adding &amp;name:hu=* does not affect anything in the query:
<a href="https://nominatim.openstreetmap.org/search?q=ag%C3%A1rd+hungary&amp;format=json&amp;name:hu=*">https://nominatim.openstreetmap.org/search?q=ag%C3%A1rd+hungary&amp;format=json&amp;name:hu=*</a></p></div>
<div class="comment-info" id="comment-69002-info">
<span class="comment-age">(29 Apr '19, 13:33)</span>
<a class="comment-user userinfo" href="/users/16555/mocsi">Mocsi</a>
</div>
</div>
<a name="69003"></a>
<div class="comment not_top_scorer" id="comment-69003">
<div class="comment-score" id="post-69003-score"></div>
<div class="comment-text"><p>I mean adding 'name:hu' tags to the villages (<a href="https://www.openstreetmap.org/node/354944716)">https://www.openstreetmap.org/node/354944716)</a> just like they have 'name:ru' tags.</p></div>
<div class="comment-info" id="comment-69003-info">
<span class="comment-age">(29 Apr '19, 13:36)</span>
<a class="comment-user userinfo" href="/users/150/mtmail">mtmail</a>
</div>
</div>
<a name="69004"></a>
<div class="comment not_top_scorer" id="comment-69004">
<div class="comment-score" id="post-69004-score"></div>
<div class="comment-text"><p>Does the search engine not work like, that if there is a match in the name, then that is ranked as first match, and if there is not exact match,  then localized names will be searched as well? It is annoying, that an exact match in the localized name (name:sk) is ranked higher, than an exact match in the name.
On the other hand, if I search for York, then New York will be ranked higher, if it has more Wikipedia tag / content?</p></div>
<div class="comment-info" id="comment-69004-info">
<span class="comment-age">(29 Apr '19, 13:46)</span>
<a class="comment-user userinfo" href="/users/16555/mocsi">Mocsi</a>
</div>
</div>
<a name="69005"></a>
<div class="comment" id="comment-69005">
<div class="comment-score" id="post-69005-score">2</div>
<div class="comment-text"><p>Adding &amp;debug=1 to the URL, e.g. <a href="https://nominatim.openstreetmap.org/search?q=ag%C3%A1rd+hungary&amp;format=json&amp;debug=1&amp;accept-language=hu,en">https://nominatim.openstreetmap.org/search?q=ag%C3%A1rd+hungary&amp;format=json&amp;debug=1&amp;accept-language=hu,en</a> will show which name tags are searches near the top. It's an array (sorted list) but afaik there is no special ranking based on tag name. Wikipedia ranking is based on (1) there is a link (2) number of other wikipedia pages linking to the article. That inter-linking data is a couple of years old though.</p></div>
<div class="comment-info" id="comment-69005-info">
<span class="comment-age">(29 Apr '19, 14:00)</span>
<a class="comment-user userinfo" href="/users/150/mtmail">mtmail</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-68833">
<span class="comments-showing">
            showing 5 of 12
        </span>
<a class="show-all-comments-link" href="#">show 7 more comments</a>
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-68833-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/68832/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="nMLwQ8bWAdEEDq7iTYXjhwkliQUiu8EV"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>