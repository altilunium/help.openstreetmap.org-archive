<meta charset="utf-8"/><link href="../style.css" rel="stylesheet" type="text/css"/><div id="CALeft"><center><a href="../"><img id="ll" src="https://help.openstreetmap.org/upfiles/osm_help_logo_6.png"/></a></center>
<div class="headNormal">
<h1><a href="/questions/5788/exporting-problem-with-osm2aipl">Exporting problem with OSM2AI.PL</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/5788/up/" id="post-5788-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-5788-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/5788/down/" id="post-5788-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/5788/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>Hi all.</p>
<p>For the last couple of weeks I've been really struggling to get OSM data to Adobe Illustrator format using the <a href="http://OSM2AI.PL">OSM2AI.PL</a> script.</p>
<p>I've got planet.osm stripped down to 4GB using o5mfilter32. Is putting it to a database first even necessary to use the <a href="http://OSM2AI.PL">OSM2AI.PL</a> script? I've got 8 GB of RAM, which should be enough to export a 4GB file?</p>
<p>In any case, I've been experimenting with trying to export smaller osm files with <a href="http://OSM2AI.PL">OSM2AI.PL</a> but I get thousands of error messages along the lines of "Use of uninitialized value $lon in multiplication (*) at...".
The script produces a file but it's just a set of orphaned vertices at the same coordinates. The same thing happens with --projection set to either mercator or osgb.</p>
<p>Any help would be tremendously appreciated.</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-illustrator" href="/tags/illustrator/" rel="tag" title="see questions tagged 'illustrator'">illustrator</a>
<a class="post-tag tag-link-osm2ai.pl" href="/tags/osm2ai.pl/" rel="tag" title="see questions tagged 'osm2ai.pl'">osm2ai.pl</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>15 Jun '11, 13:34</strong>
</p>
<img alt="decoder's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/7ad019e2582086e969bcc44ecef0604d?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/1578/decoder">decoder</a><br/>
<span class="score" title="1 reputation points">1</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="bronze">●</span><span class="badgecount">1</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="decoder has no accepted answers">0%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-5788">
<a name="5791"></a>
<div class="comment" id="comment-5791">
<div class="comment-score" id="post-5791-score"></div>
<div class="comment-text"><p>Silly question time - do you really want the whole planet in Illustrator format or just a bit of it?</p>
<p>If it is just a bit of it, you might find a recent extract of that bit somewhere like here:
<a href="http://download.geofabrik.de/">http://download.geofabrik.de/</a></p></div>
<div class="comment-info" id="comment-5791-info">
<span class="comment-age">(15 Jun '11, 16:54)</span>
<a class="comment-user userinfo" href="/users/387/someoneelse">SomeoneElse ♦</a>
</div>
</div>
<a name="5796"></a>
<div class="comment" id="comment-5796">
<div class="comment-score" id="post-5796-score"></div>
<div class="comment-text"><p>I need the entire planet I'm afraid. I already got several AI files of individual countries from <a href="http://cloudmade.com">cloudmade.com</a> but I also need a global map. It would be ideal to have some sort of script to simplify the paths so that they only look good when looked at from a considerable distance.</p></div>
<div class="comment-info" id="comment-5796-info">
<span class="comment-age">(15 Jun '11, 18:06)</span>
<a class="comment-user userinfo" href="/users/1578/decoder">decoder</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-5788">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-5788-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    2 Answers:
                    </div>
<div class="tabsA"><a href="/questions/5788/exporting-problem-with-osm2aipl?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/5788/exporting-problem-with-osm2aipl?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/5788/exporting-problem-with-osm2aipl?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/5788/exporting-problem-with-osm2aipl?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="5789"></a>
<div class="answer" id="answer-container-5789">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/5789/up/" id="post-5789-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-5789-score" title="current number of votes">
    2
</div>
<a class="ajax-command post-vote down" href="/vote/5789/down/" id="post-5789-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>Adobe Illustrator is extremely unlikely to be able to load a file created from 4Gb of OSM data. I've tried to load the a CloudMade Illustrator file (produced with osm2ai) of the whole of the UK and Illustrator simply refused.</p>
<p>Note also that <a href="http://osm2ai.pl">osm2ai.pl</a> does not use a full XML parser, but regular expressions, to read the .osm file. In other words, it is very possible that .osm files produced by programs other than the OSM website and Osmosis will fail. If you post some failing lines from your file somewhere then we can look, but needless to say I'm not downloading a 4Gb file just to test it!</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/5789/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>15 Jun '11, 15:16</strong>
</p>
<img alt="Richard's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/08324717c25d6067fa4ff23ef37d455f?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/5/richard">Richard ♦</a><br/>
<span class="score" title="30902 reputation points"><span class="">30.9k</span></span><span title="44 badges"><span class="badge1">●</span><span class="badgecount">44</span></span><span title="279 badges"><span class="silver">●</span><span class="badgecount">279</span></span><span title="412 badges"><span class="bronze">●</span><span class="badgecount">412</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Richard has 98 accepted answers">18%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-5789">
<a name="5795"></a>
<div class="comment" id="comment-5795">
<div class="comment-score" id="post-5795-score"></div>
<div class="comment-text"><p>I have successfully loaded a 300 MB AI file of Finland and that's 75% the size of the UK map. Even though Illustrator is not a 64bit application it might still depend on your OS and Illustrator version. </p>
<p>I appreciate that there is a fair chance that a 4 GB AI file will not load, but nevertheless I'd like to give it a go. If it doesn't work, then strip the OSM file down further, until it does.</p>
<p>I have downloaded my OSM file from one of the sites listed at <a href="http://wiki.openstreetmap.org/wiki/Planet.osm,">http://wiki.openstreetmap.org/wiki/Planet.osm,</a> but I forget which one specifically. In any case, I've tried the script on several OSM's acquired from multiple sources.</p>
<p>Basically the errors (warnings?) go like this:</p>
<p>With OSGB projection:</p>
<p>Use of uninitialized value $lon in multiplication (*) at
 C:/strawberry/perl/site/lib/Geo/Coordinates/OSGB.pm line 78.
 Use of uninitialized value $_[-1] in hash element at
 C:/strawberry/perl/site/lib/Geo/Coordinates/OSGB.pm line 64.
 Use of uninitialized value $lat in pattern match (m//) at
 C:/strawberry/perl/site/lib/Geo/Coordinates/OSGB.pm line 68.</p>
<p>With mercator projection:</p>
<p>Use of uninitialized value $_[0] in multiplication (<em>) at <a href="http://osm2ai.pl">osm2ai.pl</a> line 272.
Use of uninitialized value in subtraction (-) at <a href="http://osm2ai.pl">osm2ai.pl</a> line 271.
Use of uninitialized value $_[0] in multiplication (</em>) at <a href="http://osm2ai.pl">osm2ai.pl</a> line 272.
Use of uninitialized value in subtraction (-) at <a href="http://osm2ai.pl">osm2ai.pl</a> line 271.</p></div>
<div class="comment-info" id="comment-5795-info">
<span class="comment-age">(15 Jun '11, 18:03)</span>
<a class="comment-user userinfo" href="/users/1578/decoder">decoder</a>
</div>
</div>
<a name="5802"></a>
<div class="comment" id="comment-5802">
<div class="comment-score" id="post-5802-score"></div>
<div class="comment-text"><p>Could you paste a few lines from your .osm file containing nodes, please? Say, copy and paste a 100-line section which contains &lt;node&gt; tags into <a href="http://pastebin.com">pastebin.com</a> somewhere, and put the link here.</p></div>
<div class="comment-info" id="comment-5802-info">
<span class="comment-age">(15 Jun '11, 21:01)</span>
<a class="comment-user userinfo" href="/users/5/richard">Richard ♦</a>
</div>
</div>
<a name="5814"></a>
<div class="comment" id="comment-5814">
<div class="comment-score" id="post-5814-score"></div>
<div class="comment-text"><p><a href="http://pastebin.com/JmREKbP9">http://pastebin.com/JmREKbP9</a></p></div>
<div class="comment-info" id="comment-5814-info">
<span class="comment-age">(16 Jun '11, 10:41)</span>
<a class="comment-user userinfo" href="/users/1578/decoder">decoder</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-5789">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-5789-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="5798"></a>
<div class="answer" id="answer-container-5798">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/5798/up/" id="post-5798-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-5798-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/5798/down/" id="post-5798-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>For other possibilities to load OSM data in Adobe Illustrator have a look at <a href="http://wiki.openstreetmap.org/wiki/Exporting_to_Adobe_Illustrator">Exporting_to_Adobe_Illustrator</a> in the OSM wiki. Maybe that helps?</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/5798/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>15 Jun '11, 19:30</strong>
</p>
<img alt="stephan75's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/245b73d4390c3408fe3c6da759b9897f?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/99/stephan75">stephan75</a><br/>
<span class="score" title="12642 reputation points"><span class="">12.6k</span></span><span title="5 badges"><span class="badge1">●</span><span class="badgecount">5</span></span><span title="56 badges"><span class="silver">●</span><span class="badgecount">56</span></span><span title="210 badges"><span class="bronze">●</span><span class="badgecount">210</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="stephan75 has 37 accepted answers">6%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-5798">
<a name="5799"></a>
<div class="comment" id="comment-5799">
<div class="comment-score" id="post-5799-score"></div>
<div class="comment-text"><p>I have read through that page, and <a href="http://OSM2AI.PL">OSM2AI.PL</a> is the only solution that creates unstyled paths which are what I need for my project. Also solutions that can export very large areas are few and far between. I would think that converting the results produced by the other solutions to unstyled paths would be an impossible amount of work.</p>
<p>Basically what I need is a global roadmap, at manageable detail and file size, as unstyled paths in illustrator compatible format.</p></div>
<div class="comment-info" id="comment-5799-info">
<span class="comment-age">(15 Jun '11, 19:38)</span>
<a class="comment-user userinfo" href="/users/1578/decoder">decoder</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-5798">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-5798-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/5788/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="wP8SUXcYcURXXRCd8nfmr9Faq4Il8egy"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>