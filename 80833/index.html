<meta charset="utf-8"/><link href="../style.css" rel="stylesheet" type="text/css"/><div id="CALeft"><center><a href="../"><img id="ll" src="https://help.openstreetmap.org/upfiles/osm_help_logo_6.png"/></a></center>
<div class="headNormal">
<h1><a href="/questions/80833/how-should-the-turn-restrictions-be-added-to-this-junction">How should the turn restrictions be added to this junction?</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/80833/up/" id="post-80833-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-80833-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/80833/down/" id="post-80833-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/80833/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>Red is not allowed because after the turn it's restricted to the 1st lane until it passes the yellow entrance. Only green is allowed. How should the turn restrictions be added to this junction?</p>
<p><img alt="Route" src="https://help.openstreetmap.org/upfiles/route_ECRGfuO.png"/>
<img alt="alt text" src="https://i.imgur.com/gqa6G7V.png"/></p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-junction" href="/tags/junction/" rel="tag" title="see questions tagged 'junction'">junction</a>
<a class="post-tag tag-link-turn_restrictions" href="/tags/turn_restrictions/" rel="tag" title="see questions tagged 'turn_restrictions'">turn_restrictions</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>05 Jul '21, 17:55</strong>
</p>
<img alt="rafaelmartinsrm's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/5251709eae3d3cb648f498bbd4af06dd?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/20458/rafaelmartinsrm">rafaelmartinsrm</a><br/>
<span class="score" title="11 reputation points">11</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">●</span><span class="badgecount">1</span></span><span title="4 badges"><span class="bronze">●</span><span class="badgecount">4</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="rafaelmartinsrm has no accepted answers">0%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/80833/">
                edited
                <strong>05 Jul '21, 19:26</strong>
</a>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-80833">
</div>
<div class="comment-tools" id="comment-tools-80833">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-80833-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    One Answer:
                    </div>
<div class="tabsA"><a href="/questions/80833/how-should-the-turn-restrictions-be-added-to-this-junction?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/80833/how-should-the-turn-restrictions-be-added-to-this-junction?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/80833/how-should-the-turn-restrictions-be-added-to-this-junction?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/80833/how-should-the-turn-restrictions-be-added-to-this-junction?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="80834"></a>
<div class="answer" id="answer-container-80834">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/80834/up/" id="post-80834-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-80834-score" title="current number of votes">
    3
</div>
<a class="ajax-command post-vote down" href="/vote/80834/down/" id="post-80834-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>The best way to do this may depend on what you mean by "it's restricted to the 1st lane until it passes the yellow entrance". </p>
<p>If you mean there is a physical barrier between the lanes then it may be acceptable to re-work the junction to attach the yellow slipway east of the route in red. </p>
<p>If there is no physical barrier then you will need to use a <a href="https://wiki.openstreetmap.org/wiki/Relation:restriction">turn restriction relation</a>. To me this looks like it would be a <code>restriction=no_left_turn</code> relation between the road segment just after 1 to the road segment 2 is on <code>via</code> the curve shown in red and the section shown between the prohibited U and the yellow. </p>
<p>If the distance was small enough you would be able to edit this using iD's built in turn restriction editor by selecting the node where the illegal turn begins, increasing the 'distance' and 'via' sliders to show the full turn and selecting the origin and prohibited destination. </p>
<p>If the distance is too big you will have to split the ways and create the relation manually. This is a bit tricky in the 'default' iD editor as the way it presents them is reversed for the way they are actually stored. It is workable with a bit of persistence, but they are much easier to edit in something like JOSM (see <a href="https://wiki.openstreetmap.org/wiki/JOSM_Relations_and_Turn_Based_Restrictions">this page</a> for guidance).</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/80834/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>05 Jul '21, 19:05</strong>
</p>
<img alt="InsertUser's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/ec8a0cf213f9797ad1c1ae2c28c2332d?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/4426/insertuser">InsertUser</a><br/>
<span class="score" title="11005 reputation points"><span class="">11.0k</span></span><span title="13 badges"><span class="badge1">●</span><span class="badgecount">13</span></span><span title="69 badges"><span class="silver">●</span><span class="badgecount">69</span></span><span title="185 badges"><span class="bronze">●</span><span class="badgecount">185</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="InsertUser has 73 accepted answers">19%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-80834">
<a name="80835"></a>
<div class="comment" id="comment-80835">
<div class="comment-score" id="post-80835-score"></div>
<div class="comment-text"><p>I added a photo showing the phisical barrier between the lanes, preventing the driver from turning right on the yellow entrance.</p></div>
<div class="comment-info" id="comment-80835-info">
<span class="comment-age">(05 Jul '21, 19:27)</span>
<a class="comment-user userinfo" href="/users/20458/rafaelmartinsrm">rafaelmartinsrm</a>
</div>
</div>
<a name="80836"></a>
<div class="comment" id="comment-80836">
<div class="comment-score" id="post-80836-score">1</div>
<div class="comment-text"><p>If this barrier exists all the way back to the U loop then it is <a href="https://wiki.openstreetmap.org/wiki/Editing_Standards_and_Conventions#Divided_highways">probably</a> OK to disconnect the way and reconnect it after the yellow turnoff. The posts being in a continuous stretch of asphalt makes it a little arguable, but I think it's reasonable here unless there is a local convention to do otherwise. It may be worth mapping the <a href="https://wiki.openstreetmap.org/wiki/Tag:barrier%3Dbollard">barrier</a> separately as a signal to other mappers not to revert the change on the basis of a blurry satellite view.</p></div>
<div class="comment-info" id="comment-80836-info">
<span class="comment-age">(05 Jul '21, 20:25)</span>
<a class="comment-user userinfo" href="/users/4426/insertuser">InsertUser</a>
</div>
</div>
<a name="80838"></a>
<div class="comment" id="comment-80838">
<div class="comment-score" id="post-80838-score">1</div>
<div class="comment-text"><p>Note:  I like iD editor for mapping turn restrictions. It is simple, I find other editors difficult for this task.</p></div>
<div class="comment-info" id="comment-80838-info">
<span class="comment-age">(06 Jul '21, 09:34)</span>
<a class="comment-user userinfo" href="/users/644/andy-mackey">andy mackey</a>
</div>
</div>
<a name="80840"></a>
<div class="comment" id="comment-80840">
<div class="comment-score" id="post-80840-score">1</div>
<div class="comment-text"><p>I realised that InsertUser's the answer was the correct one. I wanted to point other mappers struggling with turn restrictions that iD is easy to use. If they did a search for a solution my comment may help them.</p></div>
<div class="comment-info" id="comment-80840-info">
<span class="comment-age">(06 Jul '21, 13:58)</span>
<a class="comment-user userinfo" href="/users/644/andy-mackey">andy mackey</a>
</div>
</div>
<a name="80842"></a>
<div class="comment" id="comment-80842">
<div class="comment-score" id="post-80842-score"></div>
<div class="comment-text"><p><a href="https://help.openstreetmap.org/users/14350/jmapb"></a><a href="https://help.openstreetmap.org/users/14350/jmapb">@jmapb</a> iD has a slider to allow you to use up to 2 <code>via</code> <em>ways</em> if needed. You do need to initiate the turns restrictions interface by selecting the first node of the turn though. </p>
<p>@<a href="https://help.openstreetmap.org/users/644/andy-mackey">andy</a> I was able to find this junction in OSM, unfortunately iD's max search radius (50m) is too small to use their rather neat interface at this location.</p></div>
<div class="comment-info" id="comment-80842-info">
<span class="comment-age">(06 Jul '21, 14:44)</span>
<a class="comment-user userinfo" href="/users/4426/insertuser">InsertUser</a>
</div>
</div>
<a name="80843"></a>
<div class="comment not_top_scorer" id="comment-80843">
<div class="comment-score" id="post-80843-score"></div>
<div class="comment-text"><p><a href="https://help.openstreetmap.org/users/4426/insertuser">@InsertUser</a> Oh, news to me! I'll try it sometime. Zapped my comment to avoid any confusion.</p></div>
<div class="comment-info" id="comment-80843-info">
<span class="comment-age">(06 Jul '21, 15:38)</span>
<a class="comment-user userinfo" href="/users/14350/jmapb">jmapb</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-80834">
<span class="comments-showing">
            showing 5 of 6
        </span>
<a class="show-all-comments-link" href="#">show 1 more comments</a>
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-80834-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/80833/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="2gOSd2YOOgdgbvQvs7nkoGhSFo4CamLx"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>