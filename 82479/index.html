<meta charset="UTF-8"><link rel="stylesheet" type="text/css" href="../style.css"><div id="CALeft">
<div class="headNormal">
<h1><a href="/questions/82479/data-incoherencce-between-overpass-turbo-and-umapmy-map">Data incoherencce between overpass-turbo and umap/my map</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/82479/up/" id="post-82479-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-82479-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/82479/down/" id="post-82479-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/82479/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>I'm looking for restaurants - and obviously also cafés - in Paris with french or regional cooking - (restaurant OR cafe) AND (cuisine=french OR cuisine=regional) - what shows hundreds of places in overpass-turbo.eu. Copying the URL-umap-link into umap:external data source (my site works in German though the wording might be incorrect) I get also many places but not all I see in the overpass-map. I verify that with the restaurants around the corner I usually stay in a hotel.
How can I asure that in umap all interesting places - the same as in overpass - are shown?
Thanks for advice (and patience with a beginner).</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-umap" href="/tags/umap/" rel="tag" title="see questions tagged 'umap'">umap</a>
<a class="post-tag tag-link-overpass-turbo" href="/tags/overpass-turbo/" rel="tag" title="see questions tagged 'overpass-turbo'">overpass-turbo</a>
<a class="post-tag tag-link-incomplete" href="/tags/incomplete/" rel="tag" title="see questions tagged 'incomplete'">incomplete</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>05 Nov '21, 10:42</strong>
</p>
<img alt="ak54's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/60926ce04476f20c517c429981c94109?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/20995/ak54">ak54</a><br/>
<span class="score" title="11 reputation points">11</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">●</span><span class="badgecount">1</span></span><span title="3 badges"><span class="bronze">●</span><span class="badgecount">3</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="ak54 has no accepted answers">0%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/82479/">
                edited
                <strong>05 Nov '21, 10:43</strong>
</a>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-82479">
</div>
<div class="comment-tools" id="comment-tools-82479">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-82479-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    4 Answers:
                    </div>
<div class="tabsA"><a href="/questions/82479/data-incoherencce-between-overpass-turbo-and-umapmy-map?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/82479/data-incoherencce-between-overpass-turbo-and-umapmy-map?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/82479/data-incoherencce-between-overpass-turbo-and-umapmy-map?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/82479/data-incoherencce-between-overpass-turbo-and-umapmy-map?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="82481"></a>
<div class="answer" id="answer-container-82481">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/82481/up/" id="post-82481-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-82481-score" title="current number of votes">
    1
</div>
<a class="ajax-command post-vote down" href="/vote/82481/down/" id="post-82481-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>Hi.</p>
<p>A common with umap, is that it doesn't display POI mapped as ways (polygons).</p>
<p>My solution was to add <code>center</code> to the <code>out</code> directive, so that the output is only nodes.</p>
<p>Please share your overpass query is your need more specific assistance.</p>
<p>Regards.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/82481/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>05 Nov '21, 12:22</strong>
</p>
<img alt="H_mlet's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/9434692e9afccaf03af5acf20b3a3279?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/13231/h_mlet">H_mlet</a><br/>
<span class="score" title="5443 reputation points"><span class="">5.4k</span></span><span title="17 badges"><span class="silver">●</span><span class="badgecount">17</span></span><span title="81 badges"><span class="bronze">●</span><span class="badgecount">81</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="H_mlet has 40 accepted answers">13%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-82481">
</div>
<div class="comment-tools" id="comment-tools-82481">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-82481-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="82492"></a>
<div class="answer answered-by-owner" id="answer-container-82492">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/82492/up/" id="post-82492-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-82492-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/82492/down/" id="post-82492-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>Hi and thanks. My query looks like:</p>
<p>{{OverpassTurboExample|loc=48.85825;2.35775;18|query=</p>
<p>[out:json][timeout:25];</p>
<p>// fetch area “Paris” to search in
{{((}}geocodeArea:Paris{{))}}-&gt;.searchArea;
// gather results</p>
<p>(
// query part for: “restaurant and cuisine=french”</p>
<p>nwr["amenity"="restaurant"]<a href="area.searchArea">"cuisine"="french"</a>;
nwr["amenity"="restaurant"]<a href="area.searchArea">"cuisine"="regional"</a>;
nwr["amenity"="cafe"]<a href="area.searchArea">"cuisine"="french"</a>;
nwr["amenity"="cafe"]<a href="area.searchArea">"cuisine"="regional"</a>;<br/>
);</p>
<p>// print results</p>
<p>out center;</p>
<p>}}</p>
<p>Exporting the result as geojson and importing it to umap/mymap ends in a correct map. However, exporting just the umap-link</p>
<p>[out:json][timeout:25];area(3600007444)-&gt;.searchArea;(nwr["amenity"="restaurant"]<a href="area.searchArea">"cuisine"="french"</a>;nwr["amenity"="restaurant"]<a href="area.searchArea">"cuisine"="regional"</a>;nwr["amenity"="cafe"]<a href="area.searchArea">"cuisine"="french"</a>;nwr["amenity"="cafe"]<a href="area.searchArea">"cuisine"="regional"</a>;  );out center;</p>
<p>results in nothing useful, even - that's new - in empty maps.</p>
<p>There must be a linking / coordinating effect I do not understand. Therefore, if you have some more advice it will be highly appreciated.</p>
<p>Andreas</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/82492/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>06 Nov '21, 14:09</strong>
</p>
<img alt="ak54's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/60926ce04476f20c517c429981c94109?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/20995/ak54">ak54</a><br>
<span class="score" title="11 reputation points">11</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">●</span><span class="badgecount">1</span></span><span title="3 badges"><span class="bronze">●</span><span class="badgecount">3</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="ak54 has no accepted answers">0%</span>
</br></p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/82492/">
                edited
                <strong>06 Nov '21, 14:21</strong>
</a>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-82492">
<a name="82493"></a>
<div class="comment" id="comment-82493">
<div class="comment-score" id="post-82493-score">1</div>
<div class="comment-text"><p>Your cuisine filters in the 2nd e.g., lack "[]"</p></div>
<div class="comment-info" id="comment-82493-info">
<span class="comment-age">(06 Nov '21, 14:38)</span>
<a class="comment-user userinfo" href="/users/647/sk53">SK53 ♦</a>
</div>
</div>
<a name="82494"></a>
<div class="comment" id="comment-82494">
<div class="comment-score" id="post-82494-score">2</div>
<div class="comment-text"><p>I'd also think a timeout of 25 seconds may be a bit small for a big place like Paris.</p></div>
<div class="comment-info" id="comment-82494-info">
<span class="comment-age">(06 Nov '21, 14:38)</span>
<a class="comment-user userinfo" href="/users/647/sk53">SK53 ♦</a>
</div>
</div>
<a name="82500"></a>
<div class="comment" id="comment-82500">
<div class="comment-score" id="post-82500-score"></div>
<div class="comment-text"><p>The missing brackets are just a copy/paste-error, themquery looks like</p>
<p>[out:json]
[timeout:125]
;
area(3600007444)-&gt;.searchArea;
(
  nwr
    ["amenity"="restaurant"]
    ["cuisine"="regional"]
    (area.searchArea);
  nwr
    ["amenity"="restaurant"]
    ["cuisine"="french"]
    (area.searchArea);
  nwr
    ["amenity"="cafe"]
    ["cuisine"="french"]
    (area.searchArea);
  nwr
    ["amenity"="cafe"]
    ["cuisine"="regional"]
    (area.searchArea);
);
out center;</p>
<p>A longer timeout produces a useful geojson-file but still no working link for umap</p></div>
<div class="comment-info" id="comment-82500-info">
<span class="comment-age">(06 Nov '21, 23:43)</span>
<a class="comment-user userinfo" href="/users/20995/ak54">ak54</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-82492">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-82492-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="82503"></a>
<div class="answer answered-by-owner" id="answer-container-82503">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/82503/up/" id="post-82503-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-82503-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/82503/down/" id="post-82503-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>Sorry, the missing brackets are a copy/paste error, the query looks like</p>
<p><img alt="alt text" src="https://help.openstreetmap.org/upfiles/7E74E290-4A0C-43B9-9D07-847A64F16020.jpeg"/></p>
<p>However, even with a higher timeout rate the umap link does not work correctly, but the import with geojson works. I prefer the link solution because that would permit an automatic update in a vivid restaurant scene.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/82503/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>07 Nov '21, 06:35</strong>
</p>
<img alt="ak54's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/60926ce04476f20c517c429981c94109?s=32&amp;d=identicon&amp;r=g" width="32">
<p><a href="/users/20995/ak54">ak54</a><br/>
<span class="score" title="11 reputation points">11</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">●</span><span class="badgecount">1</span></span><span title="3 badges"><span class="bronze">●</span><span class="badgecount">3</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="ak54 has no accepted answers">0%</span>
</p>
</img></div>
</div>
<div class="comments-container" id="comments-container-82503">
<a name="82516"></a>
<div class="comment" id="comment-82516">
<div class="comment-score" id="post-82516-score">1</div>
<div class="comment-text"><p>You can use the "Share" functionality of overpass-turbo, instead of copy-pasting, it's faster and less prone to errors. For example : <a href="http://overpass-turbo.eu/s/1cOo">http://overpass-turbo.eu/s/1cOo</a></p></div>
<div class="comment-info" id="comment-82516-info">
<span class="comment-age">(08 Nov '21, 13:46)</span>
<a class="comment-user userinfo" href="/users/13231/h_mlet">H_mlet</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-82503">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-82503-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="82522"></a>
<div class="answer" id="answer-container-82522">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/82522/up/" id="post-82522-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-82522-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/82522/down/" id="post-82522-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>How did you build the query for umap ? Here is the doc : <a href="https://wiki.openstreetmap.org/wiki/UMap/Guide/Import_data_with_Overpass">https://wiki.openstreetmap.org/wiki/UMap/Guide/Import_data_with_Overpass</a></p>
<p>Did you urlencode it ? I found that usually it helps.</p>
<p>Did you use the same overpass server as in overpass-turbo ? IIRC the area ids might not be consistent from one server to another.</p>
<p>I created a <a href="https://umap.openstreetmap.fr/en/map/overpass-test_677911">test umap</a>. You will find the layer settings in a screenshot below.</p>
<p>It seems all right to me. With clustering and unzooming, it seems that all 1069 elements are displayed ! </p>
<p>You can check in the <a href="https://developer.mozilla.org/en-US/docs/Tools/Network_Monitor">network console</a> of your browser what the response of the server is (timeout, empty request, etc).</p>
<p>Also, you should uncheck "Dynamic", and check "proxy" and "one day" because this kind of query is not easy on the server, and might get you blacklisted. You can change the language of umap in the url of the map, put en where you should find de.</p>
<p>Hope this helps.</p>
<p><img alt="test settings" src="https://help.openstreetmap.org/upfiles/test_overpass.png"/></p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/82522/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>08 Nov '21, 14:15</strong>
</p>
<img alt="H_mlet's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/9434692e9afccaf03af5acf20b3a3279?s=32&amp;d=identicon&amp;r=g" width="32">
<p><a href="/users/13231/h_mlet">H_mlet</a><br/>
<span class="score" title="5443 reputation points"><span class="">5.4k</span></span><span title="17 badges"><span class="silver">●</span><span class="badgecount">17</span></span><span title="81 badges"><span class="bronze">●</span><span class="badgecount">81</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="H_mlet has 40 accepted answers">13%</span>
</p>
</img></div>
</div>
<div class="comments-container" id="comments-container-82522">
</div>
<div class="comment-tools" id="comment-tools-82522">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-82522-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/82479/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="EZ1zDuxrUxqryW5JPcQJkfuRDgLhXZc0"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>