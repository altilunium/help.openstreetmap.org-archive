<meta charset="UTF-8"><link rel="stylesheet" type="text/css" href="../style.css"><div id="CALeft">
<div class="headNormal">
<h1><a href="/questions/9344/how-to-detect-intersection-of-ways">How to detect intersection of ways</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/9344/up/" id="post-9344-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-9344-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/9344/down/" id="post-9344-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/9344/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>Hey there,</p>
<p>I'm new with the OSM API and I am trying to work with the data retrieved via GetMapData and a BoundingBox. There are &lt;way&gt; Elements in the retrieved data that describe streets - so far so clear.</p>
<p>The question according to my title: How can I detect which roads intersect, or rather how to get the points where they intersect? I tried to search for common nodes, but that didn't work. So I wonder if there is anything I haven't found yet to do this job..</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-intersection" href="/tags/intersection/" rel="tag" title="see questions tagged 'intersection'">intersection</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>05 Dec '11, 21:01</strong>
</p>
<img alt="raveNOSM's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/c6f13d9344db49df4f8f09a7bd6f9589?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/2457/ravenosm">raveNOSM</a><br/>
<span class="score" title="1 reputation points">1</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">●</span><span class="badgecount">1</span></span><span title="2 badges"><span class="bronze">●</span><span class="badgecount">2</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="raveNOSM has no accepted answers">0%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-9344">
</div>
<div class="comment-tools" id="comment-tools-9344">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-9344-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    One Answer:
                    </div>
<div class="tabsA"><a href="/questions/9344/how-to-detect-intersection-of-ways?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/9344/how-to-detect-intersection-of-ways?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/9344/how-to-detect-intersection-of-ways?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/9344/how-to-detect-intersection-of-ways?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="9345"></a>
<div class="answer" id="answer-container-9345">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/9345/up/" id="post-9345-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-9345-score" title="current number of votes">
    4
</div>
<a class="ajax-command post-vote down" href="/vote/9345/down/" id="post-9345-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>First of all, the API queries - and GetMapData seems to make use of one of those - are mainly meant for editing. So if you are doing an application that does any kind of data analysis, or rendering, or something else, and especially if you believe that you will make many such queries, then this API call is not for you. You'll have to download an OSM excerpt or a "planet file" and analyse that.</p>
<p>OSM data does generally have a topology, so your approach of looking for nodes shared by more than one way should work. Of course, one street might consist of several way objcts. Ways will of course not share a node when there's a bridge or tunnel, or when one is e.g. a boundary line and the other a railway.</p>
<p>If two streets intersect and neither of them is a bridge or tunnel, then they should have an intersection node; editors and validators will complain if they haven't.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/9345/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>05 Dec '11, 21:13</strong>
</p>
<img alt="Frederik%20Ramm's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/a2b38d937e70ab39d895d17da0dd1ba4?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/104/frederik-ramm">Frederik Ramm ♦</a><br/>
<span class="score" title="82494 reputation points"><span class="">82.5k</span></span><span title="92 badges"><span class="badge1">●</span><span class="badgecount">92</span></span><span title="720 badges"><span class="silver">●</span><span class="badgecount">720</span></span><span title="1273 badges"><span class="bronze">●</span><span class="badgecount">1273</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Frederik Ramm has 417 accepted answers">23%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-9345">
<a name="9347"></a>
<div class="comment" id="comment-9347">
<div class="comment-score" id="post-9347-score"></div>
<div class="comment-text"><p>Thanks for your fast answer - good to know that my approach must work, so I just have to check that again.</p>
<p>But what is an OSM excerpt? I am doing such an API call only once, and then work with this data, so I thought that was the correct way..</p></div>
<div class="comment-info" id="comment-9347-info">
<span class="comment-age">(06 Dec '11, 07:58)</span>
<a class="comment-user userinfo" href="/users/2457/ravenosm">raveNOSM</a>
</div>
</div>
<a name="9348"></a>
<div class="comment" id="comment-9348">
<div class="comment-score" id="post-9348-score"></div>
<div class="comment-text"><p><a href="/users/2457/ravenosm">@raveNOSM</a>: "Excerpt" refers to an OSM data extract that you can download directly (rather than fetch via the API). Downloading an extract causes much less load on the servers than using the API; the API is not suitable for mass data retrieval. See <a href="http://wiki.openstreetmap.org/wiki/Downloading_data">http://wiki.openstreetmap.org/wiki/Downloading_data</a> for details.</p></div>
<div class="comment-info" id="comment-9348-info">
<span class="comment-age">(06 Dec '11, 11:04)</span>
<a class="comment-user userinfo" href="/users/666/sleske">sleske</a>
</div>
</div>
<a name="9350"></a>
<div class="comment" id="comment-9350">
<div class="comment-score" id="post-9350-score"></div>
<div class="comment-text"><p>If you're downloading this only once then don't worry. We're all easily frightened because every now and then someone writes an app that is then used by 1000s of people who download data wherever they go or so ;)</p></div>
<div class="comment-info" id="comment-9350-info">
<span class="comment-age">(06 Dec '11, 16:22)</span>
<a class="comment-user userinfo" href="/users/104/frederik-ramm">Frederik Ramm ♦</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-9345">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-9345-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/9344/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="BrTmbxRnFSO4YRgEdm4cCDov0CHmmKBw"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>