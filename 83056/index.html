<meta charset="UTF-8"><link rel="stylesheet" type="text/css" href="../style.css"><div id="CALeft">
<div class="headNormal">
<h1><a href="/questions/83056/how-to-editupdatewrite-local-osm-file">How to edit/update/write local .osm file?</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/83056/up/" id="post-83056-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-83056-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/83056/down/" id="post-83056-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/83056/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>Hi,
I am quite new to this forum, sorry if I make any mistake.
Currently I am using overpy package in python to query osm. I can get and use query results and it is quite useful for my purpose. I am using offline query with docker image. 
However, I'd like to modify the .osm file in which I extracted from &lt;name&gt;.osm.bz2 format. 
As far as I see, there is no query like API for writing, and update of the map is done via website or 3rd party tools like JOSM... 
I am able to parse xml file, find/get the corresponding node and edit that node/way. 
However, how can I <strong>add</strong> new node or <strong>remove</strong> a node from a way? I know that each way/node IDs are unique. So, I cannot directly add new node to .xml with an arbitrary ID. </p>
<p>Is there a way to do this? 
Thanks.</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-osm" href="/tags/osm/" rel="tag" title="see questions tagged 'osm'">osm</a>
<a class="post-tag tag-link-update" href="/tags/update/" rel="tag" title="see questions tagged 'update'">update</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>11 Jan '22, 20:38</strong>
</p>
<img alt="alisvndk88's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/761de0d6d13397df82446f39cf1098b5?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/21273/alisvndk88">alisvndk88</a><br/>
<span class="score" title="11 reputation points">11</span><span title="3 badges"><span class="badge1">●</span><span class="badgecount">3</span></span><span title="3 badges"><span class="silver">●</span><span class="badgecount">3</span></span><span title="5 badges"><span class="bronze">●</span><span class="badgecount">5</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="alisvndk88 has no accepted answers">0%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/83056/">
                edited
                <strong>11 Jan '22, 20:39</strong>
</a>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-83056">
</div>
<div class="comment-tools" id="comment-tools-83056">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-83056-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    One Answer:
                    </div>
<div class="tabsA"><a href="/questions/83056/how-to-editupdatewrite-local-osm-file?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/83056/how-to-editupdatewrite-local-osm-file?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/83056/how-to-editupdatewrite-local-osm-file?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/83056/how-to-editupdatewrite-local-osm-file?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="83057"></a>
<div class="answer" id="answer-container-83057">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/83057/up/" id="post-83057-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-83057-score" title="current number of votes">
    2
</div>
<a class="ajax-command post-vote down" href="/vote/83057/down/" id="post-83057-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>You can create nodes with arbitrary IDs (that are not already used in your file) and add them to a way in your XML, or remove nodes from a way as you please as long as you're not planning to upload the file to OSM. You can also use JOSM to modify a local osm file; if you create new objects in JOSM, it will assign negative IDs. </p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/83057/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>11 Jan '22, 22:42</strong>
</p>
<img alt="Frederik%20Ramm's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/a2b38d937e70ab39d895d17da0dd1ba4?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/104/frederik-ramm">Frederik Ramm ♦</a><br/>
<span class="score" title="82494 reputation points"><span class="">82.5k</span></span><span title="92 badges"><span class="badge1">●</span><span class="badgecount">92</span></span><span title="720 badges"><span class="silver">●</span><span class="badgecount">720</span></span><span title="1273 badges"><span class="bronze">●</span><span class="badgecount">1273</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Frederik Ramm has 417 accepted answers">23%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-83057">
<a name="83058"></a>
<div class="comment" id="comment-83058">
<div class="comment-score" id="post-83058-score"></div>
<div class="comment-text"><p>This is not an answer for me. The .osm file I'm using is quite lage(country). I'll need to use this local file in the future over and over again. So, ID's are important and adding new node will not be easy for a .osm file with large scale. Isn't there a way or API for this purpose to add/remove/update from python etc.?</p></div>
<div class="comment-info" id="comment-83058-info">
<span class="comment-age">(12 Jan '22, 06:55)</span>
<a class="comment-user userinfo" href="/users/21273/alisvndk88">alisvndk88</a>
</div>
</div>
<a name="83060"></a>
<div class="comment" id="comment-83060">
<div class="comment-score" id="post-83060-score">2</div>
<div class="comment-text"><p>The OSM website (and with it, the API and database) is open source (<a href="https://github.com/openstreetmap/openstreetmap-website).">https://github.com/openstreetmap/openstreetmap-website).</a> You can install your own version locally, populate that with OSM data, and then use it. You can even set up a local Overpass instance fed by that data. But it is a complex system and maybe overkill for your purpose. </p>
<p>In general, keeping your own modified version of OSM data around is often not a good idea since the moment you start making local modifications, you're losing any ability to update your data from OSM in the future.</p></div>
<div class="comment-info" id="comment-83060-info">
<span class="comment-age">(12 Jan '22, 08:39)</span>
<a class="comment-user userinfo" href="/users/104/frederik-ramm">Frederik Ramm ♦</a>
</div>
</div>
<a name="83062"></a>
<div class="comment" id="comment-83062">
<div class="comment-score" id="post-83062-score"></div>
<div class="comment-text"><p>I think osmapi python module is doing exactly what I want. It has ability to update the map using credentials...</p></div>
<div class="comment-info" id="comment-83062-info">
<span class="comment-age">(12 Jan '22, 12:21)</span>
<a class="comment-user userinfo" href="/users/21273/alisvndk88">alisvndk88</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-83057">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-83057-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/83056/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="bmJ47SwkDXLaJd1FNoAwhgmRu3YrkrDx"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>