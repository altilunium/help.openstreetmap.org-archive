<meta charset="utf-8"/><link href="../style.css" rel="stylesheet" type="text/css"/><div id="CALeft"><center><a href="../"><img id="ll" src="https://help.openstreetmap.org/upfiles/osm_help_logo_6.png"/></a></center>
<div class="headNormal">
<h1><a href="/questions/24828/how-can-i-easily-convert-osm-to-mbtiles-with-default-styles">How can I easily convert OSM to MBtiles with default styles?</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/24828/up/" id="post-24828-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-24828-score" title="current number of votes">
    4
</div>
<a class="ajax-command post-vote down" href="/vote/24828/down/" id="post-24828-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/24828/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
   1
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>I want to do a really simple thing:</p>
<ol>
<li>download city data from <a href="http://metro.teczno.com/">http://metro.teczno.com/</a></li>
<li><strong>do some magic (where I don't have to write bazillion stylesheets by hand) to convert it to MBTiles</strong></li>
<li>run it on a mobile app offline</li>
</ol>
<p>The problem is that I can't find a way to sensibly convert the data. I've tried Tilemill (trust me I really tried), but it just doesn't do what I expect. It doesn't really care if I add layers, most of the time it just errors or does nothing for 20 minutes, and even when I get it working the best I could do is this</p>
<p><img alt="" src="http://i.imgur.com/xFs0HHj.png"/></p>
<p>I don't want anything custom, I don't want to create my own layer thingies with custom graphics, or customize how the map works. <strong>All I want is to take the default look of OSM, slice a region and stick it into a MBTiles format.</strong> I also tried <a href="http://www.mapbox.com/tilemill/docs/guides/osm-bright-mac-quickstart/">osm2pgsql according to Tilemill guide</a>, but Tilemill crashed saying that there is some invalid data.</p>
<p>I've read tons of documentation but everything just refers to one more complicated tool than another and 1000 ways to customize things. I tried mapnik and mb-util (which tells me <code>file is encrypted or is not a database</code> for every single file format I've tried), but I couldn't find a simple way to do this.</p>
<p><strong>Could someone please point me to a resource or explain a simple way to take <code>.osm</code> and shove it into a <code>.MBTiles</code>?</strong></p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-.osm" href="/tags/.osm/" rel="tag" title="see questions tagged '.osm'">.osm</a>
<a class="post-tag tag-link-tilemill" href="/tags/tilemill/" rel="tag" title="see questions tagged 'tilemill'">tilemill</a>
<a class="post-tag tag-link-convert" href="/tags/convert/" rel="tag" title="see questions tagged 'convert'">convert</a>
<a class="post-tag tag-link-mbtiles" href="/tags/mbtiles/" rel="tag" title="see questions tagged 'mbtiles'">mbtiles</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>02 Aug '13, 11:51</strong>
</p>
<img alt="darthdeus's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/16a5eec5eca4550033c0e19dba3b32b8?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/7009/darthdeus">darthdeus</a><br/>
<span class="score" title="71 reputation points">71</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="2 badges"><span class="silver">●</span><span class="badgecount">2</span></span><span title="3 badges"><span class="bronze">●</span><span class="badgecount">3</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="darthdeus has no accepted answers">0%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/24828/">
                edited
                <strong>09 Jan '16, 14:46</strong>
</a>
</p>
<img alt="aseerel4c26's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/66f0dc05b44574e3894be07b0b37cf37?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/5179/aseerel4c26">aseerel4c26 ♦</a><br/>
<span class="score" title="32615 reputation points"><span class="">32.6k</span></span><span title="18 badges"><span class="badge1">●</span><span class="badgecount">18</span></span><span title="248 badges"><span class="silver">●</span><span class="badgecount">248</span></span><span title="554 badges"><span class="bronze">●</span><span class="badgecount">554</span></span></p>
</div>
</div>
<div class="comments-container" id="comments-container-24828">
<a name="24844"></a>
<div class="comment" id="comment-24844">
<div class="comment-score" id="post-24844-score"></div>
<div class="comment-text"><p>Did you take a look at the various <a href="http://github.com/mapbox/mbtiles-spec/wiki/Implementations">implementations</a>?</p></div>
<div class="comment-info" id="comment-24844-info">
<span class="comment-age">(02 Aug '13, 15:58)</span>
<a class="comment-user userinfo" href="/users/158/scai">scai ♦</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-24828">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-24828-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    3 Answers:
                    </div>
<div class="tabsA"><a href="/questions/24828/how-can-i-easily-convert-osm-to-mbtiles-with-default-styles?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/24828/how-can-i-easily-convert-osm-to-mbtiles-with-default-styles?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/24828/how-can-i-easily-convert-osm-to-mbtiles-with-default-styles?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/24828/how-can-i-easily-convert-osm-to-mbtiles-with-default-styles?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="24829"></a>
<div class="answer" id="answer-container-24829">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/24829/up/" id="post-24829-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-24829-score" title="current number of votes">
    2
</div>
<a class="ajax-command post-vote down" href="/vote/24829/down/" id="post-24829-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>There is no simple way, except "simply" paying someone to do the complicated stuff for you and send you the MBTiles file you're after. Most of the things that one would usually say in response to your question (osm2pgsql, tilemill etc) you seem to have tried already and failed. It seems to work for other people; maybe you should go to a TileMill support forum and post the exact error messages you received there.</p>
<p>If you are on Windows or Linux - and not on iOS - then another relatively simple option is <a href="www.maperitive.net">Maperitive</a> where you can load an OSM file and export to tiles with a few commands; after that you'd still have to run some utility (e.g. mbutil) to convert the raw tiles to MBTiles format.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/24829/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>02 Aug '13, 12:18</strong>
</p>
<img alt="Frederik%20Ramm's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/a2b38d937e70ab39d895d17da0dd1ba4?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/104/frederik-ramm">Frederik Ramm ♦</a><br/>
<span class="score" title="82494 reputation points"><span class="">82.5k</span></span><span title="92 badges"><span class="badge1">●</span><span class="badgecount">92</span></span><span title="720 badges"><span class="silver">●</span><span class="badgecount">720</span></span><span title="1273 badges"><span class="bronze">●</span><span class="badgecount">1273</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Frederik Ramm has 417 accepted answers">23%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-24829">
<a name="24832"></a>
<div class="comment" id="comment-24832">
<div class="comment-score" id="post-24832-score"></div>
<div class="comment-text"><p>I don't understand why this should be something complicated. I'm not asking to customize anything, I just need to convert one file format to another, no changes, no nothing, just a simple export.</p></div>
<div class="comment-info" id="comment-24832-info">
<span class="comment-age">(02 Aug '13, 12:30)</span>
<a class="comment-user userinfo" href="/users/7009/darthdeus">darthdeus</a>
</div>
</div>
<a name="24843"></a>
<div class="comment" id="comment-24843">
<div class="comment-score" id="post-24843-score">1</div>
<div class="comment-text"><p>Conversions between file formats are rarely simple.</p></div>
<div class="comment-info" id="comment-24843-info">
<span class="comment-age">(02 Aug '13, 15:56)</span>
<a class="comment-user userinfo" href="/users/158/scai">scai ♦</a>
</div>
</div>
<a name="40202"></a>
<div class="comment" id="comment-40202">
<div class="comment-score" id="post-40202-score"></div>
<div class="comment-text"><p>Look at this as an initial-days stage in a multi-year technology development process. At one time it was incredibly complicated to digitize sound and convert it. I also need to render osm data and after getting lost with MBTiles, bit the bullet and am doing it the png tiles way using Maperitive.</p></div>
<div class="comment-info" id="comment-40202-info">
<span class="comment-age">(11 Jan '15, 04:16)</span>
<a class="comment-user userinfo" href="/users/10306/nikhilvj">nikhilvj</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-24829">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-24829-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="44065"></a>
<div class="answer" id="answer-container-44065">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/44065/up/" id="post-44065-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-44065-score" title="current number of votes">
    2
</div>
<a class="ajax-command post-vote down" href="/vote/44065/down/" id="post-44065-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>Maperitive will go from OSM data to Mbtiles directly. Using the default rules files from Maperitive, the output is identical (almost) to OSM rendering. I export to mbtiles for a 5 mile radius area (zooms 10-19) every few months without issue on a windows PC. Takes about 6 hours.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/44065/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>09 Jul '15, 12:21</strong>
</p>
<img alt="RJCorazza's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/5085ea3bf927efbe9f98b1ac9a0d6b3f?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/4997/rjcorazza">RJCorazza</a><br/>
<span class="score" title="101 reputation points">101</span><span title="1 badges"><span class="silver">●</span><span class="badgecount">1</span></span><span title="3 badges"><span class="bronze">●</span><span class="badgecount">3</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="RJCorazza has no accepted answers">0%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-44065">
</div>
<div class="comment-tools" id="comment-tools-44065">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-44065-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="24848"></a>
<div class="answer" id="answer-container-24848">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/24848/up/" id="post-24848-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-24848-score" title="current number of votes">
    1
</div>
<a class="ajax-command post-vote down" href="/vote/24848/down/" id="post-24848-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>There are two general approaches to making mbtiles archives.</p>
<p>1) Generate the tiles yourself, and put them in the mbtiles archive. </p>
<p>For this you'll need a working copy of <a href="http://www.mapbox.com/tilemill/">Tilemill</a>, <a href="https://github.com/openstreetmap/osm2pgsql">osm2pgsql</a> and <a href="https://github.com/gravitystorm/openstreetmap-carto">openstreetmap-carto</a>. Load your extract into the database with osm2pgsql, use the openstreetmap-carto stylesheets (which work fine as a Tilemill project) to apply the normal style rules to your data, and use the Tilemill as a nice user interface to pick the area that you want, and export your mbtiles archive.</p>
<p>2) Bulk-download someone else's map tile images, and put them into an mbtiles archive directly.</p>
<p>Note that very few people do this, and so I'm not sure there's even some scripts available for you to run that will do the whole thing, and it's against the T&amp;Cs of most tileserver providers to run bulk downloads anyway.</p>
<p>You ask for "a simple way to take .osm and shove it into a .MBTiles" but there's nothing fundamentally simple about it. At some point the raw OSM data needs styling and converting into tiles, either by you or by someone else.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/24848/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>02 Aug '13, 17:57</strong>
</p>
<img alt="Andy%20Allan's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/c3743b1b368f5e209eb8aad30164acc4?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/3/andy-allan">Andy Allan</a><br/>
<span class="score" title="12456 reputation points"><span class="">12.5k</span></span><span title="23 badges"><span class="badge1">●</span><span class="badgecount">23</span></span><span title="128 badges"><span class="silver">●</span><span class="badgecount">128</span></span><span title="153 badges"><span class="bronze">●</span><span class="badgecount">153</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Andy Allan has 46 accepted answers">28%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-24848">
</div>
<div class="comment-tools" id="comment-tools-24848">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-24848-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/24828/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="w52YR0PnjI4sDsgvVNldt76P2VNVfDPv"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>