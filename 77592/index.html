<meta charset="UTF-8"><link rel="stylesheet" type="text/css" href="../style.css"><div id="CALeft">
<div class="headNormal">
<h1><a href="/questions/77592/tile-1222631404png-looks-broken">tile: /12/2263/1404.png looks broken</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/77592/up/" id="post-77592-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-77592-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/77592/down/" id="post-77592-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/77592/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>Response looks OK but the file wont render.
<a href="https://b.tile.openstreetmap.org/12/2263/1404.png">https://b.tile.openstreetmap.org/12/2263/1404.png</a></p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-tiles" href="/tags/tiles/" rel="tag" title="see questions tagged 'tiles'">tiles</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>18 Nov '20, 09:52</strong>
</p>
<img alt="marianskrisa's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/03be774041ff1d970881d0d719266ab0?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/19288/marianskrisa">marianskrisa</a><br/>
<span class="score" title="11 reputation points">11</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">●</span><span class="badgecount">1</span></span><span title="2 badges"><span class="bronze">●</span><span class="badgecount">2</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="marianskrisa has no accepted answers">0%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-77592">
<a name="77594"></a>
<div class="comment" id="comment-77594">
<div class="comment-score" id="post-77594-score">2</div>
<div class="comment-text"><p>Looks fine here but as it is cache-dependent, can you post the output of <a href="https://tile.openstreetmap.org/cgi-bin/debug">https://tile.openstreetmap.org/cgi-bin/debug</a> ?</p></div>
<div class="comment-info" id="comment-77594-info">
<span class="comment-age">(18 Nov '20, 10:06)</span>
<a class="comment-user userinfo" href="/users/17439/spiekerooger">Spiekerooger</a>
</div>
</div>
<a name="77622"></a>
<div class="comment" id="comment-77622">
<div class="comment-score" id="post-77622-score"></div>
<div class="comment-text"><p>For completeness <a href="https://37.17.173.8/12/2263/1404.png">https://37.17.173.8/12/2263/1404.png</a> loads in Chrome (including incognito) for me as well and also FWIW Internet Explorer (!).  It doesn't mean there isn't a problem with that tile though.</p></div>
<div class="comment-info" id="comment-77622-info">
<span class="comment-age">(19 Nov '20, 16:17)</span>
<a class="comment-user userinfo" href="/users/387/someoneelse">SomeoneElse ♦</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-77592">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-77592-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    2 Answers:
                    </div>
<div class="tabsA"><a href="/questions/77592/tile-1222631404png-looks-broken?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/77592/tile-1222631404png-looks-broken?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/77592/tile-1222631404png-looks-broken?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/77592/tile-1222631404png-looks-broken?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="77599"></a>
<div class="answer answered-by-owner" id="answer-container-77599">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/77599/up/" id="post-77599-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-77599-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/77599/down/" id="post-77599-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>tile.openstreetmap.org debug
  Server Stats
  Cache Server: sarkany.openstreetmap.org</p>
<p>Render Server: rhaegal.openstreetmap.org
  Load Average: 14.94</p>
<p>File Status
  simplified-land-polygons-complete-3857.zip last modified: Wed Nov 11 08:03:27 2020
  simplified-water-polygons-split-3857.zip last modified: Wed Nov 11 08:03:46 2020
  ne_110m_admin_0_boundary_lines_land.zip last modified: Sun Jul 22 18:07:58 2018
  land-polygons-split-3857.zip last modified: Wed Nov 11 08:04:25 2020
  water-polygons-split-3857.zip last modified: Wed Nov 11 08:05:31 2020
  antarctica-icesheet-polygons-3857.zip last modified: Wed Nov 11 08:06:13 2020
  antarctica-icesheet-outlines-3857.zip last modified: Wed Nov 11 08:06:19 2020
  Browser Request Headers
  CONTEXT_DOCUMENT_ROOT: /srv/tile.openstreetmap.org/cgi-bin/
  CONTEXT_PREFIX: /cgi-bin/
  DOCUMENT_ROOT: /srv/tile.openstreetmap.org/html
  GATEWAY_INTERFACE: CGI/1.1
  HTTPS: on
  HTTP_CACHE_CONTROL: max-age=1209600
  HTTP_CONNECTION: keep-alive
  HTTP_HOST: tile.openstreetmap.org
  HTTP_SURROGATE_CAPABILITY: sarkany.openstreetmap.org="Surrogate/1.0 ESI/1.0"
  HTTP_USER_AGENT: NONE
  HTTP_VIA: 1.1 sarkany.openstreetmap.org (squid/4.11)
  HTTP_X_FORWARDED_FOR: 213.160.XXX.XXX, 127.0.0.1
  LC_CTYPE: C.UTF-8
  PATH: /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
  QUERY_STRING:
  REMOTE_ADDR: 37.17.173.8
  REMOTE_PORT: 22236
  REQUEST_METHOD: GET
  REQUEST_SCHEME: https
  REQUEST_URI: /cgi-bin/debug
  SCRIPT_FILENAME: /srv/tile.openstreetmap.org/cgi-bin/debug
  SCRIPT_NAME: /cgi-bin/debug
  SCRIPT_URI: <a href="https://tile.openstreetmap.org/cgi-bin/debug">https://tile.openstreetmap.org/cgi-bin/debug</a>
  SCRIPT_URL: /cgi-bin/debug
  SERVER_ADDR: 10.5.0.77
  SERVER_ADMIN: webmaster@openstreetmap.org
  SERVER_NAME: tile.openstreetmap.org
  SERVER_PORT: 443
  SERVER_PROTOCOL: HTTP/1.1
  SERVER_SIGNATURE:</p>
<p>Apache/2.4.41 (Ubuntu) Server at tile.openstreetmap.org Port 443</p>
<p>SERVER_SOFTWARE: Apache/2.4.41 (Ubuntu)</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/77599/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>18 Nov '20, 13:44</strong>
</p>
<img alt="marianskrisa's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/03be774041ff1d970881d0d719266ab0?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/19288/marianskrisa">marianskrisa</a><br/>
<span class="score" title="11 reputation points">11</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">●</span><span class="badgecount">1</span></span><span title="2 badges"><span class="bronze">●</span><span class="badgecount">2</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="marianskrisa has no accepted answers">0%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/77599/">
                edited
                <strong>18 Nov '20, 13:57</strong>
</a>
</p>
<img alt="Spiekerooger's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/e06ed329df6032df14b5639de4d64782?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/17439/spiekerooger">Spiekerooger</a><br/>
<span class="score" title="3148 reputation points"><span class="">3.1k</span></span><span title="2 badges"><span class="badge1">●</span><span class="badgecount">2</span></span><span title="23 badges"><span class="silver">●</span><span class="badgecount">23</span></span><span title="56 badges"><span class="bronze">●</span><span class="badgecount">56</span></span></p>
</div>
</div>
<div class="comments-container" id="comments-container-77599">
<a name="77600"></a>
<div class="comment" id="comment-77600">
<div class="comment-score" id="post-77600-score"></div>
<div class="comment-text"><p>Confirmed that the tile is broken on sarkany. I tried to initiate a re-rendering/re-caching but as of now I'm unsure if the /dirty method still works (maybe someone else or SomeoneElse could confirm?). It does look as only this tile is affected, other tiles surrounding this one are not. Maybe related to an outage of the sarkany cache for about ~ 1 hour today at midnight?</p></div>
<div class="comment-info" id="comment-77600-info">
<span class="comment-age">(18 Nov '20, 14:04)</span>
<a class="comment-user userinfo" href="/users/17439/spiekerooger">Spiekerooger</a>
</div>
</div>
<a name="77602"></a>
<div class="comment" id="comment-77602">
<div class="comment-score" id="post-77602-score"></div>
<div class="comment-text"><p>Can you open <a href="https://www.openstreetmap.org/#map=12/49.1131/18.9420">https://www.openstreetmap.org/#map=12/49.1131/18.9420</a> and do a hard refresh? It should initiate a reload of the tile into the cache.</p></div>
<div class="comment-info" id="comment-77602-info">
<span class="comment-age">(18 Nov '20, 14:48)</span>
<a class="comment-user userinfo" href="/users/17439/spiekerooger">Spiekerooger</a>
</div>
</div>
<a name="77604"></a>
<div class="comment" id="comment-77604">
<div class="comment-score" id="post-77604-score"></div>
<div class="comment-text"><p>Ok I did, but I see no changes.</p></div>
<div class="comment-info" id="comment-77604-info">
<span class="comment-age">(18 Nov '20, 18:55)</span>
<a class="comment-user userinfo" href="/users/19288/marianskrisa">marianskrisa</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-77599">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-77599-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="77615"></a>
<div class="answer" id="answer-container-77615">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/77615/up/" id="post-77615-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-77615-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/77615/down/" id="post-77615-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p><img alt="alt text" src="https://help.openstreetmap.org/upfiles/broken_tile.JPG"/></p>
<p>This is the tile, what is broken?</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/77615/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>19 Nov '20, 13:55</strong>
</p>
<img alt="andy%20mackey's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/efa7ca36d4499200879223dc5ad5ecac?s=32&amp;d=identicon&amp;r=g" width="32">
<p><a href="/users/644/andy-mackey">andy mackey</a><br/>
<span class="score" title="13238 reputation points"><span class="">13.2k</span></span><span title="87 badges"><span class="badge1">●</span><span class="badgecount">87</span></span><span title="143 badges"><span class="silver">●</span><span class="badgecount">143</span></span><span title="285 badges"><span class="bronze">●</span><span class="badgecount">285</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="andy mackey has 37 accepted answers">4%</span>
</p>
</img></div>
</div>
<div class="comments-container" id="comments-container-77615">
<a name="77617"></a>
<div class="comment" id="comment-77617">
<div class="comment-score" id="post-77617-score">2</div>
<div class="comment-text"><p>That tile form sarkany won't display in (at least) firefox. FF says the png contains errors. So I can confirm what marianskrisa says and I've tried a hard refresh from www.openstreetmap.org, it won't help - as nginx/squid thinks there is a fine file. It does smell as if the png has some extra or mising bytes in there.</p></div>
<div class="comment-info" id="comment-77617-info">
<span class="comment-age">(19 Nov '20, 14:20)</span>
<a class="comment-user userinfo" href="/users/17439/spiekerooger">Spiekerooger</a>
</div>
</div>
<a name="77618"></a>
<div class="comment" id="comment-77618">
<div class="comment-score" id="post-77618-score">2</div>
<div class="comment-text"><p>(for Andy Mackey's benefit) 
The actual location that tiles are loaded from depends where you are in the world.  The person who asked this question is trying to load this tile from an address that translates to <a href="http://37.17.173.8/12/2263/1404.png">http://37.17.173.8/12/2263/1404.png</a> - that gives an error.  A next-door tile <a href="https://37.17.173.8/12/2263/1405.png">https://37.17.173.8/12/2263/1405.png</a> works OK.</p>
<p>The thing that determines what tile server you get is your DNS, so in the UK I currently get 185.73.44.167, also known as london-02.tile.openstreetmap.org, when I try to load anything from b.tile.openstreetmap.org.</p>
<p>Separately to the PNG error with this tile trying to load, <a href="https://37.17.173.8/12/2263/1405.png">https://37.17.173.8/12/2263/1405.png</a> will of course get a browser certificate warning, because the certificate on the web server is valid for "b.tile.openstreetmap.org" (among others) but not for the raw address 37.17.173.8.</p></div>
<div class="comment-info" id="comment-77618-info">
<span class="comment-age">(19 Nov '20, 14:52)</span>
<a class="comment-user userinfo" href="/users/387/someoneelse">SomeoneElse ♦</a>
</div>
</div>
<a name="77621"></a>
<div class="comment" id="comment-77621">
<div class="comment-score" id="post-77621-score"></div>
<div class="comment-text"><p>To test this further you can manipulate your local hosts file in setting 37.17.173.8 as the A record for tile.openstreetmap.org. If you then open <a href="https://www.openstreetmap.org/#map=12/49.1131/18.9420">https://www.openstreetmap.org/#map=12/49.1131/18.9420</a> in FF you'll see the problem as shown by marianskrisa below. And even a hard refresh won't work.</p>
<p>I know that one tile is not the world out of those billions of tiles in 55+ tile caches but it would be really nice to find a solution to solve this by other means than asking the SysOWG. Sth. magic without having to ssh into sarkany ;)</p></div>
<div class="comment-info" id="comment-77621-info">
<span class="comment-age">(19 Nov '20, 15:49)</span>
<a class="comment-user userinfo" href="/users/17439/spiekerooger">Spiekerooger</a>
</div>
</div>
<a name="77632"></a>
<div class="comment" id="comment-77632">
<div class="comment-score" id="post-77632-score"></div>
<div class="comment-text"><p><img alt="alt text" src="https://help.openstreetmap.org/upfiles/tile_error2.jpg"/></p></div>
<div class="comment-info" id="comment-77632-info">
<span class="comment-age">(20 Nov '20, 06:28)</span>
<a class="comment-user userinfo" href="/users/19288/marianskrisa">marianskrisa</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-77615">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-77615-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/77592/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="J77KJ2DHi3W8lcaJMJDFuzAff03QWwOy"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>