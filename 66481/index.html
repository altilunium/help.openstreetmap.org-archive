<meta charset="utf-8"/><link href="../style.css" rel="stylesheet" type="text/css"/><div id="CALeft"><center><a href="../"><img id="ll" src="https://help.openstreetmap.org/upfiles/osm_help_logo_6.png"/></a></center>
<div class="headNormal">
<h1><a href="/questions/66481/find-nodeway-at-a-specific-distance-range-from-given-nodeway">Find node/way at a specific distance range from given node/way</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/66481/up/" id="post-66481-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-66481-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/66481/down/" id="post-66481-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/66481/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>I'm using Overpass query to identify the nodes with a specific tag that are located only within a certain distance range from node with another specific tag. This sounds similar to <a href="https://help.openstreetmap.org/questions/33089/proximity-search-node-with-tag1-near-node-with-tag2">this</a> question related to proxmity search and <a href="https://help.openstreetmap.org/questions/32190/calculate-distance-from-one-node-to-several-other-nodes-in-area">this other</a> distance calculation between nodes question. </p>
<p>But to tell the difference, I can try to explain with an example.</p>
<p>Find a cafe within a distance range of 450 m and 550 m from a library or</p>
<p>Find a gas station with a distance range of 9 km and 11 km from IKEA or</p>
<p>Find the railway crossing that is between a distance 900 m and 1100 m from a train station.</p>
<p>Query for 2nd search:</p>
<p><code>[timeout:300];
way[name=IKEA]({{bbox}}) -&gt; .i;
((node[amenity=fuel](around.i:1100); way[amenity=fuel](around.i:1100);););
out geom;</code></p>
<p><code>[timeout:300];
way[name=IKEA]({{bbox}}) -&gt; .i;
((node[amenity=fuel](around.i:1100); way[amenity=fuel](around.i:1100););-((node[amenity=fuel](around.i:900);
way[amenity=fuel](around.i:900););););
out geom;</code></p>
<p>I have used <code>.around</code> to specify the range limits and used  <code>out geom 1</code> to limit my result with only 1 output. For these 3 queries, the distance provided to <code>.around</code> clause will be considered as a direct distance and not the routing distance for a car or a train. How can I make sure that the train travels 0.9 to 1.1 km from station to the rail-crossing.</p>
<p>I wish to know if it is at all possible to achieve such query in Overpass. It would be great if there is confirmation for the same or suggestion to make this work through other method.</p>
<p>Thanks!</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-distance" href="/tags/distance/" rel="tag" title="see questions tagged 'distance'">distance</a>
<a class="post-tag tag-link-osm" href="/tags/osm/" rel="tag" title="see questions tagged 'osm'">osm</a>
<a class="post-tag tag-link-routing" href="/tags/routing/" rel="tag" title="see questions tagged 'routing'">routing</a>
<a class="post-tag tag-link-overpass-ql" href="/tags/overpass-ql/" rel="tag" title="see questions tagged 'overpass-ql'">overpass-ql</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>26 Oct '18, 09:13</strong>
</p>
<img alt="user1894's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/ef1bb309497d56d45a23249ef5fdff4d?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/15800/user1894">user1894</a><br/>
<span class="score" title="11 reputation points">11</span><span title="4 badges"><span class="badge1">●</span><span class="badgecount">4</span></span><span title="4 badges"><span class="silver">●</span><span class="badgecount">4</span></span><span title="6 badges"><span class="bronze">●</span><span class="badgecount">6</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="user1894 has no accepted answers">0%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-66481">
</div>
<div class="comment-tools" id="comment-tools-66481">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-66481-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<form action="/questions/66481/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="oVrVfc7c2BnjDY3a2wkhhDTUyIt3dlef"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>