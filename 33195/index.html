<meta charset="utf-8"/><link href="../style.css" rel="stylesheet" type="text/css"/><div id="CALeft"><center><a href="../"><img id="ll" src="https://help.openstreetmap.org/upfiles/osm_help_logo_6.png"/></a></center>
<div class="headNormal">
<h1><a href="/questions/33195/get-distance-from-gpx-programmatic-ally-using-javascript">Get distance from gpx programmatic-ally using javascript</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/33195/up/" id="post-33195-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-33195-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/33195/down/" id="post-33195-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/33195/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>I have a gpx file. I mapped the route to a local openstreetmap (followed <a href="https://wiki.openstreetmap.org/wiki/Openlayers_Track_example">https://wiki.openstreetmap.org/wiki/Openlayers_Track_example</a> example).</p>
<p>My requirement is to get distance of the route. How can i achieve that? I need to achieve it programmatic-ally using javascript. </p>
<p>Please help, Thanks.</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-calculation" href="/tags/calculation/" rel="tag" title="see questions tagged 'calculation'">calculation</a>
<a class="post-tag tag-link-distance" href="/tags/distance/" rel="tag" title="see questions tagged 'distance'">distance</a>
<a class="post-tag tag-link-javascript" href="/tags/javascript/" rel="tag" title="see questions tagged 'javascript'">javascript</a>
<a class="post-tag tag-link-gpx" href="/tags/gpx/" rel="tag" title="see questions tagged 'gpx'">gpx</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>15 May '14, 12:02</strong>
</p>
<img alt="ErmaIsabel's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/4cb6366ce1566eab1149c611c79b25c5?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/8858/ermaisabel">ErmaIsabel</a><br/>
<span class="score" title="1 reputation points">1</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="bronze">●</span><span class="badgecount">1</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="ErmaIsabel has no accepted answers">0%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/33195/">
                edited
                <strong>15 May '14, 13:24</strong>
</a>
</p>
<img alt="aseerel4c26's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/66f0dc05b44574e3894be07b0b37cf37?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/5179/aseerel4c26">aseerel4c26 ♦</a><br/>
<span class="score" title="32615 reputation points"><span class="">32.6k</span></span><span title="18 badges"><span class="badge1">●</span><span class="badgecount">18</span></span><span title="248 badges"><span class="silver">●</span><span class="badgecount">248</span></span><span title="554 badges"><span class="bronze">●</span><span class="badgecount">554</span></span></p>
</div>
</div>
<div class="comments-container" id="comments-container-33195">
<a name="33196"></a>
<div class="comment" id="comment-33196">
<div class="comment-score" id="post-33196-score">1</div>
<div class="comment-text"><p>What about an external solution (as gpsPrune for example), or does it need to be a webimplementation?</p></div>
<div class="comment-info" id="comment-33196-info">
<span class="comment-age">(15 May '14, 12:45)</span>
<a class="comment-user userinfo" href="/users/4984/iii">iii</a>
</div>
</div>
<a name="33199"></a>
<div class="comment" id="comment-33199">
<div class="comment-score" id="post-33199-score"></div>
<div class="comment-text"><p>So there is no relation to OSM at all, right? It is just how to calculate the distance from a "route" inside a gpx file?  OSM is just the background for viewing, right?</p></div>
<div class="comment-info" id="comment-33199-info">
<span class="comment-age">(15 May '14, 13:26)</span>
<a class="comment-user userinfo" href="/users/5179/aseerel4c26">aseerel4c26 ♦</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-33195">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-33195-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    3 Answers:
                    </div>
<div class="tabsA"><a href="/questions/33195/get-distance-from-gpx-programmatic-ally-using-javascript?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/33195/get-distance-from-gpx-programmatic-ally-using-javascript?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/33195/get-distance-from-gpx-programmatic-ally-using-javascript?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/33195/get-distance-from-gpx-programmatic-ally-using-javascript?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="33197"></a>
<div class="answer" id="answer-container-33197">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/33197/up/" id="post-33197-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-33197-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/33197/down/" id="post-33197-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>Hi Ermalsabel,
the short answer :
1) Get a (free) copy of <a href="http://www.garmin.com/en-US/shop/downloads/basecamp">BaseCamp</a>
2) Import your *.gpx file in BaseCamp
3) Right Click the file
4) Choose open. One of the statistics is the total lenght</p>
<p>The long answer :
1) Get a (free) copy of eg <a href="http://www.gpsbabel.org/download.html">GpsBabel</a>
2) Convert the <em>.gpx to </em>.csv
3) Use a spreadsheet to calculate any statistic</p>
<p>I use Excel but others will work. Calculating distances can be done with <a href="http://en.wikipedia.org/wiki/Great-circle_distance"> The haversine formula </a> but also more straight forward with the spherical law of cosines if you use double precision variables. Also use double precision to calculate time and average speed if there are a few thousand data points in your *.Gpx log as adding increase the error proportionally.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/33197/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>15 May '14, 12:55</strong>
</p>
<img alt="Gys%20de%20Jongh's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/5c3b258ebdc5943f1ab6008f146e7f7c?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/8791/gys-de-jongh">Gys de Jongh</a><br/>
<span class="score" title="713 reputation points">713</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="5 badges"><span class="silver">●</span><span class="badgecount">5</span></span><span title="14 badges"><span class="bronze">●</span><span class="badgecount">14</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Gys de Jongh has 5 accepted answers">16%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-33197">
<a name="33198"></a>
<div class="comment" id="comment-33198">
<div class="comment-score" id="post-33198-score">3</div>
<div class="comment-text"><p>Thank you very much for your reply.I need to achieve it programmatic-ally using javascript. Sorry my question doesn't explain much</p></div>
<div class="comment-info" id="comment-33198-info">
<span class="comment-age">(15 May '14, 13:08)</span>
<a class="comment-user userinfo" href="/users/8858/ermaisabel">ErmaIsabel</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-33197">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-33197-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="33247"></a>
<div class="answer" id="answer-container-33247">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/33247/up/" id="post-33247-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-33247-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/33247/down/" id="post-33247-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>Openlayers is a JavaScript lib that allows to show maps on websites. It also contains stuff to handle gpx data, and a few geometric functions that would very probably answer your need.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/33247/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>16 May '14, 18:04</strong>
</p>
<img alt="yvecai's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/3c7cffe544d6a1c46c97a25b2fdcdedc?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/5587/yvecai">yvecai</a><br/>
<span class="score" title="1481 reputation points"><span class="">1.5k</span></span><span title="12 badges"><span class="silver">●</span><span class="badgecount">12</span></span><span title="26 badges"><span class="bronze">●</span><span class="badgecount">26</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="yvecai has 7 accepted answers">9%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-33247">
</div>
<div class="comment-tools" id="comment-tools-33247">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-33247-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="33248"></a>
<div class="answer" id="answer-container-33248">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/33248/up/" id="post-33248-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-33248-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/33248/down/" id="post-33248-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>GPX files are XML. Its been a while since I've played with Javascript so I can't remember if the XML calls I was using are built in or were part of a library. But anyway, your first step is parsing the GPX to get an array of data.</p>
<p>You may find a bunch of "wpt" (waypoint) elements which you want to ignore. Then there can be one or more "trk" (track) elements that you are interested in. Each track element contains a bunch of "trkpt" elements with "lat" and "lon" attributes. You want to add the distances between each track element to get the total length of the track.</p>
<p>However you don't want the angular distance summed: Convert it to feet/meters or what ever units you need first. There are some quick and dirty conversions you could do but you'll probably want to read up on the official equations for converting spherical coordinates to linear distances. Since that is just math, you can do it in Javascript.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/33248/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>16 May '14, 19:41</strong>
</p>
<img alt="n76's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/f60af53a4eba0c21f25c22674fb4a8cc?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/5918/n76">n76</a><br/>
<span class="score" title="10839 reputation points"><span class="">10.8k</span></span><span title="10 badges"><span class="badge1">●</span><span class="badgecount">10</span></span><span title="82 badges"><span class="silver">●</span><span class="badgecount">82</span></span><span title="172 badges"><span class="bronze">●</span><span class="badgecount">172</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="n76 has 48 accepted answers">17%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-33248">
</div>
<div class="comment-tools" id="comment-tools-33248">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-33248-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/33195/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="dzrG45EVEcnpipNMVAn8WR2cbkoej84u"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>