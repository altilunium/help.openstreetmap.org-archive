<meta charset="utf-8"/><link href="../style.css" rel="stylesheet" type="text/css"/><div id="CALeft"><center><a href="../"><img id="ll" src="https://help.openstreetmap.org/upfiles/osm_help_logo_6.png"/></a></center>
<div class="headNormal">
<h1><a href="/questions/23965/overpass-api-database-size">Overpass API database size</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/23965/up/" id="post-23965-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-23965-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/23965/down/" id="post-23965-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/23965/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>Hey,
I'm just about to setup a server with the overpass API.
I had a look at the installation guides and all quote, that with minutely updates and metadata the DB size is up to 150GB and that without updates and metadata one could push this down to 50gb..
So I decided to go with 130GB server harddisk, because I do not want metadata and minutely updates.. 
But what I see is that I get ~93gb of database size when I create the database without metadata. I use the cloning-mechanism.</p>
<p>This is a bit too much, how can I reduce the size of the database? Do I have more options on this when I create the DB on my own (saying from a planet.osm file directly, not by cloning)?
I need ~50 gb for other data on the server, so I would need the Overpass database to consume max. 80gb</p>
<p>And also I'm still a bit confused because the documentation states:
"40 GB of hard disk space (80-100 GB if you want minutely updates, less if you use a smaller extract file)"</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-size" href="/tags/size/" rel="tag" title="see questions tagged 'size'">size</a>
<a class="post-tag tag-link-overpass" href="/tags/overpass/" rel="tag" title="see questions tagged 'overpass'">overpass</a>
<a class="post-tag tag-link-api" href="/tags/api/" rel="tag" title="see questions tagged 'api'">api</a>
<a class="post-tag tag-link-disk" href="/tags/disk/" rel="tag" title="see questions tagged 'disk'">disk</a>
<a class="post-tag tag-link-database" href="/tags/database/" rel="tag" title="see questions tagged 'database'">database</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>04 Jul '13, 11:19</strong>
</p>
<img alt="sequarell's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/17ea9f02cec3c354c58f177b84718170?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/6788/sequarell">sequarell</a><br/>
<span class="score" title="11 reputation points">11</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">●</span><span class="badgecount">1</span></span><span title="2 badges"><span class="bronze">●</span><span class="badgecount">2</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="sequarell has no accepted answers">0%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-23965">
<a name="46888"></a>
<div class="comment" id="comment-46888">
<div class="comment-score" id="post-46888-score"></div>
<div class="comment-text"><p>I'm just importing greece-latest.osm.bz2 (about 200MB) but after importing the data the database is almost 10GB. How will that scale if I import the whole planet? Greece is less than 1% of the whole planet but my db is already about 8% of the estimated total planet db size.</p></div>
<div class="comment-info" id="comment-46888-info">
<span class="comment-age">(29 Nov '15, 11:38)</span>
<a class="comment-user userinfo" href="/users/11689/kgaitanis">kgaitanis</a>
</div>
</div>
<a name="46891"></a>
<div class="comment" id="comment-46891">
<div class="comment-score" id="post-46891-score"></div>
<div class="comment-text"><p><a href="http://help.openstreetmap.org/users/11689/kgaitanis">@kgaitanis</a>: from where do you got the estimate? Keep in mind, that <a href="https://wiki.openstreetmap.org/wiki/Stats#Nodes.2C_ways_and_relations">OSM is growing</a>. Could it be that the estimate is quite old?</p></div>
<div class="comment-info" id="comment-46891-info">
<span class="comment-age">(29 Nov '15, 13:08)</span>
<a class="comment-user userinfo" href="/users/5179/aseerel4c26">aseerel4c26 ♦</a>
</div>
</div>
<a name="46892"></a>
<div class="comment" id="comment-46892">
<div class="comment-score" id="post-46892-score"></div>
<div class="comment-text"><p>well in that case if my db keeps growing at the same pace while I'm adding regions to it, it should take more than 1TB for the whole planet. I'm just making quick calculations here assuming that greece represents 1% of the planet (in reality it should be less). Can anybody tell me how much disk space is needed for the database for the whole planet? I mean with recent data.</p></div>
<div class="comment-info" id="comment-46892-info">
<span class="comment-age">(29 Nov '15, 13:12)</span>
<a class="comment-user userinfo" href="/users/11689/kgaitanis">kgaitanis</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-23965">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-23965-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    One Answer:
                    </div>
<div class="tabsA"><a href="/questions/23965/overpass-api-database-size?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/23965/overpass-api-database-size?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/23965/overpass-api-database-size?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/23965/overpass-api-database-size?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="23968"></a>
<div class="answer" id="answer-container-23968">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/23968/up/" id="post-23968-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-23968-score" title="current number of votes">
    1
</div>
<a class="ajax-command post-vote down" href="/vote/23968/down/" id="post-23968-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>The <a href="http://overpass-api.de/no_frills.html#startup">Overpass installation instructions</a> explain how you can import from a Planet file, but this probably won't achieve what you want since the planet file includes every piece of information in OpenStreetMap and will almost certainly mean a larger DB. If you're only interested in one country or area, you could import an Planet file extract, such as <a href="http://download.geofabrik.de/">those available from Geofabrik</a>, but you won't be able to keep this up to date with diffs.</p>
<p>Equally you could download the entire Planet and filter out any data you aren't interested in using <a href="http://wiki.openstreetmap.org/wiki/Osmosis">Osmosis</a>, but this will be slow and will still need lots of disk space for the two Planet files you will end up storing.</p>
<p>The simplest answer is probably just to get a bigger hard drive, especially since the amount of data in OpenStreetMap is only going to get larger over time.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/23968/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>04 Jul '13, 11:34</strong>
</p>
<img alt="Jonathan%20Bennett's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/9fe361843971cf8b23dc93517f00b996?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/6/jonathan-bennett">Jonathan Ben...</a><br/>
<span class="score" title="8261 reputation points"><span class="">8.3k</span></span><span title="17 badges"><span class="badge1">●</span><span class="badgecount">17</span></span><span title="85 badges"><span class="silver">●</span><span class="badgecount">85</span></span><span title="108 badges"><span class="bronze">●</span><span class="badgecount">108</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Jonathan Bennett has 21 accepted answers">18%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-23968">
<a name="23971"></a>
<div class="comment" id="comment-23971">
<div class="comment-score" id="post-23971-score"></div>
<div class="comment-text"><p>Hello Jonathan,</p>
<p>thanks for the information. As you perhaps noticed I'm pretty new to all this stuff :)
OK, so what I want is data of the whole globe, but not all data.. Mainly I need all kinds of streets and only basic topographic data.
So I'll try to create my own planet file with osmosis. CPU/Ram and disk space is no big manner here, I can create the file on a workstation with enough ressources and then transfer it to the server.</p>
<p>Thanks again!
Florian</p></div>
<div class="comment-info" id="comment-23971-info">
<span class="comment-age">(04 Jul '13, 12:36)</span>
<a class="comment-user userinfo" href="/users/6788/sequarell">sequarell</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-23968">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-23968-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/23965/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="nlVpCbvQvBXOGhCfMz6OwmZNqoEY69FY"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>