<meta charset="UTF-8"><link rel="stylesheet" type="text/css" href="../style.css"><div id="CALeft">
<div class="headNormal">
<h1><a href="/questions/61189/unusual-routing-decision">Unusual routing decision</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/61189/up/" id="post-61189-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-61189-score" title="current number of votes">
    2
</div>
<a class="ajax-command post-vote down" href="/vote/61189/down/" id="post-61189-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/61189/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>Can anyone explain this rather exotic routing decision?
<a href="https://www.openstreetmap.org/#map=14/50.8579/-1.1657">https://www.openstreetmap.org/#map=14/50.8579/-1.1657</a>
I have checked for ways that are not correctly joined, but I cannot find any.</p>
<p>The route that I am trying to create is from 50.8507, -1.1538, to 50.8515, -1.1882 by car. Eventually I will rediscover how to attach an image to this question, and I will be able to show everyone what route the computer chose.</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-osrm" href="/tags/osrm/" rel="tag" title="see questions tagged 'osrm'">osrm</a>
<a class="post-tag tag-link-routingerror" href="/tags/routingerror/" rel="tag" title="see questions tagged 'routingerror'">routingerror</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>14 Dec '17, 18:15</strong>
</p>
<img alt="Madryn's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/c81fd17cde8b2747629b78bdef81a202?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/2591/madryn">Madryn</a><br/>
<span class="score" title="2241 reputation points"><span class="">2.2k</span></span><span title="36 badges"><span class="badge1">●</span><span class="badgecount">36</span></span><span title="51 badges"><span class="silver">●</span><span class="badgecount">51</span></span><span title="81 badges"><span class="bronze">●</span><span class="badgecount">81</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Madryn has 5 accepted answers">13%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/61189/">
                edited
                <strong>22 Dec '17, 08:57</strong>
</a>
</p>
<img alt="scai's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/52d3234f3be58156770e8a91d575bfbd?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/158/scai">scai ♦</a><br/>
<span class="score" title="33317 reputation points"><span class="">33.3k</span></span><span title="21 badges"><span class="badge1">●</span><span class="badgecount">21</span></span><span title="309 badges"><span class="silver">●</span><span class="badgecount">309</span></span><span title="459 badges"><span class="bronze">●</span><span class="badgecount">459</span></span></p>
</div>
</div>
<div class="comments-container" id="comments-container-61189">
<a name="61191"></a>
<div class="comment" id="comment-61191">
<div class="comment-score" id="post-61191-score">3</div>
<div class="comment-text"><p>... which I think is:</p>
<p><a href="https://www.openstreetmap.org/directions?engine=osrm_car&amp;route=50.8507%2C-1.1535%3B50.8521%2C-1.1884#map=14/50.8579/-1.1506">https://www.openstreetmap.org/directions?engine=osrm_car&amp;route=50.8507%2C-1.1535%3B50.8521%2C-1.1884#map=14/50.8579/-1.1506</a></p></div>
<div class="comment-info" id="comment-61191-info">
<span class="comment-age">(14 Dec '17, 18:25)</span>
<a class="comment-user userinfo" href="/users/387/someoneelse">SomeoneElse ♦</a>
</div>
</div>
<a name="61192"></a>
<div class="comment not_top_scorer" id="comment-61192">
<div class="comment-score" id="post-61192-score">1</div>
<div class="comment-text"><p>Thank you, Someone Else. That certainly illustrates the behaviour, although I had intended the journey to stop somewhere around the railway station.</p></div>
<div class="comment-info" id="comment-61192-info">
<span class="comment-age">(14 Dec '17, 18:31)</span>
<a class="comment-user userinfo" href="/users/2591/madryn">Madryn</a>
</div>
</div>
<a name="61197"></a>
<div class="comment not_top_scorer" id="comment-61197">
<div class="comment-score" id="post-61197-score"></div>
<div class="comment-text"><p>Madryn it seems mapzen and graph hopper seem to work as you would expect. Only osrm takes the longer distance route, perhaps osrm's timings for the junctions cause the odd route. I assume from SomeoneElse's comment you now know that you can just cut and paste the url of the map with the route on it.
<a href="https://www.openstreetmap.org/directions?engine=graphhopper_car&amp;route=50.8510%2C-1.1554%3B50.8520%2C-1.1910#map=14/50.8510/-1.1673">https://www.openstreetmap.org/directions?engine=graphhopper_car&amp;route=50.8510%2C-1.1554%3B50.8520%2C-1.1910#map=14/50.8510/-1.1673</a></p></div>
<div class="comment-info" id="comment-61197-info">
<span class="comment-age">(14 Dec '17, 23:49)</span>
<a class="comment-user userinfo" href="/users/644/andy-mackey">andy mackey</a>
</div>
</div>
<a name="61198"></a>
<div class="comment" id="comment-61198">
<div class="comment-score" id="post-61198-score">2</div>
<div class="comment-text"><p>Just an idea: To test an odd routing result i usually just push red and green flags along in short sections until it reveals the problem, it also gives the distance and the time, that may give a clue why osrm does what it does. no need to open an editor until the "error" has been located, maybe?</p></div>
<div class="comment-info" id="comment-61198-info">
<span class="comment-age">(14 Dec '17, 23:57)</span>
<a class="comment-user userinfo" href="/users/644/andy-mackey">andy mackey</a>
</div>
</div>
<a name="61200"></a>
<div class="comment not_top_scorer" id="comment-61200">
<div class="comment-score" id="post-61200-score"></div>
<div class="comment-text"><p>Thanks for the suggestion, andy mackey, but I tried that before I asked the question. The routing system behaved as though the Eastern Way sliproad leading south west from the Delme Roundabout was not connected to the main dual carriageway. However, when I looked, there seemed to be nothing wrong with that junction. It seems that the router really wants to avoid the roundabout, but will use it if left with no alternative.</p></div>
<div class="comment-info" id="comment-61200-info">
<span class="comment-age">(15 Dec '17, 07:53)</span>
<a class="comment-user userinfo" href="/users/2591/madryn">Madryn</a>
</div>
</div>
<a name="61204"></a>
<div class="comment" id="comment-61204">
<div class="comment-score" id="post-61204-score">3</div>
<div class="comment-text"><p>At the risk of stating the obvious, it's perhaps worth mentioning that some routers use older data (sometimes quite a lot older).  A problem with one router doesn't mean a problem with OSM data.</p></div>
<div class="comment-info" id="comment-61204-info">
<span class="comment-age">(15 Dec '17, 12:03)</span>
<a class="comment-user userinfo" href="/users/387/someoneelse">SomeoneElse ♦</a>
</div>
</div>
<a name="61207"></a>
<div class="comment not_top_scorer" id="comment-61207">
<div class="comment-score" id="post-61207-score"></div>
<div class="comment-text"><p>Did you check the surface=* tag on the roads? Sometimes it might effect routing.</p></div>
<div class="comment-info" id="comment-61207-info">
<span class="comment-age">(15 Dec '17, 17:52)</span>
<a class="comment-user userinfo" href="/users/14531/mxdanger">Mxdanger</a>
</div>
</div>
<a name="61208"></a>
<div class="comment" id="comment-61208">
<div class="comment-score" id="post-61208-score">2</div>
<div class="comment-text"><p><a href="https://help.openstreetmap.org/users/387/someoneelse">@SomeoneElse</a>, I checked the history of the Cams Hill, it's from 2013, one of the traffic signals causing the problem from 2014. I  think it's unlikely that data is the reason. I think it's a glitch in their algorithm.</p></div>
<div class="comment-info" id="comment-61208-info">
<span class="comment-age">(15 Dec '17, 19:06)</span>
<a class="comment-user userinfo" href="/users/5390/escada">escada</a>
</div>
</div>
<a name="61322"></a>
<div class="comment" id="comment-61322">
<div class="comment-score" id="post-61322-score">2</div>
<div class="comment-text"><p>You can report potential OSRM bugs at <a href="https://github.com/Project-OSRM/osrm-backend/issues.">https://github.com/Project-OSRM/osrm-backend/issues.</a> I've created a report for you: <a href="https://github.com/Project-OSRM/osrm-backend/issues/4754">https://github.com/Project-OSRM/osrm-backend/issues/4754</a></p></div>
<div class="comment-info" id="comment-61322-info">
<span class="comment-age">(22 Dec '17, 08:59)</span>
<a class="comment-user userinfo" href="/users/158/scai">scai ♦</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-61189">
<span class="comments-showing">
            showing 5 of 9
        </span>
<a class="show-all-comments-link" href="#">show 4 more comments</a>
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-61189-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    2 Answers:
                    </div>
<div class="tabsA"><a href="/questions/61189/unusual-routing-decision?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/61189/unusual-routing-decision?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/61189/unusual-routing-decision?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/61189/unusual-routing-decision?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="61202"></a>
<div class="answer accepted-answer" id="answer-container-61202">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/61202/up/" id="post-61202-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-61202-score" title="current number of votes">
    5
</div>
<a class="ajax-command post-vote down" href="/vote/61202/down/" id="post-61202-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="accept-answer on" href="/accept_answer/61202/" rel="nofollow" title="Madryn has selected this answer as the correct answer">
</a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>when I move the start marker, I notice that for OSRM the problem is located at the traffic signal on Cams Hill (near the bus stop 'Delme Arms Ph') . Exclude that from the route, and it goes over the roundabout. Include it, and it makes a u-turn at the traffic  signal.
After moving the end marker, it seems the OSRM does not "like' the 2 traffic signals: <a href="https://www.openstreetmap.org/directions?engine=osrm_car&amp;route=50.85216%2C-1.16498%3B50.85311%2C-1.16852#map=18/50.85266/-1.16673">https://www.openstreetmap.org/directions?engine=osrm_car&amp;route=50.85216%2C-1.16498%3B50.85311%2C-1.16852#map=18/50.85266/-1.16673</a> include both and it goes wrong, include only 1 and the route is OK.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/61202/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>15 Dec '17, 11:26</strong>
</p>
<img alt="escada's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/813a136afe7d4c95fd5bccdd78705e0e?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/5390/escada">escada</a><br/>
<span class="score" title="19043 reputation points"><span class="">19.0k</span></span><span title="16 badges"><span class="badge1">●</span><span class="badgecount">16</span></span><span title="166 badges"><span class="silver">●</span><span class="badgecount">166</span></span><span title="302 badges"><span class="bronze">●</span><span class="badgecount">302</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="escada has 97 accepted answers">21%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-61202">
</div>
<div class="comment-tools" id="comment-tools-61202">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-61202-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="61448"></a>
<div class="answer" id="answer-container-61448">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/61448/up/" id="post-61448-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-61448-score" title="current number of votes">
    4
</div>
<a class="ajax-command post-vote down" href="/vote/61448/down/" id="post-61448-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>According to <a href="https://github.com/Project-OSRM/osrm-backend/issues/4754">https://github.com/Project-OSRM/osrm-backend/issues/4754</a> this is an upstream bug caused by an invalidly applied U-Turn penalty. It will be fixed in the next OSRM release.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/61448/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>02 Jan '18, 08:22</strong>
</p>
<img alt="scai's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/52d3234f3be58156770e8a91d575bfbd?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/158/scai">scai ♦</a><br/>
<span class="score" title="33317 reputation points"><span class="">33.3k</span></span><span title="21 badges"><span class="badge1">●</span><span class="badgecount">21</span></span><span title="309 badges"><span class="silver">●</span><span class="badgecount">309</span></span><span title="459 badges"><span class="bronze">●</span><span class="badgecount">459</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="scai has 168 accepted answers">23%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-61448">
</div>
<div class="comment-tools" id="comment-tools-61448">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-61448-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/61189/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="71MH7UltZAL0OONyZKFdUZ1oHQWxK6sI"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>