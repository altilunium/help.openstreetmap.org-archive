<meta charset="utf-8"/><link href="../style.css" rel="stylesheet" type="text/css"/><div id="CALeft"><center><a href="../"><img id="ll" src="https://help.openstreetmap.org/upfiles/osm_help_logo_6.png"/></a></center>
<div class="headNormal">
<h1><a href="/questions/16967/josm-error-message-atributes-version-and-changeset-1">[closed] JOSM error message: "Atributes version and changeset = -1"</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/16967/up/" id="post-16967-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-16967-score" title="current number of votes">
    2
</div>
<a class="ajax-command post-vote down" href="/vote/16967/down/" id="post-16967-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/16967/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>I have  : </p>
<ul>
<li>installed Rails Port</li>
<li>downloaded OSM data from <a href="http://download.bbbike.org/osm/">http://download.bbbike.org/osm/</a></li>
<li>imported a country with Osmosis on my PostgreSQL server</li>
</ul>
<p>I want to :</p>
<ul>
<li>change things with JOSM</li>
</ul>
<p>But :</p>
<ul>
<li>When I want to download map data from my OSM server with JOSM, JOSM reports an error:</li>
</ul>
<blockquote>
<p>Failed to download data. Its format is
either unsupported, ill-formed, and/or
inconsistent.  Details (untranslated):
Illegal value for attribute 'version'
on OSM primitive with ID 26616418. Got
-1. (at line 4, column 128)</p>
</blockquote>
<p>Here is an extract from the map.osm that JOSM tries to import :</p>
<pre><code>&lt;node id="65262752" version="-1" changeset="-1" lat="36.76644" lon="3.06899" visible="true" timestamp="1970-01-01T00:59:59Z"&gt;
</code></pre>
<p>What's going wrong here?</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-josm" href="/tags/josm/" rel="tag" title="see questions tagged 'josm'">josm</a>
<a class="post-tag tag-link-port" href="/tags/port/" rel="tag" title="see questions tagged 'port'">port</a>
<a class="post-tag tag-link-rails" href="/tags/rails/" rel="tag" title="see questions tagged 'rails'">rails</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>17 Oct '12, 17:26</strong>
</p>
<img alt="Lucciniolo's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/7b617cf420f8c250aa7020faf6919bd7?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/4774/lucciniolo">Lucciniolo</a><br/>
<span class="score" title="31 reputation points">31</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">●</span><span class="badgecount">1</span></span><span title="2 badges"><span class="bronze">●</span><span class="badgecount">2</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Lucciniolo has no accepted answers">0%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/16967/">
                closed
                <strong>18 May '17, 23:31</strong>
</a>
</p>
<img alt="SimonPoole's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/ad2513d6f8e3d709d576ace900c12fa5?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/2053/simonpoole">SimonPoole ♦</a><br/>
<span class="score" title="44667 reputation points"><span class="">44.7k</span></span><span title="13 badges"><span class="badge1">●</span><span class="badgecount">13</span></span><span title="326 badges"><span class="silver">●</span><span class="badgecount">326</span></span><span title="701 badges"><span class="bronze">●</span><span class="badgecount">701</span></span></p>
</div>
</div>
<div class="comments-container" id="comments-container-16967">
<a name="16981"></a>
<div class="comment" id="comment-16981">
<div class="comment-score" id="post-16981-score"></div>
<div class="comment-text"><p>In fact, all vesion and changeset of the .osm that i have imported was equal to -1 !</p>
<p>I think that it is not normal. What do you think about that ?</p></div>
<div class="comment-info" id="comment-16981-info">
<span class="comment-age">(17 Oct '12, 21:20)</span>
<a class="comment-user userinfo" href="/users/4774/lucciniolo">Lucciniolo</a>
</div>
</div>
<a name="16983"></a>
<div class="comment" id="comment-16983">
<div class="comment-score" id="post-16983-score"></div>
<div class="comment-text"><p>Ok. In fact, it is normal because I dowmload tne data on <a href="http://download.bbbike.org/osm/">http://download.bbbike.org/osm/</a> which have not diffs.</p>
<p>What can i do to use my database with JOSM ?</p>
<p>Can i change version and changeset manuelly ?</p></div>
<div class="comment-info" id="comment-16983-info">
<span class="comment-age">(17 Oct '12, 21:29)</span>
<a class="comment-user userinfo" href="/users/4774/lucciniolo">Lucciniolo</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-16967">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-16967-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<div class="question-status" style="margin-bottom:15px">
<h3>
                The question has been closed for the following reason "The question is answered" by
                <a href="/users/2053/simonpoole">SimonPoole</a>
                 18 May '17, 23:31
            </h3>
</div>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    One Answer:
                    </div>
<div class="tabsA"><a href="/questions/16967/josm-error-message-atributes-version-and-changeset-1?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/16967/josm-error-message-atributes-version-and-changeset-1?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/16967/josm-error-message-atributes-version-and-changeset-1?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/16967/josm-error-message-atributes-version-and-changeset-1?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="16989"></a>
<div class="answer" id="answer-container-16989">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/16989/up/" id="post-16989-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-16989-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/16989/down/" id="post-16989-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>As you said, the extracts from bbbike.org have the version of all map objects set to -1. They also have all timestamps set to 1969. I'm not sure why, but this definitely makes them unusable for editing in JOSM. </p>
<p>I suppose you could modify the version manually by replacing <code>version="-1"</code> with <code>version="1"</code> in your downloaded extract before importing it. Or you could run some SQL queries on the database to change the version manually. You would need to update <code>version</code> in the tables: <code>current_nodes, current_ways and current_relations</code>. The <code>changeset_id</code> might need to be changed too but I'm not sure about that.</p>
<p>It might be easier to look for a different extract that provides the real OSM data with real version numbers instead of a modified version of it. </p>
<p>Other extract providers are listed on the wiki "<a href="http://wiki.openstreetmap.org/wiki/Planet">Planet</a>" page. I personally would recommend the geofabrik ones.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/16989/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>18 Oct '12, 05:19</strong>
</p>
<img alt="ToeBee's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/43ae79d3345e19f30ea5f2ea64a9f7bc?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/2498/toebee">ToeBee</a><br/>
<span class="score" title="976 reputation points">976</span><span title="9 badges"><span class="silver">●</span><span class="badgecount">9</span></span><span title="20 badges"><span class="bronze">●</span><span class="badgecount">20</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="ToeBee has 6 accepted answers">27%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-16989">
<a name="56224"></a>
<div class="comment" id="comment-56224">
<div class="comment-score" id="post-56224-score"></div>
<div class="comment-text"><p>As explained by ToeBee, this is a problem with the OSM data you downloaded - the data contains wrong version values (namely -1). This is because <strong>the extracts from bbbike.org are not suitable for editing</strong>.</p>
<p>The FAQ at <a href="http://extract.bbbike.org/extract.html">http://extract.bbbike.org/extract.html</a> explains:</p>
<blockquote>
<p>The extracts don't contain metadata as
version number, author, timestamp etc.
If you need to edit OSM data, please
go to the OpenStreetMap.org web site.</p>
</blockquote>
<p>Consequently, the extracts in Protocol Buffers format (.pbf) all have all version attributes set to -1, at least when I checked (2017-05-18). </p>
<p>The downloads in OSM XML format (.xml.gz) also do not contain a proper version, only there the version is always set to 1 instead of -1 (which is arguably even worse, because tools will not notice right away).</p>
<p>You will have to obtain OSM data from somewhere else.</p></div>
<div class="comment-info" id="comment-56224-info">
<span class="comment-age">(18 May '17, 09:55)</span>
<a class="comment-user userinfo" href="/users/666/sleske">sleske</a>
</div>
</div>
<a name="56225"></a>
<div class="comment" id="comment-56225">
<div class="comment-score" id="post-56225-score"></div>
<div class="comment-text"><p>No, manually "fixing" the version will not work (or cause even more trouble). JOSM needs the <em>right version</em> of each object to update it correctly. That information is simply missing in the downloads, there is no way to fix that.</p></div>
<div class="comment-info" id="comment-56225-info">
<span class="comment-age">(18 May '17, 09:56)</span>
<a class="comment-user userinfo" href="/users/666/sleske">sleske</a>
</div>
</div>
<a name="56227"></a>
<div class="comment" id="comment-56227">
<div class="comment-score" id="post-56227-score"></div>
<div class="comment-text"><p>How would JOSM know whether the data contains the "right version" or not? There's no such thing. As long as JOSM gets a <em>valid</em> version number (ie. &gt;=1), it shouldn't have a problem opening it and working with it. Keep in mind that the database in question here is separate from the "live" OSM database and they didn't say anything about uploading this data to the OSM database, so mis-matching versions wouldn't be an issue.</p></div>
<div class="comment-info" id="comment-56227-info">
<span class="comment-age">(18 May '17, 16:34)</span>
<a class="comment-user userinfo" href="/users/8189/alester">alester</a>
</div>
</div>
<a name="56228"></a>
<div class="comment" id="comment-56228">
<div class="comment-score" id="post-56228-score">1</div>
<div class="comment-text"><p>Folks this question was asked nearly 5 years ago, and is long outdated. not to mention that the author is unlikely to still be waiting for your input.</p></div>
<div class="comment-info" id="comment-56228-info">
<span class="comment-age">(18 May '17, 23:30)</span>
<a class="comment-user userinfo" href="/users/2053/simonpoole">SimonPoole ♦</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-16989">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-16989-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/16967/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="0Q1XUE1p86f7UajjspWShTDmG0WCxm5Z"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>