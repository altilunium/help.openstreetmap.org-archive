<meta charset="UTF-8"><link rel="stylesheet" type="text/css" href="../style.css"><div id="CALeft">
<div class="headNormal">
<h1><a href="/questions/71934/osmconvert-errors-while-merging-maps-in-windows-10-unknown-file-format-could-not-open-input-file-osmpbf">osmconvert - errors while merging maps in Windows 10 - unknown file format, could not open input file: .osm.pbf</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/71934/up/" id="post-71934-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-71934-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/71934/down/" id="post-71934-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/71934/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>I've donwloaded the following maps:</p>
<pre><code>andorra-latest.osm.pbf       <a href="https://download.geofabrik.de/europe/andorra-latest.osm.pbf">https://download.geofabrik.de/europe/andorra-latest.osm.pbf</a>
azores-latest.osm.pbf        <a href="https://download.geofabrik.de/europe/azores-latest.osm.pbf">https://download.geofabrik.de/europe/azores-latest.osm.pbf</a>
cyprus-latest.osm.pbf        <a href="https://download.geofabrik.de/europe/cyprus-latest.osm.pbf">https://download.geofabrik.de/europe/cyprus-latest.osm.pbf</a>
</code></pre>
<p>And I am using <a href="https://wiki.openstreetmap.org/wiki/Osmconvert#Windows">osmconvert</a> to merge maps. I read <a href="https://help.openstreetmap.org/questions/48843/merging-two-or-more-geographical-areas-to-import-two-or-more-osm-files-in-nominatim">this answer</a> to merge maps. So my command of merging the above maps looks like this:</p>
<pre><code>.\osmconvert andorra-latest.osm.pbf --out-o5m | .\osmconvert - azores-latest.osm.pbf | .\osmconvert - cyprus-latest.osm.pbf -o=all.osm.pbf
</code></pre>
<p>However, the osmconvert shows the following errors after running the above command:</p>
<pre><code>osmconvert Error: unknown file format: standard input
osmconvert Error: could not open input file: .osm.pbf
</code></pre>
<p>An image:
<img alt="alt text" src="https://help.openstreetmap.org/upfiles/osmoutput.png"/></p>
<p>However, the merging perfectly works in Windows 7 and Windows Server 2016 Standard</p>
<p>Does anybody know how to solve this error?</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-openstreetmap" href="/tags/openstreetmap/" rel="tag" title="see questions tagged 'openstreetmap'">openstreetmap</a>
<a class="post-tag tag-link-merge" href="/tags/merge/" rel="tag" title="see questions tagged 'merge'">merge</a>
<a class="post-tag tag-link-osmconvert" href="/tags/osmconvert/" rel="tag" title="see questions tagged 'osmconvert'">osmconvert</a>
<a class="post-tag tag-link-osm.pbf" href="/tags/osm.pbf/" rel="tag" title="see questions tagged 'osm.pbf'">osm.pbf</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>02 Dec '19, 09:38</strong>
</p>
<img alt="CuriosityBeginner's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/cbd5c282ccb929604467e3b3f900b0d5?s=32&amp;d=identicon&amp;r=g" width="32">
<p><a href="/users/17522/curiositybeginner">CuriosityBeg...</a><br/>
<span class="score" title="31 reputation points">31</span><span title="3 badges"><span class="badge1">●</span><span class="badgecount">3</span></span><span title="3 badges"><span class="silver">●</span><span class="badgecount">3</span></span><span title="6 badges"><span class="bronze">●</span><span class="badgecount">6</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="CuriosityBeginner has no accepted answers">0%</span>
</p>
</img></div>
</div>
<div class="comments-container" id="comments-container-71934">
</div>
<div class="comment-tools" id="comment-tools-71934">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-71934-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    One Answer:
                    </div>
<div class="tabsA"><a href="/questions/71934/osmconvert-errors-while-merging-maps-in-windows-10-unknown-file-format-could-not-open-input-file-osmpbf?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/71934/osmconvert-errors-while-merging-maps-in-windows-10-unknown-file-format-could-not-open-input-file-osmpbf?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/71934/osmconvert-errors-while-merging-maps-in-windows-10-unknown-file-format-could-not-open-input-file-osmpbf?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/71934/osmconvert-errors-while-merging-maps-in-windows-10-unknown-file-format-could-not-open-input-file-osmpbf?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="71942"></a>
<div class="answer accepted-answer" id="answer-container-71942">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/71942/up/" id="post-71942-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-71942-score" title="current number of votes">
    1
</div>
<a class="ajax-command post-vote down" href="/vote/71942/down/" id="post-71942-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="accept-answer on" href="/accept_answer/71942/" rel="nofollow" title="CuriosityBeginner has selected this answer as the correct answer">
</a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>According to <a href="https://wiki.openstreetmap.org/wiki/Osmconvert#Merging_two_or_more_Geographical_Areas">the documentation</a>, merging files can be done in one shot by listing all of the input files. In your case, the command would be simply:</p>
<pre><code>.\osmconvert andorra-latest.osm.pbf azores-latest.osm.pbf cyprus-latest.osm.pbf -o=all.osm.pbf
</code></pre>
<p>EDIT: Apparently you can't merge like this with .osm.pbf files. You can with .o5m files.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/71942/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>02 Dec '19, 18:19</strong>
</p>
<img alt="alester's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/087bb38ba920baadf1df9dfc473208ec?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/8189/alester">alester</a><br/>
<span class="score" title="6631 reputation points"><span class="">6.6k</span></span><span title="2 badges"><span class="badge1">●</span><span class="badgecount">2</span></span><span title="66 badges"><span class="silver">●</span><span class="badgecount">66</span></span><span title="100 badges"><span class="bronze">●</span><span class="badgecount">100</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="alester has 37 accepted answers">28%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/71942/">
                edited
                <strong>03 Dec '19, 17:15</strong>
</a>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-71942">
<a name="71950"></a>
<div class="comment" id="comment-71950">
<div class="comment-score" id="post-71950-score"></div>
<div class="comment-text"><p>thanks for your reply. However, it says <code>osmconvert Error: more than one.pbf input file is not allowed</code> Maybe you have other suggestions?</p></div>
<div class="comment-info" id="comment-71950-info">
<span class="comment-age">(02 Dec '19, 19:51)</span>
<a class="comment-user userinfo" href="/users/17522/curiositybeginner">CuriosityBeg...</a>
</div>
</div>
<a name="71967"></a>
<div class="comment" id="comment-71967">
<div class="comment-score" id="post-71967-score">2</div>
<div class="comment-text"><p>Looks like merging only works with format <code>o5m</code> and not with <code>pbf</code>. So you have to convert your files to <code>o5m</code> first: <code>osmconvert andorra-latest.osm.pbf -o=andorra-latest.osm.o5m</code>. Afterwards you can merge them. Not sure if the merge process is able to write them as pbf directly or if you need to write o5m again and convert it to pbf during an additional step.</p>
<p>Alternatively just use the more modern and faster <a href="http://osmcode.org/osmium-tool/">osmium-tool</a>: <code>osmium merge andorra-latest.osm.pbf azores-latest.osm.pbf cyprus-latest.osm.pbf -o all.osm.pbf</code>.</p></div>
<div class="comment-info" id="comment-71967-info">
<span class="comment-age">(03 Dec '19, 15:49)</span>
<a class="comment-user userinfo" href="/users/158/scai">scai ♦</a>
</div>
</div>
<a name="72058"></a>
<div class="comment" id="comment-72058">
<div class="comment-score" id="post-72058-score"></div>
<div class="comment-text"><p><a href="https://help.openstreetmap.org/users/158/scai">@scai</a> how can I get exe of osmium-tool? Thanks in advance.</p></div>
<div class="comment-info" id="comment-72058-info">
<span class="comment-age">(10 Dec '19, 08:18)</span>
<a class="comment-user userinfo" href="/users/17522/curiositybeginner">CuriosityBeg...</a>
</div>
</div>
<a name="72060"></a>
<div class="comment" id="comment-72060">
<div class="comment-score" id="post-72060-score">2</div>
<div class="comment-text"><p><a href="https://help.openstreetmap.org/users/17522/curiositybeginner">@CuriosityBeginner</a> As far as I know there are no official Windows builds available. Also see related discussions at <a href="https://github.com/osmcode/osmium-tool/issues/59">https://github.com/osmcode/osmium-tool/issues/59</a> and <a href="https://github.com/osmcode/osmium-tool/pull/105.">https://github.com/osmcode/osmium-tool/pull/105.</a> <a href="https://github.com/osmcode/osmium-tool#building">https://github.com/osmcode/osmium-tool#building</a> explains how to build it yourself using Visual Studio C++. On Linux, osmium-tool is available via the package manager on various distributions.</p></div>
<div class="comment-info" id="comment-72060-info">
<span class="comment-age">(10 Dec '19, 08:37)</span>
<a class="comment-user userinfo" href="/users/158/scai">scai ♦</a>
</div>
</div>
<a name="72063"></a>
<div class="comment" id="comment-72063">
<div class="comment-score" id="post-72063-score"></div>
<div class="comment-text"><p><a href="https://help.openstreetmap.org/users/158/scai">@scai</a>: I would not recommend osmium tool for Windows users. Here the sensible approach is to convert each osm.pbf file into an o5m file (perhaps in a temporary working directory) &amp; then merge them as <a href="https://help.openstreetmap.org/users/8189/alester">@alester</a> says.</p></div>
<div class="comment-info" id="comment-72063-info">
<span class="comment-age">(10 Dec '19, 13:55)</span>
<a class="comment-user userinfo" href="/users/647/sk53">SK53 ♦</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-71942">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-71942-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/71934/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="AHF0iOELvP4kxfhuZUWGu3GZTO59WToS"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>