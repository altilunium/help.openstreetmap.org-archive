<meta charset="UTF-8"><link rel="stylesheet" type="text/css" href="../style.css"><div id="CALeft">
<div class="headNormal">
<h1><a href="/questions/12100/xapi-request-runs-into-server-error-how-can-make-sense-of-xapi">xapi-request runs into server error - How can make sense of XAPI</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/12100/up/" id="post-12100-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-12100-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/12100/down/" id="post-12100-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/12100/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>pretty new to Geo-Informatics so do not bear with me if my questions sound like newbie-questions: can i do some requests on POIs of Openstreetmap with XAPI.</p>
<p>doing like so: i send a request to the  API-Server - over http 
as a respond i get the following result - in XML </p>
<p><strong>example:</strong> the following link gives back all the Nodes of the Type amenity=restaurant in XML-Format.Note: the bounding box (bbox) limits the area:</p>
<pre><code><a href="http://xapi.openstreetmap.org/api/0.6/node[amenity=restaurant][bbox=9.4908142,48.7810801,9.5660019,48.8387351]">http://xapi.openstreetmap.org/api/0.6/node[amenity=restaurant][bbox=9.4908142,48.7810801,9.5660019,48.8387351]</a>

<a href="http://xapi.openstreetmap.org/api/0.6/node[amenity=restaurant][bbox=9.4908142,48.7810801,9.5660019,48.8387351]">http://xapi.openstreetmap.org/api/0.6/node[amenity=restaurant][bbox=9.4908142,48.7810801,9.5660019,48.8387351]</a>
</code></pre>
<p>see here the results:_ </p>
<pre><code>&lt;?xml version='1.0' standalone='no'?&gt;
&lt;osm version='0.6' generator='xapi: OSM Extended API 2.0' xmlns:xapi='http://www.informationfreeway.org/xapi/0.6' xapi:uri='/api/0.6/node[amenity=restaurant|fast_food|pub|cafe][bbox=9.4908142,48.7810801,9.5660019,48.8387351]' xapi:planetDate='20100824' xapi:copyright='2010 OpenStreetMap contributors' xapi:license='Creative commons CC-BY-SA 2.0' xapi:bugs='For assistance or to report bugs contact 80n80n@gmail.com' xapi:instance='zappyOsm'&gt;
&lt;node id='721241970' lat='48.830856' lon='9.5116892' user='mabe75' timestamp='2010-05-04T19:01:28Z' uid='260302' version='1' changeset='4607010'&gt;
&lt;tag k='amenity' v='restaurant'/&gt;
&lt;tag k='name' v='Lamm'/&gt;
&lt;/node&gt;
&lt;node id='392682646' lat='48.8315734' lon='9.5468864' user='MattGPS' timestamp='2010-05-11T19:00:20Z' uid='12973' version='3' changeset='4671372'&gt;
&lt;tag k='amenity' v='restaurant'/&gt;
&lt;tag k='name' v='Gasthaus an der Wieslauf'/&gt;
&lt;/node&gt;
&lt;node id='319597380' lat='48.8277913' lon='9.5477029' timestamp='2008-12-17T21:13:15Z' version='1' changeset='444629'&gt;
&lt;tag k='amenity' v='restaurant'/&gt;
&lt;tag k='name' v='Gasthaus zur Linde'/&gt;
&lt;/node&gt;
[...]
</code></pre>
<p>well this example does not work here... what do ido wrong</p>
<p><strong>By the way</strong>. How to get the results stored in a databasse- note i have to convert the xml to a db-sheme.. mysql is preferred- any idea and helping hand is greatly appreciated</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-xml" href="/tags/xml/" rel="tag" title="see questions tagged 'xml'">xml</a>
<a class="post-tag tag-link-openstreetmap" href="/tags/openstreetmap/" rel="tag" title="see questions tagged 'openstreetmap'">openstreetmap</a>
<a class="post-tag tag-link-xapi" href="/tags/xapi/" rel="tag" title="see questions tagged 'xapi'">xapi</a>
<a class="post-tag tag-link-example" href="/tags/example/" rel="tag" title="see questions tagged 'example'">example</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>17 Apr '12, 22:44</strong>
</p>
<img alt="tagtheworld's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/600fc90e36ff81dfaba666708cf91dc5?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/3389/tagtheworld">tagtheworld</a><br/>
<span class="score" title="0 reputation points">0</span><span title="8 badges"><span class="badge1">●</span><span class="badgecount">8</span></span><span title="8 badges"><span class="silver">●</span><span class="badgecount">8</span></span><span title="9 badges"><span class="bronze">●</span><span class="badgecount">9</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="tagtheworld has no accepted answers">0%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/12100/">
                edited
                <strong>18 Apr '12, 07:21</strong>
</a>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-12100">
</div>
<div class="comment-tools" id="comment-tools-12100">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-12100-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    One Answer:
                    </div>
<div class="tabsA"><a href="/questions/12100/xapi-request-runs-into-server-error-how-can-make-sense-of-xapi?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/12100/xapi-request-runs-into-server-error-how-can-make-sense-of-xapi?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/12100/xapi-request-runs-into-server-error-how-can-make-sense-of-xapi?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/12100/xapi-request-runs-into-server-error-how-can-make-sense-of-xapi?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="12105"></a>
<div class="answer" id="answer-container-12105">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/12105/up/" id="post-12105-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-12105-score" title="current number of votes">
    3
</div>
<a class="ajax-command post-vote down" href="/vote/12105/down/" id="post-12105-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>Although <a href="http://wiki.openstreetmap.org/wiki/Xapi">this page</a> doesn't explicitly say where xapi.opentreetmap.org points to these days, it does say that jxapi.openstreetmap.org (which it might point to) is down for maintenance right now.  However, Mapquests's jxapi instance should be up, so you should be able to do that.  I've just tried this:</p>
<pre><code>wget <a href="http://open.mapquestapi.com/xapi/api/0.6/node[amenity=restaurant][bbox=9.4908142,48.7810801,9.5660019,48.8387351]">http://open.mapquestapi.com/xapi/api/0.6/node[amenity=restaurant][bbox=9.4908142,48.7810801,9.5660019,48.8387351]</a>
</code></pre>
<p>and it works.  Note that there's an extra "/api" in the Mapquest xapi URL.  The bbox is currently limited to 10 square degrees.  See the various links from the XAPI wiki page for more info, including the terms of service for the Mapquest instance of the XAPI.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/12105/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>18 Apr '12, 00:15</strong>
</p>
<img alt="SomeoneElse's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/0bf1aa22f7f5e045b0eb8beb79fe7907?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/387/someoneelse">SomeoneElse ♦</a><br/>
<span class="score" title="36866 reputation points"><span class="">36.9k</span></span><span title="71 badges"><span class="badge1">●</span><span class="badgecount">71</span></span><span title="370 badges"><span class="silver">●</span><span class="badgecount">370</span></span><span title="866 badges"><span class="bronze">●</span><span class="badgecount">866</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="SomeoneElse has 228 accepted answers">16%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-12105">
<a name="12109"></a>
<div class="comment" id="comment-12109">
<div class="comment-score" id="post-12109-score"></div>
<div class="comment-text"><p>many many thx</p></div>
<div class="comment-info" id="comment-12109-info">
<span class="comment-age">(18 Apr '12, 01:47)</span>
<a class="comment-user userinfo" href="/users/3389/tagtheworld">tagtheworld</a>
</div>
</div>
<a name="12111"></a>
<div class="comment" id="comment-12111">
<div class="comment-score" id="post-12111-score"></div>
<div class="comment-text"><p><strong>By the way</strong>. How to get the results stored in a databasse- note i have to convert the xml to a db-sheme.. mysql is preferred- any idea and helping hand is greatly appreciated</p></div>
<div class="comment-info" id="comment-12111-info">
<span class="comment-age">(18 Apr '12, 07:21)</span>
<a class="comment-user userinfo" href="/users/3389/tagtheworld">tagtheworld</a>
</div>
</div>
<a name="24768"></a>
<div class="comment" id="comment-24768">
<div class="comment-score" id="post-24768-score"></div>
<div class="comment-text"><p>I tried this and it ran.  I am such a newbie that I have no idea where the results ended up.  On my PC somewhere?</p>
<p>Would appreciate help.</p></div>
<div class="comment-info" id="comment-24768-info">
<span class="comment-age">(31 Jul '13, 16:54)</span>
<a class="comment-user userinfo" href="/users/6974/walkergeoff">walkergeoff</a>
</div>
</div>
<a name="24769"></a>
<div class="comment" id="comment-24769">
<div class="comment-score" id="post-24769-score"></div>
<div class="comment-text"><p>It'll be on your PC, wherever you ran it from.  I've just run it from the command line in the c:\temp folder and ended up with a file called "node[amenity=restaurant][bbox=9.4908142,48.7810801,9.5660019,48.8387351]" in there, so I'd loke for files with e.g. 7810801 in them.</p></div>
<div class="comment-info" id="comment-24769-info">
<span class="comment-age">(31 Jul '13, 17:00)</span>
<a class="comment-user userinfo" href="/users/387/someoneelse">SomeoneElse ♦</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-12105">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-12105-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/12100/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="2PYotoXNHPqF9TrnVk8qOH36IL9lB3uR"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>