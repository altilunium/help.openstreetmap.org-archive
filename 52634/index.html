<meta charset="UTF-8"><link rel="stylesheet" type="text/css" href="../style.css"><div id="CALeft">
<div class="headNormal">
<h1><a href="/questions/52634/how-big-is-the-main-sql-database-where-edits-are-saved-to">How big is the main SQL database where edits are saved to?</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/52634/up/" id="post-52634-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-52634-score" title="current number of votes">
    1
</div>
<a class="ajax-command post-vote down" href="/vote/52634/down/" id="post-52634-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/52634/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>How big is the main SQL database containing nodes, ways and relations? I do not mean the planet file but the actual GIS database (PostGIS?) where the edits are saved to along with editing history etc. I know the <a href="http://munin.openstreetmap.org/">munin.openstreetmap.org</a> server stats site but I cant really get oriented there. I guess in the past the main db server was called <a href="https://hardware.openstreetmap.org/servers/ramoth.openstreetmap.org/">ramoth</a> but I am not sure if this is still the case. Looking at <a href="http://munin.openstreetmap.org/openstreetmap/ramoth.openstreetmap/postgres_size_openstreetmap_9_1_main.html">ramoth's SQL size stats</a> the db seems to be about 6 TB in size as of today. Will anyone please confirm ramoth really is the main database server?</p>
<p>EDIT: It seems like ramoth is read-only mirror, the main server seems to be <a href="https://hardware.openstreetmap.org/servers/katla.openstreetmap.org/">katla</a> - however the its <a href="http://munin.openstreetmap.org/openstreetmap/katla.openstreetmap/postgres_size_openstreetmap_9_1_main.html">database size</a> is the same of course.</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-size" href="/tags/size/" rel="tag" title="see questions tagged 'size'">size</a>
<a class="post-tag tag-link-database" href="/tags/database/" rel="tag" title="see questions tagged 'database'">database</a>
<a class="post-tag tag-link-postgres" href="/tags/postgres/" rel="tag" title="see questions tagged 'postgres'">postgres</a>
<a class="post-tag tag-link-postgis" href="/tags/postgis/" rel="tag" title="see questions tagged 'postgis'">postgis</a>
<a class="post-tag tag-link-sql" href="/tags/sql/" rel="tag" title="see questions tagged 'sql'">sql</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>22 Oct '16, 11:00</strong>
</p>
<img alt="Kozuch's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/7d327873d48d28e563c9ad7259853c35?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/237/kozuch">Kozuch</a><br/>
<span class="score" title="1720 reputation points"><span class="">1.7k</span></span><span title="58 badges"><span class="badge1">●</span><span class="badgecount">58</span></span><span title="72 badges"><span class="silver">●</span><span class="badgecount">72</span></span><span title="85 badges"><span class="bronze">●</span><span class="badgecount">85</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Kozuch has one accepted answer">8%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/52634/">
                edited
                <strong>22 Oct '16, 12:03</strong>
</a>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-52634">
</div>
<div class="comment-tools" id="comment-tools-52634">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-52634-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    One Answer:
                    </div>
<div class="tabsA"><a href="/questions/52634/how-big-is-the-main-sql-database-where-edits-are-saved-to?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/52634/how-big-is-the-main-sql-database-where-edits-are-saved-to?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/52634/how-big-is-the-main-sql-database-where-edits-are-saved-to?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/52634/how-big-is-the-main-sql-database-where-edits-are-saved-to?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="53144"></a>
<div class="answer accepted-answer answered-by-owner" id="answer-container-53144">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/53144/up/" id="post-53144-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-53144-score" title="current number of votes">
    2
</div>
<a class="ajax-command post-vote down" href="/vote/53144/down/" id="post-53144-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="accept-answer on" href="/accept_answer/53144/" rel="nofollow" title="SK53 has selected this answer as the correct answer">
</a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>My findings were correct - the main database for www.openstreetmap.org that holds users, nodes, ways, relations, editing history etc. is <a href="http://munin.openstreetmap.org/openstreetmap/katla.openstreetmap/postgres_size_openstreetmap_9_1_main.html">about 6 TB in size</a> as of today (November 2016). The database master (read/write) is on <a href="https://hardware.openstreetmap.org/servers/katla.openstreetmap.org/">katla</a> and there are few mirrors (look at <a href="https://hardware.openstreetmap.org">hardware.openstreetmap.org</a> for details).</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/53144/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>28 Nov '16, 10:40</strong>
</p>
<img alt="Kozuch's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/7d327873d48d28e563c9ad7259853c35?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/237/kozuch">Kozuch</a><br/>
<span class="score" title="1720 reputation points"><span class="">1.7k</span></span><span title="58 badges"><span class="badge1">●</span><span class="badgecount">58</span></span><span title="72 badges"><span class="silver">●</span><span class="badgecount">72</span></span><span title="85 badges"><span class="bronze">●</span><span class="badgecount">85</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Kozuch has one accepted answer">8%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-53144">
<a name="53151"></a>
<div class="comment" id="comment-53151">
<div class="comment-score" id="post-53151-score"></div>
<div class="comment-text"><p>I've marked this as the accepted answer as I believe it is not possible for users to accept their own answers.</p></div>
<div class="comment-info" id="comment-53151-info">
<span class="comment-age">(28 Nov '16, 20:23)</span>
<a class="comment-user userinfo" href="/users/647/sk53">SK53 ♦</a>
</div>
</div>
<a name="53275"></a>
<div class="comment" id="comment-53275">
<div class="comment-score" id="post-53275-score">1</div>
<div class="comment-text"><p><a href="http://munin.openstreetmap.org/static/dynazoom.html?cgiurl_graph=/munin-cgi/munin-cgi-graph&amp;plugin_name=openstreetmap/katla.openstreetmap/postgres_size_openstreetmap_9_1_main&amp;size_x=800&amp;size_y=400&amp;start_epoch=1446532011&amp;stop_epoch=1481092011">Why are there sharp decreases over time?</a></p></div>
<div class="comment-info" id="comment-53275-info">
<span class="comment-age">(07 Dec '16, 06:32)</span>
<a class="comment-user userinfo" href="/users/13060/wetitpig0">Wetitpig0</a>
</div>
</div>
<a name="53337"></a>
<div class="comment" id="comment-53337">
<div class="comment-score" id="post-53337-score"></div>
<div class="comment-text"><p><a href="http://help.openstreetmap.org/users/13060/wetitpig0">@Wetitpig0</a> - I also noticed the sharp db size drops but have no idea what that can be. I think user TomH on osm-dev IRC channel will know (try to ping him - if you get answer please post here).</p></div>
<div class="comment-info" id="comment-53337-info">
<span class="comment-age">(08 Dec '16, 08:06)</span>
<a class="comment-user userinfo" href="/users/237/kozuch">Kozuch</a>
</div>
</div>
<a name="53432"></a>
<div class="comment" id="comment-53432">
<div class="comment-score" id="post-53432-score">1</div>
<div class="comment-text"><p>This may be due to the defragmentation of the OSM database. I have not asked the developers, but someone said this in <a href="https://help.openstreetmap.org/questions/53430/visible-tile-borders-in-rendering">one question</a>.</p></div>
<div class="comment-info" id="comment-53432-info">
<span class="comment-age">(09 Dec '16, 08:42)</span>
<a class="comment-user userinfo" href="/users/13060/wetitpig0">Wetitpig0</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-53144">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-53144-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/52634/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="6ajjIEg0a3QHizffW7qFnZdFrzazpBV1"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>