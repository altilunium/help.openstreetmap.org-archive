<meta charset="UTF-8"><link rel="stylesheet" type="text/css" href="../style.css"><div id="CALeft">
<div class="headNormal">
<h1><a href="/questions/51430/osm2pgsql-expired-tiles-with-tag-name-change">osm2pgsql - expired tiles with tag name change</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/51430/up/" id="post-51430-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-51430-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/51430/down/" id="post-51430-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/51430/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>While inserting the *.osc file with osm2pgsql, I am using --expire-tiles option to output the expired tiles with --append mode. 
What I have observed if only tag name is changed or added then that tile is not in the expired tile list. Is it the correct observation or am I doing something wrong?
Here is the command that I am using:</p>
<pre><code>osm2pgsql --append --slim --cache 3000 --number-processes 3 --hstore --style ~/openstreetmap-carto/openstreetmap-carto.style update-within-india.osc --expire-tiles 8-17 --expire-output today_update_tiles.txt
</code></pre>
<p>How to overcome this issue, I want all the tiles where labels have changed or added.</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-osm2pgsql" href="/tags/osm2pgsql/" rel="tag" title="see questions tagged 'osm2pgsql'">osm2pgsql</a>
<a class="post-tag tag-link-expiry" href="/tags/expiry/" rel="tag" title="see questions tagged 'expiry'">expiry</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>16 Aug '16, 08:04</strong>
</p>
<img alt="Gagan's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/39d75f04e1a21ba653b41ac75ec1b026?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/12655/gagan">Gagan</a><br/>
<span class="score" title="305 reputation points">305</span><span title="3 badges"><span class="badge1">●</span><span class="badgecount">3</span></span><span title="5 badges"><span class="silver">●</span><span class="badgecount">5</span></span><span title="15 badges"><span class="bronze">●</span><span class="badgecount">15</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Gagan has 2 accepted answers">14%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/51430/">
                edited
                <strong>16 Aug '16, 15:25</strong>
</a>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-51430">
<a name="51436"></a>
<div class="comment" id="comment-51436">
<div class="comment-score" id="post-51436-score"></div>
<div class="comment-text"><p>Could you supply us with the complete command line you are using?</p></div>
<div class="comment-info" id="comment-51436-info">
<span class="comment-age">(16 Aug '16, 10:43)</span>
<a class="comment-user userinfo" href="/users/2053/simonpoole">SimonPoole ♦</a>
</div>
</div>
<a name="51437"></a>
<div class="comment" id="comment-51437">
<div class="comment-score" id="post-51437-score"></div>
<div class="comment-text"><p>No idea if it's related, but I did have to make a minor change to openstreetmap-tiles-update-expire to get tile expiry to work properly for me.  See <a href="https://github.com/SomeoneElseOSM/mod_tile/commit/0e74c67a75f042faf99ac81a14f4a665f467f3d5#diff-c4481b5ad3192fd03c13bffec4a8c368">https://github.com/SomeoneElseOSM/mod_tile/commit/0e74c67a75f042faf99ac81a14f4a665f467f3d5#diff-c4481b5ad3192fd03c13bffec4a8c368</a> and search for "Previously openstreetmap-tiles-update-expire tried to dirty".  Other changes in that commit (make it cronable, use Zverik's trim_osc.py) shouldn't be relevant.</p></div>
<div class="comment-info" id="comment-51437-info">
<span class="comment-age">(16 Aug '16, 10:49)</span>
<a class="comment-user userinfo" href="/users/387/someoneelse">SomeoneElse ♦</a>
</div>
</div>
<a name="51447"></a>
<div class="comment" id="comment-51447">
<div class="comment-score" id="post-51447-score"></div>
<div class="comment-text"><p>I added the full command, I am not using the mod_tiles.</p></div>
<div class="comment-info" id="comment-51447-info">
<span class="comment-age">(16 Aug '16, 15:28)</span>
<a class="comment-user userinfo" href="/users/12655/gagan">Gagan</a>
</div>
</div>
<a name="51512"></a>
<div class="comment" id="comment-51512">
<div class="comment-score" id="post-51512-score">1</div>
<div class="comment-text"><p>Is there any other tool to find out the expired tiles with respect to *.osc file?</p></div>
<div class="comment-info" id="comment-51512-info">
<span class="comment-age">(18 Aug '16, 08:35)</span>
<a class="comment-user userinfo" href="/users/12655/gagan">Gagan</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-51430">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-51430-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<form action="/questions/51430/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="JM8FXZ355lmwLxlzyL0y4n2jdoq4c5j5"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>