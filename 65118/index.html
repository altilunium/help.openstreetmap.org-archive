<meta charset="UTF-8"><link rel="stylesheet" type="text/css" href="../style.css"><div id="CALeft">
<div class="headNormal">
<h1><a href="/questions/65118/detect-round-objects-with-josm">Detect round objects with JOSM</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/65118/up/" id="post-65118-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-65118-score" title="current number of votes">
    1
</div>
<a class="ajax-command post-vote down" href="/vote/65118/down/" id="post-65118-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/65118/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>How can I detect round objects with JOSM? If necessary I would even write my own plugin.</p>
<p>Let's say that round buildings normally have &gt; 15 edges, but other buildings can have this too. Is there any trick how to detect buildings with many identical angles near 180 °?</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-building" href="/tags/building/" rel="tag" title="see questions tagged 'building'">building</a>
<a class="post-tag tag-link-josm" href="/tags/josm/" rel="tag" title="see questions tagged 'josm'">josm</a>
<a class="post-tag tag-link-angle" href="/tags/angle/" rel="tag" title="see questions tagged 'angle'">angle</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>03 Aug '18, 22:12</strong>
</p>
<img alt="Druzhba's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/bdb6a1b49c42d8be4b8d87f3096a3622?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/14293/druzhba">Druzhba</a><br/>
<span class="score" title="150 reputation points">150</span><span title="11 badges"><span class="badge1">●</span><span class="badgecount">11</span></span><span title="11 badges"><span class="silver">●</span><span class="badgecount">11</span></span><span title="18 badges"><span class="bronze">●</span><span class="badgecount">18</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Druzhba has no accepted answers">0%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-65118">
<a name="65133"></a>
<div class="comment" id="comment-65133">
<div class="comment-score" id="post-65133-score"></div>
<div class="comment-text"><p>This seems interesting.</p>
<p>+1</p></div>
<div class="comment-info" id="comment-65133-info">
<span class="comment-age">(04 Aug '18, 23:06)</span>
<a class="comment-user userinfo" href="/users/15351/norcross">norcross</a>
</div>
</div>
<a name="69081"></a>
<div class="comment" id="comment-69081">
<div class="comment-score" id="post-69081-score"></div>
<div class="comment-text"><p>Maybe this ticket is related: <a href="https://josm.openstreetmap.de/ticket/16283">https://josm.openstreetmap.de/ticket/16283</a></p></div>
<div class="comment-info" id="comment-69081-info">
<span class="comment-age">(04 May '19, 11:11)</span>
<a class="comment-user userinfo" href="/users/16043/qeef">qeef</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-65118">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-65118-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    3 Answers:
                    </div>
<div class="tabsA"><a href="/questions/65118/detect-round-objects-with-josm?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/65118/detect-round-objects-with-josm?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/65118/detect-round-objects-with-josm?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/65118/detect-round-objects-with-josm?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="69080"></a>
<div class="answer" id="answer-container-69080">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/69080/up/" id="post-69080-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-69080-score" title="current number of votes">
    1
</div>
<a class="ajax-command post-vote down" href="/vote/69080/down/" id="post-69080-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>Maybe this ticket is related: <a href="https://josm.openstreetmap.de/ticket/16283">https://josm.openstreetmap.de/ticket/16283</a></p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/69080/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>04 May '19, 11:10</strong>
</p>
<img alt="qeef's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/d7f001a453e65f16c771d5cc319c7da1?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/16043/qeef">qeef</a><br/>
<span class="score" title="45 reputation points">45</span><span title="1 badges"><span class="bronze">●</span><span class="badgecount">1</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="qeef has no accepted answers">0%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-69080">
</div>
<div class="comment-tools" id="comment-tools-69080">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-69080-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="69101"></a>
<div class="answer" id="answer-container-69101">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/69101/up/" id="post-69101-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-69101-score" title="current number of votes">
    1
</div>
<a class="ajax-command post-vote down" href="/vote/69101/down/" id="post-69101-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>One neat fact about circles is that they have the smallest possible perimeter (circumference) for their area of any shape. The area of a circle = (perimeter ^ 2) / (4 * pi). So if you find the area and perimeter of a given shape, you can calculate the following ratio: (perimeter ^ 2) / (4 * area). For a circle, this ratio will be pi. For a square, it will be 4. For approximate circles like those in OSM, it will be somewhere between. The more circular the shape, the closer to pi.</p>
<p>If you do write a plugin, you could configure it for a range, say between pi and 3.25, and find shapes within that range.</p>
<p>...However, calculating the area of a shape defined by an arbitrary set of node coordinates can be a little complex, so if you don't have a built in routine for this calculation you might want to do something simpler. You could find the maximum distance between any two points in the shape and compare <em>that</em> to the perimeter. For a circle, this maximum distance will be the diameter, and the ratio of the perimeter to the diameter should be pi. For nearly-circular shapes, this ratio will be a little <em>less</em> than pi. (For a square it will be 2 * sqrt(2), about 2.83.)</p>
<p>Note that, depending on the range of ratio values you decide to consider circular, these techniques will <em>not</em> necessarily restrict your answers to "factory" circles with a lot of identical angles. IMO this is probably a good thing -- there are probably many circular ways that are drawn by hand or otherwise slightly deformed.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/69101/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>05 May '19, 20:29</strong>
</p>
<img alt="jmapb's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/977d95e2184a885d9a01fb3297225872?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/14350/jmapb">jmapb</a><br/>
<span class="score" title="3387 reputation points"><span class="">3.4k</span></span><span title="7 badges"><span class="badge1">●</span><span class="badgecount">7</span></span><span title="33 badges"><span class="silver">●</span><span class="badgecount">33</span></span><span title="61 badges"><span class="bronze">●</span><span class="badgecount">61</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="jmapb has 22 accepted answers">22%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-69101">
</div>
<div class="comment-tools" id="comment-tools-69101">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-69101-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="69102"></a>
<div class="answer" id="answer-container-69102">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/69102/up/" id="post-69102-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-69102-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/69102/down/" id="post-69102-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>Not sure I have understood your question. Do you mean draw a true circular shape? Not used JOSM much but thought it must have a tool for it. I searched and found this <a href="https://learnosm.org/en/josm/josm-tools/">https://learnosm.org/en/josm/josm-tools/</a></p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/69102/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>05 May '19, 23:50</strong>
</p>
<img alt="andy%20mackey's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/efa7ca36d4499200879223dc5ad5ecac?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/644/andy-mackey">andy mackey</a><br/>
<span class="score" title="13238 reputation points"><span class="">13.2k</span></span><span title="87 badges"><span class="badge1">●</span><span class="badgecount">87</span></span><span title="143 badges"><span class="silver">●</span><span class="badgecount">143</span></span><span title="285 badges"><span class="bronze">●</span><span class="badgecount">285</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="andy mackey has 37 accepted answers">4%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/69102/">
                edited
                <strong>05 May '19, 23:55</strong>
</a>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-69102">
</div>
<div class="comment-tools" id="comment-tools-69102">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-69102-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/65118/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="dWaFjOYMOvuL66fkOEpjiM58zEh0ZJmP"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>