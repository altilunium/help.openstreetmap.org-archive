<meta charset="UTF-8"><link rel="stylesheet" type="text/css" href="../style.css"><div id="CALeft">
<div class="headNormal">
<h1><a href="/questions/11542/mapnik-error-column-generatorsource-does-not-exist">Mapnik error:  column "generator:source" does not exist</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/11542/up/" id="post-11542-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-11542-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/11542/down/" id="post-11542-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/11542/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>Heyho!</p>
<p>When trying to render my map from PostgreSQL/PostGIS database by generate_image.py and osm.xml I receive the following ERROR!
Could somebody be so kind and try to solve my problem?</p>
<p>If you need to see some sourcecode etc. .. just tell me and I'll upload it here!</p>
<p>Thanks and Greetings!
Matze</p>
<hr/>
<pre><code>Traceback (most recent call last):
  File "C:\0A\9\run_python.py", line 3, in &lt;module&gt;
    execfile(r"C:\0A\9\generate_image.py")
  File "C:\0A\9\generate_image.py", line 42, in &lt;module&gt;
    mapnik.load_map(m,mapfile)
RuntimeError: Postgis Plugin: PSQL error:
ERROR:  column "generator:source" does not exist
LINE 8:          or (power='generator' and ("generator:source"='wind...
                                            ^
Full sql was: 'SELECT * FROM 
      (select *
      from planet_osm_point
      where aeroway in ('airport','aerodrome','helipad')
         or barrier in ('bollard','gate','lift_gate','block')
         or highway in ('mini_roundabout','gate')
         or man_made in ('lighthouse','power_wind','windmill','mast')
         or (power='generator' and ("generator:source"='wind' or power_source='wind'))
         or "natural" in ('peak','volcano','spring','tree','cave_entrance')
         or railway='level_crossing'
      ) as symbols LIMIT 0'
 (encountered during parsing of layer 'amenity-symbols' in map 'osm.xml')
</code></pre>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-column" href="/tags/column/" rel="tag" title="see questions tagged 'column'">column</a>
<a class="post-tag tag-link-osm.xml" href="/tags/osm.xml/" rel="tag" title="see questions tagged 'osm.xml'">osm.xml</a>
<a class="post-tag tag-link-osm2pgsql" href="/tags/osm2pgsql/" rel="tag" title="see questions tagged 'osm2pgsql'">osm2pgsql</a>
<a class="post-tag tag-link-mapnik" href="/tags/mapnik/" rel="tag" title="see questions tagged 'mapnik'">mapnik</a>
<a class="post-tag tag-link-error" href="/tags/error/" rel="tag" title="see questions tagged 'error'">error</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>28 Mar '12, 08:55</strong>
</p>
<img alt="MHein's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/cc0198a02af3c41ad04b61e028c3b126?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/3139/mhein">MHein</a><br/>
<span class="score" title="141 reputation points">141</span><span title="11 badges"><span class="badge1">●</span><span class="badgecount">11</span></span><span title="11 badges"><span class="silver">●</span><span class="badgecount">11</span></span><span title="16 badges"><span class="bronze">●</span><span class="badgecount">16</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="MHein has no accepted answers">0%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/11542/">
                edited
                <strong>19 Mar '13, 10:27</strong>
</a>
</p>
<img alt="SK53's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/06cd84075f1adc2870ad102c7233e661?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/647/sk53">SK53 ♦</a><br/>
<span class="score" title="28084 reputation points"><span class="">28.1k</span></span><span title="48 badges"><span class="badge1">●</span><span class="badgecount">48</span></span><span title="268 badges"><span class="silver">●</span><span class="badgecount">268</span></span><span title="433 badges"><span class="bronze">●</span><span class="badgecount">433</span></span></p>
</div>
</div>
<div class="comments-container" id="comments-container-11542">
</div>
<div class="comment-tools" id="comment-tools-11542">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-11542-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    3 Answers:
                    </div>
<div class="tabsA"><a href="/questions/11542/mapnik-error-column-generatorsource-does-not-exist?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/11542/mapnik-error-column-generatorsource-does-not-exist?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/11542/mapnik-error-column-generatorsource-does-not-exist?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/11542/mapnik-error-column-generatorsource-does-not-exist?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="11544"></a>
<div class="answer accepted-answer" id="answer-container-11544">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/11544/up/" id="post-11544-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-11544-score" title="current number of votes">
    2
</div>
<a class="ajax-command post-vote down" href="/vote/11544/down/" id="post-11544-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="accept-answer on" href="/accept_answer/11544/" rel="nofollow" title="MHein has selected this answer as the correct answer">
</a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>This is likely because your osm2pgsql version is older than the osm.xml map style. The map style assumes that osm2pgsql has imported a column named <code>generator:source</code> but in fact osm2pgsql hasn't. You can fix the problem in one of these ways:</p>
<ul>
<li>get new osm2pgsql (or just new <code>default.style</code> file) and do new import</li>
<li>get an older osm.xml map style that does not rely on <code>generator:source</code></li>
<li>insert an empty <code>generator:source</code> column into your postgres tables</li>
<li>remove the line about power generators from your osm.xml</li>
</ul>
<p>Obvoiusly, only the first option will lead to wind turbines being rendered properly.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/11544/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>28 Mar '12, 09:09</strong>
</p>
<img alt="Frederik%20Ramm's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/a2b38d937e70ab39d895d17da0dd1ba4?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/104/frederik-ramm">Frederik Ramm ♦</a><br/>
<span class="score" title="82494 reputation points"><span class="">82.5k</span></span><span title="92 badges"><span class="badge1">●</span><span class="badgecount">92</span></span><span title="720 badges"><span class="silver">●</span><span class="badgecount">720</span></span><span title="1273 badges"><span class="bronze">●</span><span class="badgecount">1273</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Frederik Ramm has 417 accepted answers">23%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-11544">
<a name="11546"></a>
<div class="comment" id="comment-11546">
<div class="comment-score" id="post-11546-score"></div>
<div class="comment-text"><p>thanks!
I'll try the first way and if it doesn't work, i'll ask again ;)</p></div>
<div class="comment-info" id="comment-11546-info">
<span class="comment-age">(28 Mar '12, 09:28)</span>
<a class="comment-user userinfo" href="/users/3139/mhein">MHein</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-11544">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-11544-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="11545"></a>
<div class="answer" id="answer-container-11545">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/11545/up/" id="post-11545-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-11545-score" title="current number of votes">
    2
</div>
<a class="ajax-command post-vote down" href="/vote/11545/down/" id="post-11545-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>The software osm2pgsql, usually used to import OSM data into a rendering database, only imports a subset of the data required for rendering. What osm2pgsql deems necessary for rendering (and thus the resulting database schema) is defined in a import style-sheet. This osm2pgsql import style-sheet needs to match your mapnik rendering style-sheet, otherwise you will see errors as yours, complaining about missing columns.</p>
<p>Looking at your output, it appears you are using windows. The windows version of osm2pgsql is unfortunately very old and thus the import style-sheet going with it no longer matches the current osm mapnik style-sheet. You can find the current import style-sheet at <a href="https://trac.openstreetmap.org/browser/applications/utils/export/osm2pgsql/default.style">https://trac.openstreetmap.org/browser/applications/utils/export/osm2pgsql/default.style</a> which you will need for re-importing the data into your database.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/11545/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>28 Mar '12, 09:15</strong>
</p>
<img alt="apmon's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/32c974c4ca8b246698c2b82c64924da5?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/65/apmon">apmon</a><br/>
<span class="score" title="6527 reputation points"><span class="">6.5k</span></span><span title="18 badges"><span class="badge1">●</span><span class="badgecount">18</span></span><span title="44 badges"><span class="silver">●</span><span class="badgecount">44</span></span><span title="56 badges"><span class="bronze">●</span><span class="badgecount">56</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="apmon has 9 accepted answers">20%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-11545">
</div>
<div class="comment-tools" id="comment-tools-11545">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-11545-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="20783"></a>
<div class="answer" id="answer-container-20783">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/20783/up/" id="post-20783-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-20783-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/20783/down/" id="post-20783-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>Who, this is probably my solution to! I don't have much experience with linux but I got pretty far. This is my error. But my question is how can I check the versions and find the right style-sheet?</p>
<p>My Error:</p>
<pre><code>`renderd[17965]: An error occurred while loading the map layer 'default': :
ERROR:  column "generator:source" does not exist
LINE 8:          or (power='generator' and ("generator:source"='wind...
                                            ^
Full sql was: 'SELECT * FROM 
      (select *
      from planet_osm_point
      where aeroway in ('airport','aerodrome','helipad')
         or barrier in ('bollard','gate','lift_gate','block')
         or highway in ('mini_roundabout','gate')
         or man_made in ('lighthouse','power_wind','windmill','mast')
         or (power='generator' and ("generator:source"='wind' or power_source='wind'))
         or "natural" in ('peak','volcano','spring','tree','cave_entrance')
         or railway='level_crossing'
      ) as symbols LIMIT 0'
 (encountered during parsing of layer 'amenity-symbols' in map '/home/administrator/src/mapnik-style/osm.xml')
renderd[17965]: An error occurred while loading the map layer 'default': :
ERROR:  column "generator:source" does not exist
LINE 8:          or (power='generator' and ("generator:source"='wind...
                                            ^
Full sql was: 'SELECT * FROM 
      (select *
      from planet_osm_point
      where aeroway in ('airport','aerodrome','helipad')
         or barrier in ('bollard','gate','lift_gate','block')
         or highway in ('mini_roundabout','gate')
         or man_made in ('lighthouse','power_wind','windmill','mast')
         or (power='generator' and ("generator:source"='wind' or power_source='wind'))
         or "natural" in ('peak','volcano','spring','tree','cave_entrance')
         or railway='level_crossing'
      ) as symbols LIMIT 0'
 (encountered during parsing of layer 'amenity-symbols' in map '/home/administrator/src/mapnik-style/osm.xml')
renderd[17965]: An error occurred while loading the map layer 'default': :
ERROR:  column "generator:source" does not exist
LINE 8:          or (power='generator' and ("generator:source"='wind...
                                            ^
Full sql was: 'SELECT * FROM 
      (select *
      from planet_osm_point
      where aeroway in ('airport','aerodrome','helipad')
         or barrier in ('bollard','gate','lift_gate','block')
         or highway in ('mini_roundabout','gate')
         or man_made in ('lighthouse','power_wind','windmill','mast')
         or (power='generator' and ("generator:source"='wind' or power_source='wind'))
         or "natural" in ('peak','volcano','spring','tree','cave_entrance')
         or railway='level_crossing'
      ) as symbols LIMIT 0'
 (encountered during parsing of layer 'amenity-symbols' in map '/home/administrator/src/mapnik-style/osm.xml')
renderd[17965]: An error occurred while loading the map layer 'default': :
ERROR:  column "generator:source" does not exist
LINE 8:          or (power='generator' and ("generator:source"='wind...
                                            ^
Full sql was: 'SELECT * FROM 
      (select *
      from planet_osm_point
      where aeroway in ('airport','aerodrome','helipad')
         or barrier in ('bollard','gate','lift_gate','block')
         or highway in ('mini_roundabout','gate')
         or man_made in ('lighthouse','power_wind','windmill','mast')
         or (power='generator' and ("generator:source"='wind' or power_source='wind'))
         or "natural" in ('peak','volcano','spring','tree','cave_entrance')
         or railway='level_crossing'
      ) as symbols LIMIT 0'
 (encountered during parsing of layer 'amenity-symbols' in map '/home/administrator/src/mapnik-style/osm.xml')`
</code></pre>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/20783/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>17 Mar '13, 22:28</strong>
</p>
<img alt="gdonk's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/0ef4fe07a4e5cc752899b3b798083ed7?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/5858/gdonk">gdonk</a><br/>
<span class="score" title="11 reputation points">11</span><span title="1 badges"><span class="bronze">●</span><span class="badgecount">1</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="gdonk has no accepted answers">0%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-20783">
</div>
<div class="comment-tools" id="comment-tools-20783">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-20783-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/11542/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="lhWaNYGtc5PLNkklAeIKPE9KOWrzYW1A"/>
<div style="clear:both">
</div>
</form>
</hr></div>
</div>
</div>