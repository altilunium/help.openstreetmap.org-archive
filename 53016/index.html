<meta charset="UTF-8"><link rel="stylesheet" type="text/css" href="../style.css"><div id="CALeft">
<div class="headNormal">
<h1><a href="/questions/53016/josm-upload-a-layer-modified-outside-of-josm">JOSM Upload a layer modified outside of JOSM</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/53016/up/" id="post-53016-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-53016-score" title="current number of votes">
    2
</div>
<a class="ajax-command post-vote down" href="/vote/53016/down/" id="post-53016-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/53016/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>I have used this Overpass query to download all the <em>highways</em> of a given city (indicated by XXXXXX) that have the tag <em>name</em>. The data was saved into a file.</p>
<pre><code>&lt;osm-script output="xml"&gt;
  &lt;id-query {{nominatimArea:XXXXXX}} into="area"/&gt;
  &lt;query type="way"&gt;
    &lt;has-kv k="highway"/&gt;
    &lt;has-kv k="name"/&gt;
    &lt;area-query from="area"/&gt;
  &lt;/query&gt;
  &lt;union&gt;
    &lt;item /&gt;
      &lt;recurse type="way-node"/&gt;   
  &lt;/union&gt;
  &lt;print mode="meta" /&gt;
&lt;/osm-script&gt;
</code></pre>
<p>Outside of JOSM, with a very smart script, I've parsed the OSM file to check if the highway's names were correct: if not, the script change them to the correct values. Keep in mind that I know exactly which way (hence its ID) is going to be modified.
When the edit is done, I would like to upload the file to OSM through JOSM: if I click the Upload button, JOSM tells me "No changes to upload".</p>
<p>So far I thought about two possibilities:</p>
<ol>
<li>Download the area of the edit, then
    load my layer, and finally merge
    them. Then upload. Though, this is
    not feasible for me because I'm
    working on entire cities: the data
    to download would be too large.</li>
<li>Obviously JOSM is able to detect the
    changes to a layer. Is there any tag
    I can add to the modified ways in
    order to get JOSM to upload them?</li>
</ol>
<p>If you have any other suggestions, please keep them coming.
Thanks.</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-josm" href="/tags/josm/" rel="tag" title="see questions tagged 'josm'">josm</a>
<a class="post-tag tag-link-layer" href="/tags/layer/" rel="tag" title="see questions tagged 'layer'">layer</a>
<a class="post-tag tag-link-upload" href="/tags/upload/" rel="tag" title="see questions tagged 'upload'">upload</a>
<a class="post-tag tag-link-file" href="/tags/file/" rel="tag" title="see questions tagged 'file'">file</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>17 Nov '16, 22:18</strong>
</p>
<img alt="Davide_sd's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/b88a31e4097701d418799b31e1892771?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/13000/davide_sd">Davide_sd</a><br/>
<span class="score" title="61 reputation points">61</span><span title="2 badges"><span class="badge1">●</span><span class="badgecount">2</span></span><span title="2 badges"><span class="silver">●</span><span class="badgecount">2</span></span><span title="6 badges"><span class="bronze">●</span><span class="badgecount">6</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Davide_sd has no accepted answers">0%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-53016">
<a name="53019"></a>
<div class="comment" id="comment-53019">
<div class="comment-score" id="post-53019-score">1</div>
<div class="comment-text"><p>Side note: please follow the <a href="https://wiki.openstreetmap.org/wiki/Automated_Edits_code_of_conduct">Automated Edits code of conduct</a> and keep in mind that you cannot use every source as reference due to copyright/database laws.</p></div>
<div class="comment-info" id="comment-53019-info">
<span class="comment-age">(17 Nov '16, 22:44)</span>
<a class="comment-user userinfo" href="/users/5179/aseerel4c26">aseerel4c26 ♦</a>
</div>
</div>
<a name="53038"></a>
<div class="comment" id="comment-53038">
<div class="comment-score" id="post-53038-score"></div>
<div class="comment-text"><p><s>Side note2: I <em>guess</em> this may be an edit which is the result: <a href="https://www.openstreetmap.org/changeset/43802055">https://www.openstreetmap.org/changeset/43802055</a> (4 ways, 6 nodes edited).</s></p></div>
<div class="comment-info" id="comment-53038-info">
<span class="comment-age">(19 Nov '16, 19:13)</span>
<a class="comment-user userinfo" href="/users/5179/aseerel4c26">aseerel4c26 ♦</a>
</div>
</div>
<a name="53039"></a>
<div class="comment" id="comment-53039">
<div class="comment-score" id="post-53039-score">2</div>
<div class="comment-text"><p>No! This is the changeset: <a href="http://www.openstreetmap.org/changeset/43777145">http://www.openstreetmap.org/changeset/43777145</a></p></div>
<div class="comment-info" id="comment-53039-info">
<span class="comment-age">(19 Nov '16, 20:24)</span>
<a class="comment-user userinfo" href="/users/13000/davide_sd">Davide_sd</a>
</div>
</div>
<a name="53041"></a>
<div class="comment" id="comment-53041">
<div class="comment-score" id="post-53041-score"></div>
<div class="comment-text"><p>ah, thanks for the link, Davide_sd! :-) (the wiki page in the  description tag is helpful … I just need to learn more Italian)</p></div>
<div class="comment-info" id="comment-53041-info">
<span class="comment-age">(19 Nov '16, 20:57)</span>
<a class="comment-user userinfo" href="/users/5179/aseerel4c26">aseerel4c26 ♦</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-53016">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-53016-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    One Answer:
                    </div>
<div class="tabsA"><a href="/questions/53016/josm-upload-a-layer-modified-outside-of-josm?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/53016/josm-upload-a-layer-modified-outside-of-josm?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/53016/josm-upload-a-layer-modified-outside-of-josm?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/53016/josm-upload-a-layer-modified-outside-of-josm?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="53020"></a>
<div class="answer accepted-answer" id="answer-container-53020">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/53020/up/" id="post-53020-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-53020-score" title="current number of votes">
    4
</div>
<a class="ajax-command post-vote down" href="/vote/53020/down/" id="post-53020-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="accept-answer on" href="/accept_answer/53020/" rel="nofollow" title="Davide_sd has selected this answer as the correct answer">
</a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>JOSM adds a <code>action='modify'</code> attribute to modified objects. Just try it: do a change in JOSM and save the file to .osm and have a look. See also <a href="https://wiki.openstreetmap.org/wiki/JOSM_file_format">https://wiki.openstreetmap.org/wiki/JOSM_file_format</a> . </p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/53020/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>17 Nov '16, 22:45</strong>
</p>
<img alt="aseerel4c26's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/66f0dc05b44574e3894be07b0b37cf37?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/5179/aseerel4c26">aseerel4c26 ♦</a><br/>
<span class="score" title="32615 reputation points"><span class="">32.6k</span></span><span title="18 badges"><span class="badge1">●</span><span class="badgecount">18</span></span><span title="248 badges"><span class="silver">●</span><span class="badgecount">248</span></span><span title="554 badges"><span class="bronze">●</span><span class="badgecount">554</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="aseerel4c26 has 169 accepted answers">18%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/53020/">
                edited
                <strong>17 Nov '16, 22:50</strong>
</a>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-53020">
<a name="53022"></a>
<div class="comment" id="comment-53022">
<div class="comment-score" id="post-53022-score">1</div>
<div class="comment-text"><p>You are the man! Thank you!!! :) And yes, I'll be extremely careful with the script!</p></div>
<div class="comment-info" id="comment-53022-info">
<span class="comment-age">(17 Nov '16, 22:50)</span>
<a class="comment-user userinfo" href="/users/13000/davide_sd">Davide_sd</a>
</div>
</div>
<a name="53026"></a>
<div class="comment" id="comment-53026">
<div class="comment-score" id="post-53026-score">2</div>
<div class="comment-text"><p>can you show the code of your script somewhere, so others can have a look at it ?</p></div>
<div class="comment-info" id="comment-53026-info">
<span class="comment-age">(18 Nov '16, 04:20)</span>
<a class="comment-user userinfo" href="/users/5390/escada">escada</a>
</div>
</div>
<a name="53040"></a>
<div class="comment" id="comment-53040">
<div class="comment-score" id="post-53040-score"></div>
<div class="comment-text"><p>I will, but first I have to fix some bugs...</p></div>
<div class="comment-info" id="comment-53040-info">
<span class="comment-age">(19 Nov '16, 20:26)</span>
<a class="comment-user userinfo" href="/users/13000/davide_sd">Davide_sd</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-53020">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-53020-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/53016/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="1yo0wMLHrtIX4SjPuuwaxtRZf34wrqCy"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>