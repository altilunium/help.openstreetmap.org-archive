<meta charset="UTF-8"><link rel="stylesheet" type="text/css" href="../style.css"><div id="CALeft">
<div class="headNormal">
<h1><a href="/questions/68719/how-do-i-fix-a-routing-error-of-1700km-osrm-vs-59m-graphhopper">How do I fix a routing error of 1700km OSRM vs 59m GraphHopper?</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/68719/up/" id="post-68719-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-68719-score" title="current number of votes">
    1
</div>
<a class="ajax-command post-vote down" href="/vote/68719/down/" id="post-68719-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/68719/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
   1
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>I was trying to calculate a route I will be traveling this year and came up with a routing error that takes me 1706km Car (OSRM) vs 59m distance with Car (GraphHopper).</p>
<p>I thought there was an error in the road as this is an area that has been under construction.  I did a comparison to Google Maps and with the have edited the map close to the same with more to do.</p>
<p>I am not sure why the routing takes me this way and have waited a couple of days for the server to update.  The map is updated but the routing db for OSRM still has a problem.</p>
<p>Is this something I can fix?</p>
<p>How long do I need to wait for the OSRM routes to be updated?</p>
<p>Point 1 48.94339, -88.36608
Point 2 48.94291, -88.36644</p>
<p><a href="https://www.openstreetmap.org/directions?engine=fossgis_osrm_car&amp;route=48.94339%2C-88.36608%3B48.94291%2C-88.36644#map=7/47.665/-88.206">https://www.openstreetmap.org/directions?engine=fossgis_osrm_car&amp;route=48.94339%2C-88.36608%3B48.94291%2C-88.36644#map=7/47.665/-88.206</a></p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-osrm" href="/tags/osrm/" rel="tag" title="see questions tagged 'osrm'">osrm</a>
<a class="post-tag tag-link-routing" href="/tags/routing/" rel="tag" title="see questions tagged 'routing'">routing</a>
<a class="post-tag tag-link-error" href="/tags/error/" rel="tag" title="see questions tagged 'error'">error</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>09 Apr '19, 07:19</strong>
</p>
<img alt="MeMaps's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/64205d7e767055bacbe54a5d6b893164?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/1931/memaps">MeMaps</a><br/>
<span class="score" title="71 reputation points">71</span><span title="3 badges"><span class="badge1">●</span><span class="badgecount">3</span></span><span title="3 badges"><span class="silver">●</span><span class="badgecount">3</span></span><span title="6 badges"><span class="bronze">●</span><span class="badgecount">6</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="MeMaps has no accepted answers">0%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-68719">
</div>
<div class="comment-tools" id="comment-tools-68719">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-68719-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    One Answer:
                    </div>
<div class="tabsA"><a href="/questions/68719/how-do-i-fix-a-routing-error-of-1700km-osrm-vs-59m-graphhopper?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/68719/how-do-i-fix-a-routing-error-of-1700km-osrm-vs-59m-graphhopper?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/68719/how-do-i-fix-a-routing-error-of-1700km-osrm-vs-59m-graphhopper?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/68719/how-do-i-fix-a-routing-error-of-1700km-osrm-vs-59m-graphhopper?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="68720"></a>
<div class="answer" id="answer-container-68720">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/68720/up/" id="post-68720-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-68720-score" title="current number of votes">
    1
</div>
<a class="ajax-command post-vote down" href="/vote/68720/down/" id="post-68720-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p><a href="https://www.openstreetmap.org/way/682312286/history">way 682312286</a> did still have <code>construction=trunk</code> set additionally to <code>highway=trunk</code>. I guess this <code>construction</code> tag is the reason why OSRM tried to avoid this road whereas GraphHopper did only look at the <code>highway</code> tag. I removed the construction tag.</p>
<p>It will take a while for routing engines to update their data. You will have to wait a few days, probably up to two weeks.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/68720/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>09 Apr '19, 07:24</strong>
</p>
<img alt="scai's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/52d3234f3be58156770e8a91d575bfbd?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/158/scai">scai ♦</a><br/>
<span class="score" title="33317 reputation points"><span class="">33.3k</span></span><span title="21 badges"><span class="badge1">●</span><span class="badgecount">21</span></span><span title="309 badges"><span class="silver">●</span><span class="badgecount">309</span></span><span title="459 badges"><span class="bronze">●</span><span class="badgecount">459</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="scai has 168 accepted answers">23%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/68720/">
                edited
                <strong>09 Apr '19, 07:26</strong>
</a>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-68720">
<a name="68721"></a>
<div class="comment" id="comment-68721">
<div class="comment-score" id="post-68721-score"></div>
<div class="comment-text"><p>Ah, I was looking at the OSM inspector tonight and trying to learn some more and it said that there was a hidden NoOp in it as well.</p>
<p>I may have removed you edit as I was trying to remove this no-op about the same time you were editing.  </p>
<p>I will have GPS traces of this area later this year so will know how the full construction is completed and the one ways at that time.</p></div>
<div class="comment-info" id="comment-68721-info">
<span class="comment-age">(09 Apr '19, 07:58)</span>
<a class="comment-user userinfo" href="/users/1931/memaps">MeMaps</a>
</div>
</div>
<a name="68723"></a>
<div class="comment" id="comment-68723">
<div class="comment-score" id="post-68723-score"></div>
<div class="comment-text"><p>Next time please try to modify the existing way instead of deleting it. You can improve its geometry and change tags in order to keep the history. Most of the time deleting a way is not necessary.</p></div>
<div class="comment-info" id="comment-68723-info">
<span class="comment-age">(09 Apr '19, 08:13)</span>
<a class="comment-user userinfo" href="/users/158/scai">scai ♦</a>
</div>
</div>
<a name="68727"></a>
<div class="comment" id="comment-68727">
<div class="comment-score" id="post-68727-score">1</div>
<div class="comment-text"><p>Just tested.  The routing is now working.  Thanks you.</p>
<p>I will learn more as I use the tools more.  I tried to edit it for a few days but it wouldn't repair the routing.  </p></div>
<div class="comment-info" id="comment-68727-info">
<span class="comment-age">(09 Apr '19, 17:11)</span>
<a class="comment-user userinfo" href="/users/1931/memaps">MeMaps</a>
</div>
</div>
<a name="68728"></a>
<div class="comment" id="comment-68728">
<div class="comment-score" id="post-68728-score"></div>
<div class="comment-text"><p>The conclusion is that the routing in graphhopper is broken and OSRM was correct, so you should be opening a ticket with graphhopper to get that fixed.</p></div>
<div class="comment-info" id="comment-68728-info">
<span class="comment-age">(09 Apr '19, 19:14)</span>
<a class="comment-user userinfo" href="/users/2053/simonpoole">SimonPoole ♦</a>
</div>
</div>
<a name="68730"></a>
<div class="comment" id="comment-68730">
<div class="comment-score" id="post-68730-score"></div>
<div class="comment-text"><p>I wouldn't draw that conclusion Simon. highway=trunk + construction=trunk is broken tagging. Each router somehow handled it and in my opinion Graphhopper did the better interpretation by favoring the main tag over the secondary one.</p></div>
<div class="comment-info" id="comment-68730-info">
<span class="comment-age">(09 Apr '19, 19:20)</span>
<a class="comment-user userinfo" href="/users/10133/tzorn">TZorn</a>
</div>
</div>
<a name="68734"></a>
<div class="comment not_top_scorer" id="comment-68734">
<div class="comment-score" id="post-68734-score"></div>
<div class="comment-text"><p>The OSRM rounting graph is updated daily</p></div>
<div class="comment-info" id="comment-68734-info">
<span class="comment-age">(09 Apr '19, 19:57)</span>
<a class="comment-user userinfo" href="/users/3029/datendelphin">datendelphin</a>
</div>
</div>
<a name="68744"></a>
<div class="comment not_top_scorer" id="comment-68744">
<div class="comment-score" id="post-68744-score"></div>
<div class="comment-text"><p><a href="https://help.openstreetmap.org/users/10133/tzorn">@TZorn</a> I would disagree. While it isn't quite correct tagging, ignoring tagging that would imply ongoing construction work is not a good idea.</p></div>
<div class="comment-info" id="comment-68744-info">
<span class="comment-age">(10 Apr '19, 08:53)</span>
<a class="comment-user userinfo" href="/users/2053/simonpoole">SimonPoole ♦</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-68720">
<span class="comments-showing">
            showing 5 of 7
        </span>
<a class="show-all-comments-link" href="#">show 2 more comments</a>
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-68720-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/68719/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="qc8x5A7hUg5IfuiO179wn5l2sdva92XI"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>