<meta charset="utf-8"/><link href="../style.css" rel="stylesheet" type="text/css"/><div id="CALeft"><center><a href="../"><img id="ll" src="https://help.openstreetmap.org/upfiles/osm_help_logo_6.png"/></a></center>
<div class="headNormal">
<h1><a href="/questions/3462/multipolygon-innerouter">multipolygon inner/outer</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/3462/up/" id="post-3462-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-3462-score" title="current number of votes">
    2
</div>
<a class="ajax-command post-vote down" href="/vote/3462/down/" id="post-3462-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/3462/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>Can a multipolygon outer share part of a way with an inner of the same multipolygon?</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-outer" href="/tags/outer/" rel="tag" title="see questions tagged 'outer'">outer</a>
<a class="post-tag tag-link-inner" href="/tags/inner/" rel="tag" title="see questions tagged 'inner'">inner</a>
<a class="post-tag tag-link-multipolygon" href="/tags/multipolygon/" rel="tag" title="see questions tagged 'multipolygon'">multipolygon</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>01 Mar '11, 02:28</strong>
</p>
<img alt="upstream's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/a6cb4a88637b00f42389b7550700b70c?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/947/upstream">upstream</a><br/>
<span class="score" title="31 reputation points">31</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">●</span><span class="badgecount">1</span></span><span title="3 badges"><span class="bronze">●</span><span class="badgecount">3</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="upstream has no accepted answers">0%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-3462">
<a name="82776"></a>
<div class="comment" id="comment-82776">
<div class="comment-score" id="post-82776-score"></div>
<div class="comment-text"><p>I'm seeing a lot of people putting "simple" concave multipolygons (multipolygon relations that have no holes and folds into itself without crossing) with the concave parts as "inner" - am I missing something, or despite being concave, should it not still be outer?</p>
<p>Since I'm seeing this a lot, just need to make sure and there's no clear examples anywhere though I can see why someone might call it "inner" ... incorrectly I assume.</p>
<p>Example: think of a "PacMan" figure, and imagine a way that traces the edges.  This way that traces the edges no matter how it's split up into a multipolygon relation, all of the ways should be "outer" including the concave "mouth" portion, and the eye, if drawn, would be the only part that could be "inner"?</p>
<p>Example: if tracing a multipolygon that looks like ⛻ there should be zero "inner" ways.</p>
<p>Another example: think of a spiral shaped hedge.  All ways should be "outer" including the center of the spiral.</p>
<p>All three of these examples could be drawn without a multipolygon but ignore that for now... (except if PacMan had an eye...)</p></div>
<div class="comment-info" id="comment-82776-info">
<span class="comment-age">(07 Dec '21, 11:15)</span>
<a class="comment-user userinfo" href="/users/16890/gpserror">gpserror</a>
</div>
</div>
<a name="82787"></a>
<div class="comment" id="comment-82787">
<div class="comment-score" id="post-82787-score"></div>
<div class="comment-text"><p>Tagging those ways as inner would almost certainly be considered an error. Can you give an example of one of these?</p></div>
<div class="comment-info" id="comment-82787-info">
<span class="comment-age">(07 Dec '21, 16:54)</span>
<a class="comment-user userinfo" href="/users/8189/alester">alester</a>
</div>
</div>
<a name="82788"></a>
<div class="comment" id="comment-82788">
<div class="comment-score" id="post-82788-score"></div>
<div class="comment-text"><p>I've been correcting them as my gut feel was that it was indeed an error.  Here's one I haven't touched yet though it wasn't as egregious as others I've seen: </p>
<p><a href="https://www.openstreetmap.org/relation/11117214">https://www.openstreetmap.org/relation/11117214</a></p>
<p>specifically at this member: <a href="https://www.openstreetmap.org/way/805895181">https://www.openstreetmap.org/way/805895181</a></p>
<p>This member should be marked as "outer" despite being "inside" as far as I know about how topology works.</p></div>
<div class="comment-info" id="comment-82788-info">
<span class="comment-age">(07 Dec '21, 17:20)</span>
<a class="comment-user userinfo" href="/users/16890/gpserror">gpserror</a>
</div>
</div>
<a name="82789"></a>
<div class="comment" id="comment-82789">
<div class="comment-score" id="post-82789-score"></div>
<div class="comment-text"><p>Yes, that way should be an outer. The JOSM validator throws an error that the multipolygon isn't closed, which is true because there isn't a continuous ring of outer ways due to that one mis-roled way.</p></div>
<div class="comment-info" id="comment-82789-info">
<span class="comment-age">(07 Dec '21, 17:46)</span>
<a class="comment-user userinfo" href="/users/8189/alester">alester</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-3462">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-3462-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    One Answer:
                    </div>
<div class="tabsA"><a href="/questions/3462/multipolygon-innerouter?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/3462/multipolygon-innerouter?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/3462/multipolygon-innerouter?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/3462/multipolygon-innerouter?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="3463"></a>
<div class="answer" id="answer-container-3463">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/3463/up/" id="post-3463-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-3463-score" title="current number of votes">
    5
</div>
<a class="ajax-command post-vote down" href="/vote/3463/down/" id="post-3463-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>No.  The outer and inner of a multipolygon relation must not touch or cross.  No sharing of points either.<br/>
</p>
<p><a href="http://wiki.openstreetmap.org/wiki/Relation:multipolygon">http://wiki.openstreetmap.org/wiki/Relation:multipolygon</a></p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/3463/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>01 Mar '11, 02:35</strong>
</p>
<img alt="Richard%20Weait's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/d90ea04df82d77f534659f08894dd889?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/66/richard-weait">Richard Weait</a><br/>
<span class="score" title="3044 reputation points"><span class="">3.0k</span></span><span title="13 badges"><span class="badge1">●</span><span class="badgecount">13</span></span><span title="34 badges"><span class="silver">●</span><span class="badgecount">34</span></span><span title="52 badges"><span class="bronze">●</span><span class="badgecount">52</span></span><br>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Richard Weait has 8 accepted answers">17%</span>
</br></p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/3463/">
                edited
                <strong>01 Mar '11, 02:39</strong>
</a>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-3463">
<a name="3465"></a>
<div class="comment" id="comment-3465">
<div class="comment-score" id="post-3465-score">1</div>
<div class="comment-text"><p>The reason being because if the 'inner' touches the 'outer', then it is no longer 'inner' - the 'outer' way can just divert around what was the 'inner' to exclude the inner area.</p></div>
<div class="comment-info" id="comment-3465-info">
<span class="comment-age">(01 Mar '11, 09:30)</span>
<a class="comment-user userinfo" href="/users/339/edloach">EdLoach ♦</a>
</div>
</div>
<a name="3474"></a>
<div class="comment" id="comment-3474">
<div class="comment-score" id="post-3474-score">1</div>
<div class="comment-text"><p>Interestingly in OSM we allow inner rings to touch. This is not conform to standard OGC Simple Features but allows for simpler modeling in OSM when you have multiple different adjacent features inside the outer way which you want to exclude from the polygon.</p></div>
<div class="comment-info" id="comment-3474-info">
<span class="comment-age">(01 Mar '11, 11:59)</span>
<a class="comment-user userinfo" href="/users/936/dieterdreist">dieterdreist</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-3463">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-3463-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/3462/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="nsGrF1f6idE5w36X677iaZwcbw8766jP"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>