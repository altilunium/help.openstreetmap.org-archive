<meta charset="utf-8"/><link href="../style.css" rel="stylesheet" type="text/css"/><div id="CALeft"><center><a href="../"><img id="ll" src="https://help.openstreetmap.org/upfiles/osm_help_logo_6.png"/></a></center>
<div class="headNormal">
<h1><a href="/questions/231/how-can-i-edit-all-ways-with-certain-tag-in-an-area">How can I edit all ways with certain tag in an area?</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/231/up/" id="post-231-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-231-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/231/down/" id="post-231-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/231/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>I'd like to convert some London cycle routes currently tagged with lcn_ref=*, possibly multivalued, with relations. How can I find all ways belonging to a specific cycle route in London, or possibly UK but not larger area and edit them to add them all to a relation and remove the route number from the lcn_ref tag?</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-editing" href="/tags/editing/" rel="tag" title="see questions tagged 'editing'">editing</a>
<a class="post-tag tag-link-data" href="/tags/data/" rel="tag" title="see questions tagged 'data'">data</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>15 Jul '10, 22:41</strong>
</p>
<img alt="tko's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/e260236f98a32acdb3ce43cc9e1e01a2?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/102/tko">tko</a><br/>
<span class="score" title="111 reputation points">111</span><span title="3 badges"><span class="badge1">●</span><span class="badgecount">3</span></span><span title="4 badges"><span class="silver">●</span><span class="badgecount">4</span></span><span title="6 badges"><span class="bronze">●</span><span class="badgecount">6</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="tko has no accepted answers">0%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-231">
</div>
<div class="comment-tools" id="comment-tools-231">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-231-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    2 Answers:
                    </div>
<div class="tabsA"><a href="/questions/231/how-can-i-edit-all-ways-with-certain-tag-in-an-area?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/231/how-can-i-edit-all-ways-with-certain-tag-in-an-area?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/231/how-can-i-edit-all-ways-with-certain-tag-in-an-area?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/231/how-can-i-edit-all-ways-with-certain-tag-in-an-area?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="233"></a>
<div class="answer accepted-answer" id="answer-container-233">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/233/up/" id="post-233-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-233-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/233/down/" id="post-233-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="accept-answer on" href="/accept_answer/233/" rel="nofollow" title="tko has selected this answer as the correct answer">
</a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>You'll want to use the <a>xapi</a> and JOSM. First find the bounds you want by opening JOSM, pressing ctrl-shift-D and selecting the area, then going to the "bookmarks" tab and copying the bounding box coordinates at the top. Close the download window (without downloading anything) and hit ctrl-L, then download <a href="http://xapi.openstreetmap.org/api/0.6/klzzwxh:0000%5bbbox=[paste">http://xapi.openstreetmap.org/api/0.6/*%5bbbox=[paste</a> the bounding box here]%5d%5blcn_ref=* . After it loads, hit ctrl-F and find "type:way lcn_ref:[route]" (this may return too many; for example if you search for 2 you'll also get 12 and you'll have to remove those). Now add those ways to a new relation. There's no way I know of to automate the generation of roles.</p>
<p>Consider keeping the lcn_ref tags for redundancy; it's much easier to inadvertently screw up a relation than a tag on a way and much harder to restore the relation if you don't have the way tags as backup.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/233/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>15 Jul '10, 23:18</strong>
</p>
<img alt="NE2's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/0c334b9f230e39c1e73a2b0322a23fb3?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/103/ne2">NE2</a><br/>
<span class="score" title="1359 reputation points"><span class="">1.4k</span></span><span title="33 badges"><span class="badge1">●</span><span class="badgecount">33</span></span><span title="39 badges"><span class="silver">●</span><span class="badgecount">39</span></span><span title="54 badges"><span class="bronze">●</span><span class="badgecount">54</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="NE2 has one accepted answer">9%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/233/">
                edited
                <strong>15 Jul '10, 23:20</strong>
</a>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-233">
<a name="263"></a>
<div class="comment" id="comment-263">
<div class="comment-score" id="post-263-score">3</div>
<div class="comment-text"><p>I would just add that you should think very carefully before embarking on this kind of bulk edit. Then stop and think again. Then talk to the community and see if they agree with the change you plan to make. Then just maybe you should start doing the edit.</p></div>
<div class="comment-info" id="comment-263-info">
<span class="comment-age">(16 Jul '10, 13:41)</span>
<a class="comment-user userinfo" href="/users/1/tomh">TomH ♦♦</a>
</div>
</div>
<a name="288"></a>
<div class="comment" id="comment-288">
<div class="comment-score" id="post-288-score"></div>
<div class="comment-text"><p>Keeping lcn_ref on the ways is a good point, it can highlight if there's a conflict between the relation and the way tag. But it also means the same information needs to be maintained in two different places; if you don't do it for all new tags it'll slowly lose its meaning.</p></div>
<div class="comment-info" id="comment-288-info">
<span class="comment-age">(17 Jul '10, 12:24)</span>
<a class="comment-user userinfo" href="/users/102/tko">tko</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-233">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-233-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="264"></a>
<div class="answer" id="answer-container-264">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/264/up/" id="post-264-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-264-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/264/down/" id="post-264-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>If the area containing the ways isn't too large, it's possible to do this entirely within JOSM:</p>
<p>Start by downloading the area into JOSM. Bring up the search box using Ctrl-F (or the menu item Edit-&gt;Search). The search box offers several features - among them is searching for ways only, and searching for substrings in tag values. There is extensive documentation within the search dialog itself on how to use it.</p>
<p>Using the search dialog, you will select all objects in the downloaded data that match the search. Subsequently, you can perform operations on the entire selection, such as editing tags or adding the selected objects to a relation.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/264/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>16 Jul '10, 13:52</strong>
</p>
<img alt="Tordanik's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/0626be5f46f32fce501353e8a5ec399c?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/14/tordanik">Tordanik</a><br/>
<span class="score" title="11998 reputation points"><span class="">12.0k</span></span><span title="15 badges"><span class="badge1">●</span><span class="badgecount">15</span></span><span title="106 badges"><span class="silver">●</span><span class="badgecount">106</span></span><span title="147 badges"><span class="bronze">●</span><span class="badgecount">147</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Tordanik has 58 accepted answers">35%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-264">
</div>
<div class="comment-tools" id="comment-tools-264">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-264-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/231/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="Y5hMxqjXMk0c2VYnl73IirAsns2fRk6t"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>