<meta charset="utf-8"/><link href="../style.css" rel="stylesheet" type="text/css"/><div id="CALeft"><center><a href="../"><img id="ll" src="https://help.openstreetmap.org/upfiles/osm_help_logo_6.png"/></a></center>
<div class="headNormal">
<h1><a href="/questions/70008/merge-towerblocks-to-one-building-with-n-housenumbers">Merge towerblocks to one building with n housenumbers</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/70008/up/" id="post-70008-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-70008-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/70008/down/" id="post-70008-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/70008/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>Hi there, I noticed that users have splittet a lot of towerblocks / Plattenbau buildings into small buildings for each part / stairwell. After discussion, I would like to merge the building shape into a single building way, that contains indipendend nodes per housenumber.</p>
<p><img alt="Small separated buildings form a building block, which is just wrong" src="https://help.openstreetmap.org/upfiles/josm_wohnblock_gesplittet_Z3jaKHk.jpg"/></p>
<p><img alt="Improved version, a merged building (block) that contains multiple housenumbers per entrance" src="https://help.openstreetmap.org/upfiles/josm_wohnblock.jpg"/></p>
<p>But I know only a manual way using JOSM to extract and cleanup the infos (add nodes, copy &amp; paste content of each building part, remove remaining tags, merge parts to main building). Anybody an idea to speedup this process? building-tools addon just offer another splitup, but not a reunion :-(</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-josm" href="/tags/josm/" rel="tag" title="see questions tagged 'josm'">josm</a>
<a class="post-tag tag-link-buildings" href="/tags/buildings/" rel="tag" title="see questions tagged 'buildings'">buildings</a>
<a class="post-tag tag-link-quality_assurance" href="/tags/quality_assurance/" rel="tag" title="see questions tagged 'quality_assurance'">quality_assurance</a>
<a class="post-tag tag-link-housenumbers" href="/tags/housenumbers/" rel="tag" title="see questions tagged 'housenumbers'">housenumbers</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>12 Jul '19, 18:17</strong>
</p>
<img alt="iii's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/49a7d0e0408e9cf2f698faac0f4d837a?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/4984/iii">iii</a><br/>
<span class="score" title="4892 reputation points"><span class="">4.9k</span></span><span title="8 badges"><span class="badge1">●</span><span class="badgecount">8</span></span><span title="40 badges"><span class="silver">●</span><span class="badgecount">40</span></span><span title="82 badges"><span class="bronze">●</span><span class="badgecount">82</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="iii has 16 accepted answers">10%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-70008">
</div>
<div class="comment-tools" id="comment-tools-70008">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-70008-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    One Answer:
                    </div>
<div class="tabsA"><a href="/questions/70008/merge-towerblocks-to-one-building-with-n-housenumbers?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/70008/merge-towerblocks-to-one-building-with-n-housenumbers?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/70008/merge-towerblocks-to-one-building-with-n-housenumbers?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/70008/merge-towerblocks-to-one-building-with-n-housenumbers?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="70009"></a>
<div class="answer" id="answer-container-70009">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/70009/up/" id="post-70009-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-70009-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/70009/down/" id="post-70009-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>While I'm not convinced this is a good idea (are you sure these don't outline separate residences?), I do have a method that should work:</p>
<ol>
<li>Select a all of the nodes along one side of the building except the last, and copy-paste them offset so that you have nodes roughly where you want them (or create them another way). </li>
<li>Use the <a href="https://wiki.openstreetmap.org/wiki/JOSM/Plugins/Conflation">conflate plugin</a> with the "replace geometry" box un-ticked to copy all tags from the surrounding ways to the destination nodes (full instructions in wiki)</li>
<li>Select the destination nodes and delete the irrelevant tags</li>
<li>Select the outline ways and <em>Join Overlapping Areas</em> (SHIFT+J), selecting "<strong>none</strong>" for the conflict resolution on the address tags.</li>
<li>Use the <em>Simplify Way</em> (SHIFT+Y) command to delete midpoint nodes (you may need to tighten the sensitivity)</li>
<li>Remove the irrelevant tags from the outline way. (For those not done as a part of step 4).</li>
<li>Modify the building tags on the outline way to reflect the fact that they are <a href="https://wiki.openstreetmap.org/wiki/Tag:building%3Dterrace">building=terrace</a> or <a href="https://wiki.openstreetmap.org/wiki/Tag:building%3Dapartments">apartments</a> as appropriate. </li>
<li>Unless specifically against local practice it may be useful to place the new address nodes joined to the new way and tag them as <a href="https://wiki.openstreetmap.org/wiki/Key:entrance">entrances</a> if you know where the doors are.</li>
</ol>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/70009/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>12 Jul '19, 20:18</strong>
</p>
<img alt="InsertUser's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/ec8a0cf213f9797ad1c1ae2c28c2332d?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/4426/insertuser">InsertUser</a><br/>
<span class="score" title="11005 reputation points"><span class="">11.0k</span></span><span title="13 badges"><span class="badge1">●</span><span class="badgecount">13</span></span><span title="69 badges"><span class="silver">●</span><span class="badgecount">69</span></span><span title="185 badges"><span class="bronze">●</span><span class="badgecount">185</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="InsertUser has 73 accepted answers">19%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/70009/">
                edited
                <strong>12 Jul '19, 20:37</strong>
</a>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-70009">
<a name="70010"></a>
<div class="comment" id="comment-70010">
<div class="comment-score" id="post-70010-score"></div>
<div class="comment-text"><p>Note that in an area / development where you think several streets worth of addresses are misrepresented, the conflate plugin and join overlapping areas tool can both operate over several terraces at once so this isn't necessarily as long as it seems. </p>
<p>For a one off, it might be quicker to use the auto increment function of the address preset as on the new address nodes.</p></div>
<div class="comment-info" id="comment-70010-info">
<span class="comment-age">(12 Jul '19, 20:34)</span>
<a class="comment-user userinfo" href="/users/4426/insertuser">InsertUser</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-70009">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-70009-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/70008/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="xO6NDvyfhbpH0f42Ap2YNkV7o52u9tnw"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>