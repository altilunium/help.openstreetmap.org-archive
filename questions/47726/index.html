<meta charset="utf-8"/><link href="../style.css" rel="stylesheet" type="text/css"/><div id="CALeft"><center><a href="../"><img id="ll" src="https://help.openstreetmap.org/upfiles/osm_help_logo_6.png"/></a></center>
<div class="headNormal">
<h1><a href="/questions/47726/how-to-get-list-of-areas-in-an-area">How to get list of areas, in an area?</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/47726/up/" id="post-47726-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-47726-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/47726/down/" id="post-47726-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/47726/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>lets say i have an area boundary of a country.
now how do i get all the boundaries available in this country?
like available state,city, even deeper boundaries?</p>
<p>Shorter version of my ques: i need the list of areas(boundaries) inside a country(boundary)?</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-overpassapi" href="/tags/overpassapi/" rel="tag" title="see questions tagged 'overpassapi'">overpassapi</a>
<a class="post-tag tag-link-overpass" href="/tags/overpass/" rel="tag" title="see questions tagged 'overpass'">overpass</a>
<a class="post-tag tag-link-overpass-api" href="/tags/overpass-api/" rel="tag" title="see questions tagged 'overpass-api'">overpass-api</a>
<a class="post-tag tag-link-overpass-ql" href="/tags/overpass-ql/" rel="tag" title="see questions tagged 'overpass-ql'">overpass-ql</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>29 Jan '16, 09:16</strong>
</p>
<img alt="Arun%20Gowtham's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/dfcf9d391ca68ff816e8f9f8ec9f3fc4?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/11860/arun-gowtham">Arun Gowtham</a><br/>
<span class="score" title="0 reputation points">0</span><span title="11 badges"><span class="badge1">●</span><span class="badgecount">11</span></span><span title="11 badges"><span class="silver">●</span><span class="badgecount">11</span></span><span title="14 badges"><span class="bronze">●</span><span class="badgecount">14</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Arun Gowtham has no accepted answers">0%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-47726">
</div>
<div class="comment-tools" id="comment-tools-47726">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-47726-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    2 Answers:
                    </div>
<div class="tabsA"><a href="/questions/47726/how-to-get-list-of-areas-in-an-area?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/47726/how-to-get-list-of-areas-in-an-area?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/47726/how-to-get-list-of-areas-in-an-area?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/47726/how-to-get-list-of-areas-in-an-area?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="48373"></a>
<div class="answer" id="answer-container-48373">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/48373/up/" id="post-48373-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-48373-score" title="current number of votes">
    3
</div>
<a class="ajax-command post-vote down" href="/vote/48373/down/" id="post-48373-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>Search for administrative boundaries using the known area as a filter:</p>
<p><a href="http://wiki.openstreetmap.org/wiki/Overpass_API/Overpass_QL#By_area_.28area.29">http://wiki.openstreetmap.org/wiki/Overpass_API/Overpass_QL#By_area_.28area.29</a></p>
<p>Take care of the note there, that area(area) is not implemented, so you will need to search for ways and relations, the ones you want are probably tagged with boundary=administrative.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/48373/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>26 Feb '16, 21:18</strong>
</p>
<img alt="maxerickson's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/c860445e868ebb21da141635a4aa7b06?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/10973/maxerickson">maxerickson</a><br/>
<span class="score" title="12700 reputation points"><span class="">12.7k</span></span><span title="10 badges"><span class="badge1">●</span><span class="badgecount">10</span></span><span title="83 badges"><span class="silver">●</span><span class="badgecount">83</span></span><span title="176 badges"><span class="bronze">●</span><span class="badgecount">176</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="maxerickson has 93 accepted answers">32%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-48373">
<a name="48384"></a>
<div class="comment" id="comment-48384">
<div class="comment-score" id="post-48384-score">1</div>
<div class="comment-text"><p>To convert a way or relation back to an area (if available), use the <code>map_to_area</code> statement.</p></div>
<div class="comment-info" id="comment-48384-info">
<span class="comment-age">(27 Feb '16, 08:40)</span>
<a class="comment-user userinfo" href="/users/8708/mmd">mmd</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-48373">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-48373-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="48372"></a>
<div class="answer" id="answer-container-48372">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/48372/up/" id="post-48372-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-48372-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/48372/down/" id="post-48372-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>There is a big difference between "areas inside areas" and "boundaries inside boundaries". The first issue is much more general and I will try to answer that one.  <br/>
Assume an open simple 2D area is a set of all points strictly inside an outer/enclosing border polygon and strictly outside and arbitrary number (including zero) of inner/excluding/hole border polygons. A closed area, besides its inner points, contains all border points as well. You can prove that any complex area, or a set of complex areas, has a perfect coverage of disjunctive simple areas.  Therefore, hereafter we consider only simple closed areas.  <br/>
We can say/define that an area Ab is inside another area Aa if, and only if, any inner or border point of Ab is an inner or border point of Aa. Now the question is how to check this condition efficiently? Here are some hints and suggestions:  <br/>
Any math/GIS library should contain (almost guaranteed) a function point-polygon(…) that returns one of the values for a given point and polygon: the point is strictly inside, outside or it is exactly on the polygon. Also, the library should contain a function polygon-in-polygon(…) that returns yes or no for two given polygons Pb and Pa. If not, you can make it easily using the point-polygon(…) function. Namely, we can say/define that Pb is inside Pa if any point of Pb is not strictly outside Pa. In addition, you can prove that Pb is inside Pa if, and only if,  any of the node points of Pb is not strictly outside Pa and none of the node points of Pa is strictly inside Pb.  <br/>
Now, using the polygon-in-polygon(…) function you can efficiently check whether and area Ab is inside another area Aa. Namely, you can prove that a given area Ab is inside a given area Aa if, and only if:  <br/>
 1. The outer border polygon Pb of area Ab is inside the outer border polygon Pa of area Aa; and  <br/>
 2. Any hole polygon Ha of area Aa is either inside or outside the outer polygon Pb of area Ab. If inside, then Ha must be inside of a hole polygon Hb of area Ab.<br/>
Good luck and enjoy the OSM. </p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/48372/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>26 Feb '16, 20:44</strong>
</p>
<img alt="sanser's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/03cd9ea0efd97a7040fda0d6a76aba8e?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/3194/sanser">sanser</a><br/>
<span class="score" title="695 reputation points">695</span><span title="38 badges"><span class="badge1">●</span><span class="badgecount">38</span></span><span title="39 badges"><span class="silver">●</span><span class="badgecount">39</span></span><span title="55 badges"><span class="bronze">●</span><span class="badgecount">55</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="sanser has 2 accepted answers">5%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-48372">
<a name="48385"></a>
<div class="comment" id="comment-48385">
<div class="comment-score" id="post-48385-score">2</div>
<div class="comment-text"><p>As the question was specifically about Overpass API, this seems a bit OT.</p></div>
<div class="comment-info" id="comment-48385-info">
<span class="comment-age">(27 Feb '16, 08:41)</span>
<a class="comment-user userinfo" href="/users/8708/mmd">mmd</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-48372">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-48372-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/47726/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="oDhnXc2zVO0udCKjPn0IvLe4fwpbLE5N"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>