<meta charset="utf-8"/><link href="../style.css" rel="stylesheet" type="text/css"/><div id="CALeft"><center><a href="../"><img id="ll" src="https://help.openstreetmap.org/upfiles/osm_help_logo_6.png"/></a></center>
<div class="headNormal">
<h1><a href="/questions/56032/how-to-find-motorways-untagged-with-toll-using-overpass">How to find motorways untagged with toll=* using Overpass?</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/56032/up/" id="post-56032-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-56032-score" title="current number of votes">
    1
</div>
<a class="ajax-command post-vote down" href="/vote/56032/down/" id="post-56032-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/56032/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>There's a set of motorways surrounding a city. All motorways for the country are either paid (default), or toll-free (where explicitly marked).</p>
<p>Therefore, it makes sense to mark the toll-free motorways as <code>toll=no</code>, as no tagging implies <code>toll=yes</code> in the general area.</p>
<p>Now, I can query Overpass API (from JOSM) - filtering <code>way["highway"="motorway"]</code> gives me all motorways; filtering <code>way["highway"="motorway"]["toll"=*]</code> gives me motorways with explicit toll info. I'm interested in the opposite: in motorways which are <em>not</em> tagged with <code>toll</code>. I haven't found that anywhere in the examples, here, or on the Internet at large.</p>
<p>Is there a way do find "ways that have <em>this tag</em> but <em>not that tag</em>"?</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-overpass" href="/tags/overpass/" rel="tag" title="see questions tagged 'overpass'">overpass</a>
<a class="post-tag tag-link-tagging" href="/tags/tagging/" rel="tag" title="see questions tagged 'tagging'">tagging</a>
<a class="post-tag tag-link-overpass-api" href="/tags/overpass-api/" rel="tag" title="see questions tagged 'overpass-api'">overpass-api</a>
<a class="post-tag tag-link-toll" href="/tags/toll/" rel="tag" title="see questions tagged 'toll'">toll</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>04 May '17, 16:04</strong>
</p>
<img alt="Piskvor's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/8200fa5c0cc8feb096558c5972a6191c?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/9641/piskvor">Piskvor</a><br/>
<span class="score" title="1266 reputation points"><span class="">1.3k</span></span><span title="9 badges"><span class="badge1">●</span><span class="badgecount">9</span></span><span title="15 badges"><span class="silver">●</span><span class="badgecount">15</span></span><span title="35 badges"><span class="bronze">●</span><span class="badgecount">35</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Piskvor has 9 accepted answers">37%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-56032">
</div>
<div class="comment-tools" id="comment-tools-56032">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-56032-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    One Answer:
                    </div>
<div class="tabsA"><a href="/questions/56032/how-to-find-motorways-untagged-with-toll-using-overpass?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/56032/how-to-find-motorways-untagged-with-toll-using-overpass?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/56032/how-to-find-motorways-untagged-with-toll-using-overpass?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/56032/how-to-find-motorways-untagged-with-toll-using-overpass?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="56033"></a>
<div class="answer accepted-answer" id="answer-container-56033">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/56033/up/" id="post-56033-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-56033-score" title="current number of votes">
    2
</div>
<a class="ajax-command post-vote down" href="/vote/56033/down/" id="post-56033-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="accept-answer on" href="/accept_answer/56033/" rel="nofollow" title="Piskvor has selected this answer as the correct answer">
</a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>This is possible by using regular expressions and querying for <code>["highway"="motorway"]["toll"!~".*"]</code>.</p>
<p>However it sounds like you are about to perform an <a href="https://wiki.openstreetmap.org/wiki/Automated_edits">automated edit</a>. Can you be really sure that all highways without a toll tag require a fee? I guess there is still a chance that some motorways are missing a toll=yes tag.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/56033/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>04 May '17, 16:50</strong>
</p>
<img alt="scai's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/52d3234f3be58156770e8a91d575bfbd?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/158/scai">scai ♦</a><br/>
<span class="score" title="33317 reputation points"><span class="">33.3k</span></span><span title="21 badges"><span class="badge1">●</span><span class="badgecount">21</span></span><span title="309 badges"><span class="silver">●</span><span class="badgecount">309</span></span><span title="459 badges"><span class="bronze">●</span><span class="badgecount">459</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="scai has 168 accepted answers">23%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-56033">
<a name="56034"></a>
<div class="comment" id="comment-56034">
<div class="comment-score" id="post-56034-score"></div>
<div class="comment-text"><p>That's what I am looking for, thank you. And on second look, my wording does sound suspicious :) Do not worry, I am not about to mass-edit: I am looking for a tool to check for missing spots. I have recently driven one part of the city's ring road, so now I'm comparing my notes with the DB to see if all the places around the city that are enumerated in a city bylaw and <em>physically</em> marked as "toll not required" are marked as such in OSM. Have been using two JOSM layers, one for toll=yes, other for toll=no, and checking for gaps visually; wondered if there was an easier way.</p></div>
<div class="comment-info" id="comment-56034-info">
<span class="comment-age">(04 May '17, 16:57)</span>
<a class="comment-user userinfo" href="/users/9641/piskvor">Piskvor</a>
</div>
</div>
<a name="56036"></a>
<div class="comment" id="comment-56036">
<div class="comment-score" id="post-56036-score">3</div>
<div class="comment-text"><p>A recent update added a nicer syntax for missing tags, <code>["highway"="motorway"][!toll]</code>.</p></div>
<div class="comment-info" id="comment-56036-info">
<span class="comment-age">(04 May '17, 20:19)</span>
<a class="comment-user userinfo" href="/users/10973/maxerickson">maxerickson</a>
</div>
</div>
<a name="56046"></a>
<div class="comment" id="comment-56046">
<div class="comment-score" id="post-56046-score"></div>
<div class="comment-text"><p>(btw yes, all motorways without a specific physical tag are toll roads here, by law. What I'm checking is that OSM tagging matches the physical tagging)</p></div>
<div class="comment-info" id="comment-56046-info">
<span class="comment-age">(05 May '17, 10:48)</span>
<a class="comment-user userinfo" href="/users/9641/piskvor">Piskvor</a>
</div>
</div>
<a name="56053"></a>
<div class="comment" id="comment-56053">
<div class="comment-score" id="post-56053-score"></div>
<div class="comment-text"><p>And it seems that, in the area I visited, <em>all</em> toll roads have already been correctly tagged as toll=yes; there were some parts left untagged where toll=no was the OTG situation.</p></div>
<div class="comment-info" id="comment-56053-info">
<span class="comment-age">(05 May '17, 13:31)</span>
<a class="comment-user userinfo" href="/users/9641/piskvor">Piskvor</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-56033">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-56033-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/56032/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="VLZHJv5GoUHunbgFKI89MJbOFV1NmTwB"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>