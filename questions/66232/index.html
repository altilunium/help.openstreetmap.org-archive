<meta charset="utf-8"/><link href="../style.css" rel="stylesheet" type="text/css"/><div id="CALeft"><center><a href="../"><img id="ll" src="https://help.openstreetmap.org/upfiles/osm_help_logo_6.png"/></a></center>
<div class="headNormal">
<h1><a href="/questions/66232/automating-the-tally-of-road-lengths-added-by-username">Automating the tally of road lengths added - by username</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/66232/up/" id="post-66232-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-66232-score" title="current number of votes">
    1
</div>
<a class="ajax-command post-vote down" href="/vote/66232/down/" id="post-66232-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/66232/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>I'm trying to find a way where I can keep track (automated) of the length of roads I add in OSM over time.  Is there a script/tool/api that I can use to automatically download the ways (version =1) that I've added into OSM?  </p>
<p>I don't want to download from geofabrik and process via osmosis each time, and overpass has a limit of 100 returns.  </p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-lengths" href="/tags/lengths/" rel="tag" title="see questions tagged 'lengths'">lengths</a>
<a class="post-tag tag-link-achavi" href="/tags/achavi/" rel="tag" title="see questions tagged 'achavi'">achavi</a>
<a class="post-tag tag-link-username" href="/tags/username/" rel="tag" title="see questions tagged 'username'">username</a>
<a class="post-tag tag-link-api" href="/tags/api/" rel="tag" title="see questions tagged 'api'">api</a>
<a class="post-tag tag-link-quantifying" href="/tags/quantifying/" rel="tag" title="see questions tagged 'quantifying'">quantifying</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>09 Oct '18, 00:19</strong>
</p>
<img alt="markzawi's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/146f9c2b954b5bbe3c30ae5f4be407e7?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/15273/markzawi">markzawi</a><br/>
<span class="score" title="71 reputation points">71</span><span title="4 badges"><span class="badge1">●</span><span class="badgecount">4</span></span><span title="4 badges"><span class="silver">●</span><span class="badgecount">4</span></span><span title="8 badges"><span class="bronze">●</span><span class="badgecount">8</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="markzawi has no accepted answers">0%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-66232">
</div>
<div class="comment-tools" id="comment-tools-66232">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-66232-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    One Answer:
                    </div>
<div class="tabsA"><a href="/questions/66232/automating-the-tally-of-road-lengths-added-by-username?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/66232/automating-the-tally-of-road-lengths-added-by-username?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/66232/automating-the-tally-of-road-lengths-added-by-username?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/66232/automating-the-tally-of-road-lengths-added-by-username?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="66238"></a>
<div class="answer" id="answer-container-66238">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/66238/up/" id="post-66238-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-66238-score" title="current number of votes">
    4
</div>
<a class="ajax-command post-vote down" href="/vote/66238/down/" id="post-66238-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>There are many different approaches you can take. I'd probably use <a href="https://osmcode.org/osmium-tool">osmium</a> to convert the downloaded data into <a href="https://osmcode.org/opl-file-format/">OPL</a> format (using <code>osmium cat</code>) in which I can simply filter out all ways edited by a specific user id (simple <code>grep ' u123 '</code>) on the OPL file, then <code>grep ' v1 '</code> to get the first version. All of this can be done in one command line. You then have to get the nodes for those ways you filtered out <code>osmium getid -r</code>. In the <code>libosmium</code> repository there is a tool call <a href="https://github.com/osmcode/libosmium/blob/master/examples/osmium_road_length.cpp">road_length</a> which can do the rest. And while this seems to be a bit complicated at first, after you have used those tools a few times, you will appreciate the enormous flexibility you get from having tools like this that can be put together in different ways to achieve complex ends.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/66238/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>09 Oct '18, 07:01</strong>
</p>
<img alt="Jochen%20Topf's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/2d4dfcdcde73aa5e2ffa4a9b3a7cb51d?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/112/jochen-topf">Jochen Topf</a><br/>
<span class="score" title="5244 reputation points"><span class="">5.2k</span></span><span title="5 badges"><span class="badge1">●</span><span class="badgecount">5</span></span><span title="50 badges"><span class="silver">●</span><span class="badgecount">50</span></span><span title="74 badges"><span class="bronze">●</span><span class="badgecount">74</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Jochen Topf has 32 accepted answers">31%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-66238">
<a name="66258"></a>
<div class="comment" id="comment-66258">
<div class="comment-score" id="post-66258-score"></div>
<div class="comment-text"><p>Awesome, thank you Jochen!  The road_length tool looks promising.</p></div>
<div class="comment-info" id="comment-66258-info">
<span class="comment-age">(09 Oct '18, 19:06)</span>
<a class="comment-user userinfo" href="/users/15273/markzawi">markzawi</a>
</div>
</div>
<a name="66261"></a>
<div class="comment" id="comment-66261">
<div class="comment-score" id="post-66261-score">1</div>
<div class="comment-text"><p>Hmm, actually it is "slightly" more complicated than just getting v1 of the way, as "to do it properly"TM you should add extensions of existing ways added by the user in question and to be really nit-picky new ways created by splits shouldn't be counted :-).</p></div>
<div class="comment-info" id="comment-66261-info">
<span class="comment-age">(10 Oct '18, 11:51)</span>
<a class="comment-user userinfo" href="/users/2053/simonpoole">SimonPoole ♦</a>
</div>
</div>
<a name="66263"></a>
<div class="comment" id="comment-66263">
<div class="comment-score" id="post-66263-score"></div>
<div class="comment-text"><p>This is OSM, of course it is always more complicated. I am just providing an answer to the original question, not saying that the question is valid. :-)</p></div>
<div class="comment-info" id="comment-66263-info">
<span class="comment-age">(10 Oct '18, 12:56)</span>
<a class="comment-user userinfo" href="/users/112/jochen-topf">Jochen Topf</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-66238">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-66238-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/66232/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="x0V89v3bTmsyvd5DSWzYHReM4mS6BE9k"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>