<meta charset="utf-8"/><link href="../style.css" rel="stylesheet" type="text/css"/><div id="CALeft"><center><a href="../"><img id="ll" src="https://help.openstreetmap.org/upfiles/osm_help_logo_6.png"/></a></center>
<div class="headNormal">
<h1><a href="/questions/50161/josm-upload-fails-with-violates-a-precondition-message">JOSM upload fails with "violates a precondition" message</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/50161/up/" id="post-50161-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-50161-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/50161/down/" id="post-50161-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/50161/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>I have a large changeset that JOSM refuses to upload because of a "precondition error". It tells me there is a problem with "way id:230281711 because the node with id:4226001328 either does not exist or is not visible". The node does exist and is visible but nevertheless JOSM will not accept the upload. I have quite a bit of work invested in that changeset and would really like to salvage it if possible.</p>
<p>However, I got frustrated the other night and saved my work in an OSM file to work on it the next day. But now the individual changes are no longer available in the command window or anywhere else that I can see.  Is there any way to dissect an OSM file to see what changes might be there? And why oh why didn't JOSM present me with a conflict resolution dialog? </p>
<p>I have a feeling nobody knows these answers but I remain hopeful I can resurrect my work somehow.</p>
<p>Thanks,</p>
<p>Dave</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-josm" href="/tags/josm/" rel="tag" title="see questions tagged 'josm'">josm</a>
<a class="post-tag tag-link-precondition_failed" href="/tags/precondition_failed/" rel="tag" title="see questions tagged 'precondition_failed'">precondition_failed</a>
<a class="post-tag tag-link-error" href="/tags/error/" rel="tag" title="see questions tagged 'error'">error</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>12 Jun '16, 16:02</strong>
</p>
<img alt="AlaskaDave's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/04dddf6f5ffde333747d385af3ce5829?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/5016/alaskadave">AlaskaDave</a><br/>
<span class="score" title="5415 reputation points"><span class="">5.4k</span></span><span title="76 badges"><span class="badge1">●</span><span class="badgecount">76</span></span><span title="107 badges"><span class="silver">●</span><span class="badgecount">107</span></span><span title="164 badges"><span class="bronze">●</span><span class="badgecount">164</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="AlaskaDave has 17 accepted answers">16%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-50161">
</div>
<div class="comment-tools" id="comment-tools-50161">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-50161-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    One Answer:
                    </div>
<div class="tabsA"><a href="/questions/50161/josm-upload-fails-with-violates-a-precondition-message?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/50161/josm-upload-fails-with-violates-a-precondition-message?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/50161/josm-upload-fails-with-violates-a-precondition-message?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/50161/josm-upload-fails-with-violates-a-precondition-message?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="50163"></a>
<div class="answer accepted-answer" id="answer-container-50163">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/50163/up/" id="post-50163-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-50163-score" title="current number of votes">
    3
</div>
<a class="ajax-command post-vote down" href="/vote/50163/down/" id="post-50163-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="accept-answer on" href="/accept_answer/50163/" rel="nofollow" title="AlaskaDave has selected this answer as the correct answer">
</a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>I think File-&gt;Update data should trigger JOSM to generate the conflicts. Don't have a broken changeset to test with at the moment.</p>
<p>If that doesn't work, I think searching for the way using the id and purging it should allow the upload to proceed. Purge is under the edit menu, select the way before selecting the menu item.</p>
<p>Since you have the edits saved to a file, it's "safe" to try both things. Just delete the layer and reopen if it seems things have gone further sideways.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/50163/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>12 Jun '16, 17:19</strong>
</p>
<img alt="maxerickson's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/c860445e868ebb21da141635a4aa7b06?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/10973/maxerickson">maxerickson</a><br/>
<span class="score" title="12700 reputation points"><span class="">12.7k</span></span><span title="10 badges"><span class="badge1">●</span><span class="badgecount">10</span></span><span title="83 badges"><span class="silver">●</span><span class="badgecount">83</span></span><span title="176 badges"><span class="bronze">●</span><span class="badgecount">176</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="maxerickson has 93 accepted answers">32%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-50163">
<a name="50165"></a>
<div class="comment" id="comment-50165">
<div class="comment-score" id="post-50165-score">2</div>
<div class="comment-text"><p>Wow, you are a lifesaver Max.</p>
<p>After updating my data as you suggested a conflict dialog resulted with only one conflict  listed. It still wouldn't accept my upload after that but, grabbing at straws, I selected &amp; updated a few of the important  individual objects I had worked on and then tried another upload. Finally JOSM accepted it and my work was saved.</p>
<p>Usually I hate seeing the Conflict Dialog box appear but this time it was most welcome. I'm still wondering why JOSM did not generate a Conflict when it encountered this error. Without that one has no way to fix the error.</p>
<p>Thanks a ton for your insight. It saved a ton of work for me.</p>
<p>Dave</p></div>
<div class="comment-info" id="comment-50165-info">
<span class="comment-age">(12 Jun '16, 23:27)</span>
<a class="comment-user userinfo" href="/users/5016/alaskadave">AlaskaDave</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-50163">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-50163-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/50161/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="LGb1sv3BzHgGDGxawwu76IYXYOJCarmi"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>