<meta charset="utf-8"/><link href="../style.css" rel="stylesheet" type="text/css"/><div id="CALeft"><center><a href="../"><img id="ll" src="https://help.openstreetmap.org/upfiles/osm_help_logo_6.png"/></a></center>
<div class="headNormal">
<h1><a href="/questions/73604/map-not-displaying-in-windows-application">Map not displaying in windows application</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/73604/up/" id="post-73604-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-73604-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/73604/down/" id="post-73604-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/73604/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>I am very new at OpenStreetMap and I could really use your help. I have to support a c#.net windows application that used the uri http://{0}.tile.openstreetmap.org/{1}/{2}/{3}.png in order to render a map location. In the last months the tiles do not get created, its just an empty map with the location pin visible.Is there a new licence or a different tile provider uri?Can you please guide me into fixing the issue?</p>
<p>Thank you in advance</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-tiles" href="/tags/tiles/" rel="tag" title="see questions tagged 'tiles'">tiles</a>
<a class="post-tag tag-link-tileserver" href="/tags/tileserver/" rel="tag" title="see questions tagged 'tileserver'">tileserver</a>
<a class="post-tag tag-link-c#.net" href="/tags/c%2523.net/" rel="tag" title="see questions tagged 'c#.net'">c#.net</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>18 Mar '20, 16:11</strong>
</p>
<img alt="eanton's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/86c660e1acc96277f08ef9b17991dd4a?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/18047/eanton">eanton</a><br/>
<span class="score" title="11 reputation points">11</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="bronze">●</span><span class="badgecount">1</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="eanton has no accepted answers">0%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-73604">
</div>
<div class="comment-tools" id="comment-tools-73604">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-73604-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    4 Answers:
                    </div>
<div class="tabsA"><a href="/questions/73604/map-not-displaying-in-windows-application?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/73604/map-not-displaying-in-windows-application?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/73604/map-not-displaying-in-windows-application?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/73604/map-not-displaying-in-windows-application?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="73605"></a>
<div class="answer" id="answer-container-73605">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/73605/up/" id="post-73605-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-73605-score" title="current number of votes">
    2
</div>
<a class="ajax-command post-vote down" href="/vote/73605/down/" id="post-73605-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>There is nothing new, some restrictions that have existed for a long time are now, technically, better enforced. See <a href="https://operations.osmfoundation.org/policies/tiles/">https://operations.osmfoundation.org/policies/tiles/</a></p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/73605/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>18 Mar '20, 16:13</strong>
</p>
<img alt="SimonPoole's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/ad2513d6f8e3d709d576ace900c12fa5?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/2053/simonpoole">SimonPoole ♦</a><br/>
<span class="score" title="44667 reputation points"><span class="">44.7k</span></span><span title="13 badges"><span class="badge1">●</span><span class="badgecount">13</span></span><span title="326 badges"><span class="silver">●</span><span class="badgecount">326</span></span><span title="701 badges"><span class="bronze">●</span><span class="badgecount">701</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="SimonPoole has 209 accepted answers">18%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-73605">
<a name="73606"></a>
<div class="comment" id="comment-73606">
<div class="comment-score" id="post-73606-score"></div>
<div class="comment-text"><p>Thank you for the instant reply.The problem is that the framework for UI Controls that is being used to load the map, is older and I cannot access referer or user agent fields.Is there another way?</p></div>
<div class="comment-info" id="comment-73606-info">
<span class="comment-age">(18 Mar '20, 16:18)</span>
<a class="comment-user userinfo" href="/users/18047/eanton">eanton</a>
</div>
</div>
<a name="73607"></a>
<div class="comment" id="comment-73607">
<div class="comment-score" id="post-73607-score"></div>
<div class="comment-text"><p>You will need to discuss this with the operations working group operations@osmfoundation.org but your best bet is fixing the framework.</p></div>
<div class="comment-info" id="comment-73607-info">
<span class="comment-age">(18 Mar '20, 17:56)</span>
<a class="comment-user userinfo" href="/users/2053/simonpoole">SimonPoole ♦</a>
</div>
</div>
<a name="73611"></a>
<div class="comment" id="comment-73611">
<div class="comment-score" id="post-73611-score"></div>
<div class="comment-text"><p>If you post a standalone snippet of code somewhere that displays the problem I suspect that someone would be able to advise on how to resolve the problem (we're assuming that we know what the problem is).</p></div>
<div class="comment-info" id="comment-73611-info">
<span class="comment-age">(18 Mar '20, 19:27)</span>
<a class="comment-user userinfo" href="/users/387/someoneelse">SomeoneElse ♦</a>
</div>
</div>
<a name="73617"></a>
<div class="comment" id="comment-73617">
<div class="comment-score" id="post-73617-score">1</div>
<div class="comment-text"><p>The UI framework used is Devexpress v13.2.There is just a mapControl that created an image Layer with TileUriTemplate as http://{0}.tile.openstreetmap.org/{1}/{2}/{3}.png</p>
<p>The answer of Devexpress suppport is:
The public OpenStreetMap server changed its configuration (see the OpenStreetMap provider does not display Basic tiles in the MapControl demo application ticket for additional information). Now it requires User Agent and Referrer information.</p>
<p>However, there is no capability to specify the Referrer value in an older version (v13.2) because we introduced the e.Referer property when migrating MapControl providers to REST API in v16.1.</p>
<p>Since the public OSM server has some limitations and limited bandwidth (see the Tile Usage Policy article), a better solution is to use alternative tile servers or host a custom tile server and set the TileUriTemplate property accordingly.</p></div>
<div class="comment-info" id="comment-73617-info">
<span class="comment-age">(19 Mar '20, 07:52)</span>
<a class="comment-user userinfo" href="/users/18047/eanton">eanton</a>
</div>
</div>
<a name="73618"></a>
<div class="comment" id="comment-73618">
<div class="comment-score" id="post-73618-score">1</div>
<div class="comment-text"><p>Have you discussed this with the OWG? If the framework is sending a fake user agent header, you could try binary patching it (extreme measure but perhaps worth a try), it is OK to send an empty referrer for apps, so that shouldn't be an issue in itself.</p></div>
<div class="comment-info" id="comment-73618-info">
<span class="comment-age">(19 Mar '20, 08:43)</span>
<a class="comment-user userinfo" href="/users/2053/simonpoole">SimonPoole ♦</a>
</div>
</div>
<a name="73629"></a>
<div class="comment not_top_scorer" id="comment-73629">
<div class="comment-score" id="post-73629-score"></div>
<div class="comment-text"><p>Default User-Agent of devexpress before 19.4 is not fake, it's just used by all users of any apps using that framework, according to their <a href="https://supportcenter.devexpress.com/ticket/details/t745053/openstreetmap-provider-does-not-display-basic-tiles-in-the-mapcontrol-demo-application">ticket</a>, so it was blocked.</p>
<p>Other solution might be to point your requests through a proxy, which would cache data so that all your users share the same cache, and would set the User-Agent accordingly. I guess this would respect OSM Tile Server ToU.</p>
<p>Otherwise you could go to another, less restrictive or payed-for, tile server.</p>
<p>Of course the best course would to upgrade your framework, but I understand this might be complicated.</p></div>
<div class="comment-info" id="comment-73629-info">
<span class="comment-age">(19 Mar '20, 15:44)</span>
<a class="comment-user userinfo" href="/users/13231/h_mlet">H_mlet</a>
</div>
</div>
<a name="73670"></a>
<div class="comment not_top_scorer" id="comment-73670">
<div class="comment-score" id="post-73670-score"></div>
<div class="comment-text"><p>If you had actually looked at the ticket you are referencing you would have noticed that the library is not actually setting the user agent header at all. Which in turn implies that it will not be possible to binary patch it, which would have been a real way out of the issue.</p></div>
<div class="comment-info" id="comment-73670-info">
<span class="comment-age">(21 Mar '20, 15:08)</span>
<a class="comment-user userinfo" href="/users/2053/simonpoole">SimonPoole ♦</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-73605">
<span class="comments-showing">
            showing 5 of 7
        </span>
<a class="show-all-comments-link" href="#">show 2 more comments</a>
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-73605-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="74130"></a>
<div class="answer answered-by-owner" id="answer-container-74130">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/74130/up/" id="post-74130-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-74130-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/74130/down/" id="post-74130-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>Thank you all for your answers!Seems that I m gonna have to upgrade to new version if I want to keep using Devexpress.I tried it in a trial version in Devexpress 17 and it is working.The other option I tried is Gmap.But I would like to ask if since I only want to load a location on the map just for viewing, what is the cost if I m going to use GoogleMapProvider with GMap?I tried creating a map using GMap and I got to load my location with GoogleMapProvider without having any problems.Do you know the charges in case I use Gmap with GoogleMapProvider?Why dont I get any messages or warnings about using Google Maps??
Thank you once again</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/74130/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>13 Apr '20, 11:13</strong>
</p>
<img alt="eanton's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/86c660e1acc96277f08ef9b17991dd4a?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/18047/eanton">eanton</a><br/>
<span class="score" title="11 reputation points">11</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="bronze">●</span><span class="badgecount">1</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="eanton has no accepted answers">0%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-74130">
</div>
<div class="comment-tools" id="comment-tools-74130">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-74130-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="74131"></a>
<div class="answer answered-by-owner" id="answer-container-74131">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/74131/up/" id="post-74131-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-74131-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/74131/down/" id="post-74131-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>Thank you all for your answers!Seems that I m gonna have to upgrade to new version if I want to keep using Devexpress.I tried it in a trial version in Devexpress 17 and it is working.The other option I tried is Gmap.But I would like to ask if since I only want to load a location on the map just for viewing, what is the cost if I m going to use GoogleMapProvider with GMap?I tried creating a map using GMap and I got to load my location with GoogleMapProvider without having any problems.Do you know the charges in case I use Gmap with GoogleMapProvider?Why dont I get any messages or warnings about using Google Maps that I should pay the usage or something??
Thank you once again</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/74131/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>13 Apr '20, 11:14</strong>
</p>
<img alt="eanton's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/86c660e1acc96277f08ef9b17991dd4a?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/18047/eanton">eanton</a><br/>
<span class="score" title="11 reputation points">11</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="bronze">●</span><span class="badgecount">1</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="eanton has no accepted answers">0%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-74131">
</div>
<div class="comment-tools" id="comment-tools-74131">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-74131-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="73608"></a>
<div class="answer" id="answer-container-73608">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/73608/up/" id="post-73608-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-73608-score" title="current number of votes">
    -1
</div>
<a class="ajax-command post-vote down" href="/vote/73608/down/" id="post-73608-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>I think you need to use HTTPS nowadays.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/73608/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>18 Mar '20, 18:14</strong>
</p>
<img alt="H_mlet's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/9434692e9afccaf03af5acf20b3a3279?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/13231/h_mlet">H_mlet</a><br/>
<span class="score" title="5443 reputation points"><span class="">5.4k</span></span><span title="17 badges"><span class="silver">●</span><span class="badgecount">17</span></span><span title="81 badges"><span class="bronze">●</span><span class="badgecount">81</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="H_mlet has 40 accepted answers">13%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-73608">
<a name="73609"></a>
<div class="comment" id="comment-73609">
<div class="comment-score" id="post-73609-score"></div>
<div class="comment-text"><p>http tile requests are redirected to https, so except if that is an issue with the framework (rather unlikely for c# / .net) that is not the issue.</p></div>
<div class="comment-info" id="comment-73609-info">
<span class="comment-age">(18 Mar '20, 18:26)</span>
<a class="comment-user userinfo" href="/users/2053/simonpoole">SimonPoole ♦</a>
</div>
</div>
<a name="73614"></a>
<div class="comment" id="comment-73614">
<div class="comment-score" id="post-73614-score"></div>
<div class="comment-text"><p>Well, I don't know which framework we're talking about, but it's quite common for older stuff to either not follow redirections, or not support HTTPS, or even reject legit certificates. </p>
<p>Try with curl !</p>
<p>And contrary to your answer, it's a recent change which broke some applications.</p></div>
<div class="comment-info" id="comment-73614-info">
<span class="comment-age">(18 Mar '20, 20:24)</span>
<a class="comment-user userinfo" href="/users/13231/h_mlet">H_mlet</a>
</div>
</div>
<a name="73619"></a>
<div class="comment" id="comment-73619">
<div class="comment-score" id="post-73619-score"></div>
<div class="comment-text"><p>Maybe actually reading my answer would help?</p></div>
<div class="comment-info" id="comment-73619-info">
<span class="comment-age">(19 Mar '20, 08:45)</span>
<a class="comment-user userinfo" href="/users/2053/simonpoole">SimonPoole ♦</a>
</div>
</div>
<a name="73628"></a>
<div class="comment" id="comment-73628">
<div class="comment-score" id="post-73628-score"></div>
<div class="comment-text"><p>Well thanks, I did. The link you provided without explanation implies that a default UA and an empty referer should work, except if that UA was used to abuse the servers. I did not say you are wrong, I try to help with other possible problems.</p>
<p>All I'm saying is that some applications recently broke because of the switch to HTTPS only.</p>
<p>Some old frameworks are bad at ssl, outdated ciphers or certificate chains can block any attempt.</p>
<p>Curl requires a command-line switch to follow redirection (-L).</p>
<p>But to be honest, after some testing, I don't understand how the redirection works. Curl seems to download the tile using http only without trouble, but my browser redirects to https, with no separate request.</p>
<p>This <a href="https://github.com/openstreetmap/chef/commit/981b586040b3fe307a4855e58e846da75555aa05">code</a> suggest that it's a usual http 301 redirection, but I can't find it from my side, maybe it was reverted.</p></div>
<div class="comment-info" id="comment-73628-info">
<span class="comment-age">(19 Mar '20, 15:26)</span>
<a class="comment-user userinfo" href="/users/13231/h_mlet">H_mlet</a>
</div>
</div>
<a name="73663"></a>
<div class="comment" id="comment-73663">
<div class="comment-score" id="post-73663-score"></div>
<div class="comment-text"><p>Some older versions of some devexpress components or plugins do use a <em>way to old</em> version of a library called INDY that is still not able to handle SSL.</p>
<p>So I wouldn't downvote this but rather wait for some devexpress experts here or at the devexpress studio ticketing community that can confirm in which versions or components you'll see these problems.</p>
<p><a href="https://help.openstreetmap.org/users/18047/eanton"></a><a href="https://help.openstreetmap.org/users/18047/eanton">@eanton</a>:</p>
<p>For testing I would recommend to sign up for an api key <a href="https://rapidapi.com/MapTilesApi/api/maptiles">here</a> and than use "https://maptiles.p.rapidapi.com/local/osm/v1/{1}/{2}/{3}.png?rapidapi-key=&lt;your-api-key&gt;" (replace &lt;your-api-key&gt; with the one you get by signing up) as a TileUriTemplate to check if your devexpress version can handle SSL. If that does work you don't have a SSL problem but one with missing headers as stated in the other answer by SimonPoole and should either update your devpexress version or use a different tile provider. </p></div>
<div class="comment-info" id="comment-73663-info">
<span class="comment-age">(21 Mar '20, 11:20)</span>
<a class="comment-user userinfo" href="/users/17439/spiekerooger">Spiekerooger</a>
</div>
</div>
<a name="73668"></a>
<div class="comment not_top_scorer" id="comment-73668">
<div class="comment-score" id="post-73668-score"></div>
<div class="comment-text"><p>We already established that devexpress 13.2 does not support setting the required headers two days ago, see the information from the company itself, and is not going to work.</p></div>
<div class="comment-info" id="comment-73668-info">
<span class="comment-age">(21 Mar '20, 14:56)</span>
<a class="comment-user userinfo" href="/users/2053/simonpoole">SimonPoole ♦</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-73608">
<span class="comments-showing">
            showing 5 of 6
        </span>
<a class="show-all-comments-link" href="#">show 1 more comments</a>
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-73608-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/73604/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="f9ZhZtAtXDSqfp9wI5zw8Rh7UPsd85ZJ"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>