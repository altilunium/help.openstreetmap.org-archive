<meta charset="utf-8"/><link href="../style.css" rel="stylesheet" type="text/css"/><div id="CALeft"><center><a href="../"><img id="ll" src="https://help.openstreetmap.org/upfiles/osm_help_logo_6.png"/></a></center>
<div class="headNormal">
<h1><a href="/questions/14779/nominatim-search">Nominatim search</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/14779/up/" id="post-14779-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-14779-score" title="current number of votes">
    1
</div>
<a class="ajax-command post-vote down" href="/vote/14779/down/" id="post-14779-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/14779/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>I need help in nominatim search. i need to get nearest schools,banks,grocery stores, etc of a particular city. I found the keywords in <a href="http://wiki.openstreetmap.org/wiki/Nominatim/Special_Phrases/EN">http://wiki.openstreetmap.org/wiki/Nominatim/Special_Phrases/EN</a>, but i don't know how it can use , i tried to give like <a href="http://nominatim.openstreetmap.org/search?q=grocery,bangalore&amp;format=xml&amp;polygon=1&amp;addressdetails=1">http://nominatim.openstreetmap.org/search?q=grocery,bangalore&amp;format=xml&amp;polygon=1&amp;addressdetails=1</a> , but for some keywords no results getting. Can any one help me please..?</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-openstreetmap" href="/tags/openstreetmap/" rel="tag" title="see questions tagged 'openstreetmap'">openstreetmap</a>
<a class="post-tag tag-link-map" href="/tags/map/" rel="tag" title="see questions tagged 'map'">map</a>
<a class="post-tag tag-link-javascript" href="/tags/javascript/" rel="tag" title="see questions tagged 'javascript'">javascript</a>
<a class="post-tag tag-link-nominatim" href="/tags/nominatim/" rel="tag" title="see questions tagged 'nominatim'">nominatim</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>02 Aug '12, 07:53</strong>
</p>
<img alt="pramod_ck's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/954504ad2324b1cbc000a0ddc2c2ba1e?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/4172/pramod_ck">pramod_ck</a><br/>
<span class="score" title="41 reputation points">41</span><span title="3 badges"><span class="badge1">●</span><span class="badgecount">3</span></span><span title="3 badges"><span class="silver">●</span><span class="badgecount">3</span></span><span title="7 badges"><span class="bronze">●</span><span class="badgecount">7</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="pramod_ck has no accepted answers">0%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/14779/">
                edited
                <strong>02 Aug '12, 09:11</strong>
</a>
</p>
<img alt="SomeoneElse's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/0bf1aa22f7f5e045b0eb8beb79fe7907?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/387/someoneelse">SomeoneElse ♦</a><br/>
<span class="score" title="36866 reputation points"><span class="">36.9k</span></span><span title="71 badges"><span class="badge1">●</span><span class="badgecount">71</span></span><span title="370 badges"><span class="silver">●</span><span class="badgecount">370</span></span><span title="866 badges"><span class="bronze">●</span><span class="badgecount">866</span></span></p>
</div>
</div>
<div class="comments-container" id="comments-container-14779">
<a name="14783"></a>
<div class="comment" id="comment-14783">
<div class="comment-score" id="post-14783-score">2</div>
<div class="comment-text"><p>I've fixed the first link; the second worked for me.  If you miss out the "format=xml" part of the query string you get the more usual nominatim search results.</p></div>
<div class="comment-info" id="comment-14783-info">
<span class="comment-age">(02 Aug '12, 09:15)</span>
<a class="comment-user userinfo" href="/users/387/someoneelse">SomeoneElse ♦</a>
</div>
</div>
<a name="14784"></a>
<div class="comment" id="comment-14784">
<div class="comment-score" id="post-14784-score"></div>
<div class="comment-text"><p>Which grocery shops would you expect to find that Nominatim didn't?  Do you have node or way IDs for any examples?</p>
<p>A search for fuel stations works:</p>
<p><a href="http://nominatim.openstreetmap.org/search.php?q=fuel%2Cbangalore&amp;viewbox=-161.72%2C79.92%2C161.72%2C-69.59&amp;polygon=1">http://nominatim.openstreetmap.org/search.php?q=fuel%2Cbangalore&amp;viewbox=-161.72%2C79.92%2C161.72%2C-69.59&amp;polygon=1</a></p>
<p>or in XML format</p>
<p><a href="http://nominatim.openstreetmap.org/search.php?format=xml&amp;q=fuel%2Cbangalore&amp;viewbox=-161.72%2C79.92%2C161.72%2C-69.59&amp;polygon=1">http://nominatim.openstreetmap.org/search.php?format=xml&amp;q=fuel%2Cbangalore&amp;viewbox=-161.72%2C79.92%2C161.72%2C-69.59&amp;polygon=1</a></p></div>
<div class="comment-info" id="comment-14784-info">
<span class="comment-age">(02 Aug '12, 09:19)</span>
<a class="comment-user userinfo" href="/users/387/someoneelse">SomeoneElse ♦</a>
</div>
</div>
<a name="14786"></a>
<div class="comment" id="comment-14786">
<div class="comment-score" id="post-14786-score">1</div>
<div class="comment-text"><p>I have this &lt;searchresults timestamp="Thu, 02 Aug 12 09:40:35 +0100" attribution="Data Copyright OpenStreetMap Contributors, Some Rights Reserved. CC-BY-SA 2.0." querystring="grocery,bangalore" polygon="true" more_url="http://nominatim.openstreetmap.org/search?format=xml&amp;amp;exclude_place_ids=&amp;amp;accept-language=en-GB,en-US;q=0.8,en;q=0.6&amp;amp;polygon=1&amp;amp;addressdetails=1&amp;amp;q=grocery%2Cbangalore"&gt;&lt;/searchresults&gt;</p></div>
<div class="comment-info" id="comment-14786-info">
<span class="comment-age">(02 Aug '12, 09:42)</span>
<a class="comment-user userinfo" href="/users/644/andy-mackey">andy mackey</a>
</div>
</div>
<a name="14787"></a>
<div class="comment" id="comment-14787">
<div class="comment-score" id="post-14787-score"></div>
<div class="comment-text"><p>so what next</p></div>
<div class="comment-info" id="comment-14787-info">
<span class="comment-age">(02 Aug '12, 09:42)</span>
<a class="comment-user userinfo" href="/users/644/andy-mackey">andy mackey</a>
</div>
</div>
<a name="14789"></a>
<div class="comment" id="comment-14789">
<div class="comment-score" id="post-14789-score">1</div>
<div class="comment-text"><p><a href="/users/644/andy-mackey"></a><a href="/users/644/andy-mackey">@andy mackey</a> for me also getting same results. <a href="/users/387/someoneelse"></a><a href="/users/387/someoneelse">@SomeoneElse</a> thanks it works, but in my site i need to show all grocery stores in bangalore. I searched how to use the keywords in nominatim, i found one example like <a href="http://nominatim.openstreetmap.org/search?q=bangalore[hospitals]&amp;format=xml&amp;polygon=0&amp;addressdetails=1">http://nominatim.openstreetmap.org/search?q=bangalore[hospitals]&amp;format=xml&amp;polygon=0&amp;addressdetails=1</a>
that also not working for all keywords.</p></div>
<div class="comment-info" id="comment-14789-info">
<span class="comment-age">(02 Aug '12, 09:53)</span>
<a class="comment-user userinfo" href="/users/4172/pramod_ck">pramod_ck</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-14779">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-14779-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    One Answer:
                    </div>
<div class="tabsA"><a href="/questions/14779/nominatim-search?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/14779/nominatim-search?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/14779/nominatim-search?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/14779/nominatim-search?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="14797"></a>
<div class="answer" id="answer-container-14797">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/14797/up/" id="post-14797-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-14797-score" title="current number of votes">
    2
</div>
<a class="ajax-command post-vote down" href="/vote/14797/down/" id="post-14797-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>For the avoidance of doubt - grocery shops will only appear on the map and in the data in Bangalore if:</p>
<ol>
<li>Someone's actually added any to the map there.</li>
<li>They've tagged them as "shop=grocery"</li>
<li>They've subsequently agreed to the licence change so that the data is still there.</li>
</ol>
<p>If I go to "<a href="http://nominatim.openstreetmap.org">nominatim.openstreetmap.org</a>" and search for "shop near bangalore" I see two results - "<a href="http://nominatim.openstreetmap.org/details.php?place_id=7542324">Govt fair price shop</a>" and "<a href="http://nominatim.openstreetmap.org/details.php?place_id=7540868">Govt Kerosene retail shop</a>".  They were both tagged as "shop=convenience".  Unfortunately, the mapper of both of these <a href="http://www.openstreetmap.org/browse/node/704396287/history">didn't agree</a> to the <a href="http://www.osmfoundation.org/wiki/License/About_The_License_Change">licence change</a> and so, although they're still found by Nominatim until its data updates, they're no longer on the map.</p>
<p>A quick search for "<a href="http://nominatim.openstreetmap.org/search.php?q=supermarket+near+bangalore&amp;viewbox=77.63%2C13.01%2C77.68%2C12.97">supermarket near bangalore</a>" finds lots of hits, though, such as <a href="http://nominatim.openstreetmap.org/details.php?place_id=2487827295">this</a> <a href="http://www.openstreetmap.org/browse/way/169826257">one</a>, tagged as "shop=supermarket".  If you're looking for grocery stores you'll need to think about how people might have tagged them, and perhaps use the <a href="http://wiki.openstreetmap.org/wiki/Xapi">XAPI</a> or <a href="http://wiki.openstreetmap.org/wiki/Overpass_API">Overpass</a> to search for e.g. "shop=*" within the area that you're interested in.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/14797/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>02 Aug '12, 12:53</strong>
</p>
<img alt="SomeoneElse's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/0bf1aa22f7f5e045b0eb8beb79fe7907?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/387/someoneelse">SomeoneElse ♦</a><br/>
<span class="score" title="36866 reputation points"><span class="">36.9k</span></span><span title="71 badges"><span class="badge1">●</span><span class="badgecount">71</span></span><span title="370 badges"><span class="silver">●</span><span class="badgecount">370</span></span><span title="866 badges"><span class="bronze">●</span><span class="badgecount">866</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="SomeoneElse has 228 accepted answers">16%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-14797">
<a name="15058"></a>
<div class="comment" id="comment-15058">
<div class="comment-score" id="post-15058-score">1</div>
<div class="comment-text"><p>You can see all the shop=<em> in Bangalore through XAPI on this page:
<a href="http://osm.dumoulin63.net/xapiviewer/?zoom=15&amp;lat=12.9725&amp;lon=77.58443&amp;layers=B0T&amp;icon=icons%2Fshopping_convenience.n.32.png&amp;request=shop%3D">http://osm.dumoulin63.net/xapiviewer/?zoom=15&amp;lat=12.9725&amp;lon=77.58443&amp;layers=B0T&amp;icon=icons%2Fshopping_convenience.n.32.png&amp;request=shop%3D</a></em></p></div>
<div class="comment-info" id="comment-15058-info">
<span class="comment-age">(14 Aug '12, 10:09)</span>
<a class="comment-user userinfo" href="/users/868/nicolasdumoulin">NicolasDumoulin</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-14797">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-14797-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/14779/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="b41xQtPzNcwrtZF5FkQ4sRLVa6mX0rJP"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>