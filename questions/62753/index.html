<meta charset="utf-8"/><link href="../style.css" rel="stylesheet" type="text/css"/><div id="CALeft"><center><a href="../"><img id="ll" src="https://help.openstreetmap.org/upfiles/osm_help_logo_6.png"/></a></center>
<div class="headNormal">
<h1><a href="/questions/62753/extract-only-geometry">Extract only geometry</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/62753/up/" id="post-62753-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-62753-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/62753/down/" id="post-62753-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/62753/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>Hi</p>
<p>Is it possible to extract only the geometry from an osm file (osm.pbf, osm or o5m) ? Practically this will mean dropping all the tags from an OSM file I presume.</p>
<p>If not what are the possible ways to achieve this result ?</p>
<p>Thanks in advance</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-geometry" href="/tags/geometry/" rel="tag" title="see questions tagged 'geometry'">geometry</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>21 Mar '18, 10:56</strong>
</p>
<img alt="psychiclocust's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/8b40ca1bc301f4e2ae4b14986ceef001?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/14892/psychiclocust">psychiclocust</a><br/>
<span class="score" title="11 reputation points">11</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">●</span><span class="badgecount">1</span></span><span title="2 badges"><span class="bronze">●</span><span class="badgecount">2</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="psychiclocust has no accepted answers">0%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-62753">
</div>
<div class="comment-tools" id="comment-tools-62753">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-62753-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    3 Answers:
                    </div>
<div class="tabsA"><a href="/questions/62753/extract-only-geometry?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/62753/extract-only-geometry?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/62753/extract-only-geometry?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/62753/extract-only-geometry?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="62754"></a>
<div class="answer" id="answer-container-62754">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/62754/up/" id="post-62754-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-62754-score" title="current number of votes">
    1
</div>
<a class="ajax-command post-vote down" href="/vote/62754/down/" id="post-62754-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>Did you have a look at osmfilter?
<a href="https://wiki.openstreetmap.org/wiki/Osmfilter">https://wiki.openstreetmap.org/wiki/Osmfilter</a></p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/62754/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>21 Mar '18, 11:26</strong>
</p>
<img alt="Katzmann's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/57403cb36700e0fe392fe8c2ca913ff9?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/14893/katzmann">Katzmann</a><br/>
<span class="score" title="71 reputation points">71</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">●</span><span class="badgecount">1</span></span><span title="5 badges"><span class="bronze">●</span><span class="badgecount">5</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Katzmann has no accepted answers">0%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-62754">
<a name="62758"></a>
<div class="comment" id="comment-62758">
<div class="comment-score" id="post-62758-score"></div>
<div class="comment-text"><p>Yes I did. Been able to extract only the roads from an OSM file but not sure how to get only the geometry information without all the tags.</p></div>
<div class="comment-info" id="comment-62758-info">
<span class="comment-age">(21 Mar '18, 11:53)</span>
<a class="comment-user userinfo" href="/users/14892/psychiclocust">psychiclocust</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-62754">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-62754-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="62824"></a>
<div class="answer" id="answer-container-62824">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/62824/up/" id="post-62824-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-62824-score" title="current number of votes">
    1
</div>
<a class="ajax-command post-vote down" href="/vote/62824/down/" id="post-62824-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>Your question can't be answered the way you posed it. What format should the result have? It can't be an OSM file, because without tags you can't interpret the "geometry" content of an OSM file as actual geometries. Tell us what you are trying to achieve with those geometries and you might get more useful answers.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/62824/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>26 Mar '18, 07:47</strong>
</p>
<img alt="Jochen%20Topf's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/2d4dfcdcde73aa5e2ffa4a9b3a7cb51d?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/112/jochen-topf">Jochen Topf</a><br/>
<span class="score" title="5244 reputation points"><span class="">5.2k</span></span><span title="5 badges"><span class="badge1">●</span><span class="badgecount">5</span></span><span title="50 badges"><span class="silver">●</span><span class="badgecount">50</span></span><span title="74 badges"><span class="bronze">●</span><span class="badgecount">74</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Jochen Topf has 32 accepted answers">31%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-62824">
</div>
<div class="comment-tools" id="comment-tools-62824">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-62824-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="63417"></a>
<div class="answer" id="answer-container-63417">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/63417/up/" id="post-63417-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-63417-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/63417/down/" id="post-63417-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>I don't know if it works but it would do :</p>
<ul>
<li>don't filter the tags because they are needed to build the correct geometry</li>
<li>osm2psql has an option style, ie openstreetmap-carto.style and hstore is also an option. Edit this file and remove all the the columns. </li>
</ul>
<p>A priori, this is only the output table specification. The comment at the top of the file has nore sense in a carto-mapnik process.</p>
<p>Let's hope now that osm2pgsql will accept an empty style and that there is not the assumption that there is at least one col. Or else, try with only one column, ie</p>
<pre><code># OsmType  Tag          DataType     Flags
node,way   layer        int4         linear
</code></pre>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/63417/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>11 May '18, 03:31</strong>
</p>
<img alt="AntaC's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/1c90056dece0313061d8ce6edd94da8a?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/15107/antac">AntaC</a><br/>
<span class="score" title="13 reputation points">13</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">●</span><span class="badgecount">1</span></span><span title="5 badges"><span class="bronze">●</span><span class="badgecount">5</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="AntaC has no accepted answers">0%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-63417">
</div>
<div class="comment-tools" id="comment-tools-63417">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-63417-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/62753/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="MsMrq7tDp2Y74iF3DX7MxiJqcz2dGW2k"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>