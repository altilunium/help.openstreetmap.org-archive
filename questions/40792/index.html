<meta charset="utf-8"/><link href="../style.css" rel="stylesheet" type="text/css"/><div id="CALeft"><center><a href="../"><img id="ll" src="https://help.openstreetmap.org/upfiles/osm_help_logo_6.png"/></a></center>
<div class="headNormal">
<h1><a href="/questions/40792/editing-large-multipolygons-in-josm">Editing large multipolygons in JOSM</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/40792/up/" id="post-40792-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-40792-score" title="current number of votes">
    3
</div>
<a class="ajax-command post-vote down" href="/vote/40792/down/" id="post-40792-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/40792/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
   1
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>I'm working away at splitting large multipolygons in northern Thailand into smaller pieces so editing them becomes easier. I've made quite a bit of progress since my last questions in this area. (<a href="https://help.openstreetmap.org/questions/40118/editing-large-structures-in-josm-splitting-relations">here</a> and <a href="https://help.openstreetmap.org/questions/40203/josm-how-do-i-select-a-way-for-editing-that-is-part-of-multiple-relations">here</a>).   I must admit I have not yet tackled the multiple boundary relation problem in the second link. I understand what needs to be done but it's still too complicated. I am gaining experience though and will attempt it soon.</p>
<p>Now, I'm looking for a way to select and operate on one multipolygon and all of its inner polygons. There is this particular large multipolygon that I have managed to (almost) isolate from its even larger parent and I'm ready to have it stand on its own. Except that it and all its inner members are still members of that larger parent. In order to remove it from that relation and put it into its own new relation means selecting every outer member, and every inner member, removing them from the parent, step by step, and then creating a new multipolygon using all of the many outer members  then subsequently adding all the inner members back into it.  It seems to me that if  I could isolate the whole thing in some way, maybe on its own layer,  I could then do that more efficiently.</p>
<p>Hopefully I've explained my goal well enough to get some advice.</p>
<p>Thanks in advance....</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-josm" href="/tags/josm/" rel="tag" title="see questions tagged 'josm'">josm</a>
<a class="post-tag tag-link-edits" href="/tags/edits/" rel="tag" title="see questions tagged 'edits'">edits</a>
<a class="post-tag tag-link-multipolygon" href="/tags/multipolygon/" rel="tag" title="see questions tagged 'multipolygon'">multipolygon</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>05 Feb '15, 01:48</strong>
</p>
<img alt="AlaskaDave's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/04dddf6f5ffde333747d385af3ce5829?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/5016/alaskadave">AlaskaDave</a><br/>
<span class="score" title="5415 reputation points"><span class="">5.4k</span></span><span title="76 badges"><span class="badge1">●</span><span class="badgecount">76</span></span><span title="107 badges"><span class="silver">●</span><span class="badgecount">107</span></span><span title="164 badges"><span class="bronze">●</span><span class="badgecount">164</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="AlaskaDave has 17 accepted answers">16%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-40792">
<a name="40802"></a>
<div class="comment" id="comment-40802">
<div class="comment-score" id="post-40802-score"></div>
<div class="comment-text"><p>Are you speaking about this relation : <a href="http://www.openstreetmap.org/relation/1599039#map=9/18.3363/97.9390">http://www.openstreetmap.org/relation/1599039#map=9/18.3363/97.9390</a> ?</p></div>
<div class="comment-info" id="comment-40802-info">
<span class="comment-age">(05 Feb '15, 13:15)</span>
<a class="comment-user userinfo" href="/users/87/pieren">Pieren</a>
</div>
</div>
<a name="40803"></a>
<div class="comment" id="comment-40803">
<div class="comment-score" id="post-40803-score"></div>
<div class="comment-text"><p>If it is this relation, then it's easier to remove the left side outer from the existing relation and create a new multipolygon for it (easier because it has only outer ways). To make the editing job easier, you could also add temporarily on your local JOSM a dummy tag on the related ways like "bla=bla" then you can select them later with the "search" tool in JOSM (but don't forget to remove them before you upload your finished work)</p></div>
<div class="comment-info" id="comment-40803-info">
<span class="comment-age">(05 Feb '15, 13:18)</span>
<a class="comment-user userinfo" href="/users/87/pieren">Pieren</a>
</div>
</div>
<a name="40813"></a>
<div class="comment" id="comment-40813">
<div class="comment-score" id="post-40813-score"></div>
<div class="comment-text"><p>It's actually this one, which is a lot easier to edit because the northern part is already separate, or almost separate, after many preparatory edits: </p>
<p><a href="https://www.openstreetmap.org/relation/1339894#map=10/18.9992/99.4270">https://www.openstreetmap.org/relation/1339894#map=10/18.9992/99.4270</a></p>
<p>You can see where my editing stopped with the one you refer to because of the multiple uses of its western edge. True, it doesn't contain any inner areas but the western edge is shared by several boundaries.</p>
<p>In my present case, I want to split off the northern part of the large 254 member multipolygon in the link I supplied just now, the portion north of route 120.</p></div>
<div class="comment-info" id="comment-40813-info">
<span class="comment-age">(06 Feb '15, 00:14)</span>
<a class="comment-user userinfo" href="/users/5016/alaskadave">AlaskaDave</a>
</div>
</div>
<a name="40949"></a>
<div class="comment" id="comment-40949">
<div class="comment-score" id="post-40949-score"></div>
<div class="comment-text"><p>if you want to add a tag to an object, but you want to be certain that this tag won't get uploaded to the server, use something like odbl= ore created_by=. There are a few more.</p>
<p>Those tags are not needed anymore and JOSM will discard them before uploading modified objects.</p>
<p>There is also the todo list, which may be an even better idea to use, as it doesn't 'modify' the objects. An object where you add, then subsequently remove a tag, without doing anything else, will still get a new version in its history.</p>
<p>Polyglot</p></div>
<div class="comment-info" id="comment-40949-info">
<span class="comment-age">(11 Feb '15, 06:26)</span>
<a class="comment-user userinfo" href="/users/6242/polyglot">Polyglot</a>
</div>
</div>
<a name="40970"></a>
<div class="comment" id="comment-40970">
<div class="comment-score" id="post-40970-score"></div>
<div class="comment-text"><p><a href="http://help.openstreetmap.org/users/6242/polyglot">@Polyglot</a>:
 I think you're suggesting a way to "mark for editing" pieces of the multipolygon I wish to split from the parent.  If I"download object" and all its members, I could add a tag created_by=AlaskaDave to all those members, then select them by searching for that tag, delete them from original relation and then select again and add to a new relation. Is that what you're saying?</p></div>
<div class="comment-info" id="comment-40970-info">
<span class="comment-age">(12 Feb '15, 04:39)</span>
<a class="comment-user userinfo" href="/users/5016/alaskadave">AlaskaDave</a>
</div>
</div>
<a name="40971"></a>
<div class="comment not_top_scorer" id="comment-40971">
<div class="comment-score" id="post-40971-score"></div>
<div class="comment-text"><p>In fact it was Pieren who suggested to add temporary tags to the objects needing your attention. I merely suggested a way to make sure those temporary tags won't be able to make it into the data that gets uploaded.
I'm using this trick a lot when preparing data for import/integration.</p>
<p>However, if you find those objects by means of a search, it's better to use JOSM's todo plugin.</p>
<p>Jo</p></div>
<div class="comment-info" id="comment-40971-info">
<span class="comment-age">(12 Feb '15, 06:37)</span>
<a class="comment-user userinfo" href="/users/6242/polyglot">Polyglot</a>
</div>
</div>
<a name="40972"></a>
<div class="comment not_top_scorer" id="comment-40972">
<div class="comment-score" id="post-40972-score"></div>
<div class="comment-text"><p>Quite right. Thanks to both of you for the helpful suggestions.</p>
<p>I use the ToDo plugin fairly often for working on parts of a selection set. Good trick.</p></div>
<div class="comment-info" id="comment-40972-info">
<span class="comment-age">(12 Feb '15, 09:00)</span>
<a class="comment-user userinfo" href="/users/5016/alaskadave">AlaskaDave</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-40792">
<span class="comments-showing">
            showing 5 of 7
        </span>
<a class="show-all-comments-link" href="#">show 2 more comments</a>
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-40792-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    2 Answers:
                    </div>
<div class="tabsA"><a href="/questions/40792/editing-large-multipolygons-in-josm?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/40792/editing-large-multipolygons-in-josm?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/40792/editing-large-multipolygons-in-josm?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/40792/editing-large-multipolygons-in-josm?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="40959"></a>
<div class="answer accepted-answer" id="answer-container-40959">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/40959/up/" id="post-40959-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-40959-score" title="current number of votes">
    4
</div>
<a class="ajax-command post-vote down" href="/vote/40959/down/" id="post-40959-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="accept-answer on" href="/accept_answer/40959/" rel="nofollow" title="AlaskaDave has selected this answer as the correct answer">
</a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>As long as we do not want to touch the members at all we can work with incomplete data and only download the relation and its members with <a href="https://josm.openstreetmap.de/wiki/Help/Action/DownloadObject">Download object</a>.
The rest can be done within the <a href="https://josm.openstreetmap.de/wiki/Help/Dialog/RelationEditor">relation editor</a> with the last two buttons in the middle panel</p>
<ol>
<li>Download object (relation) with check for downloading members set</li>
<li>Open relation editor, select all members on the left side and sort them (5th button on the left)</li>
<li>Copy/duplicate relation (second button on the top)</li>
<li>Select members to move on the left and move selection to the right side (6th button), then delete selection (7th button)</li>
<li>Select all remaining members on the left and move selection to the right (6th button)</li>
<li>Change to relation editor of copy and delete all selected members (7th button)</li>
<li>Maybe adjust tags of relation - Done</li>
</ol>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/40959/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>11 Feb '15, 13:52</strong>
</p>
<img alt="skyper's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/764da2975f565c20e7b6770bc3f30276?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/10460/skyper">skyper</a><br/>
<span class="score" title="111 reputation points">111</span><span title="4 badges"><span class="silver">●</span><span class="badgecount">4</span></span><span title="5 badges"><span class="bronze">●</span><span class="badgecount">5</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="skyper has one accepted answer">33%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/40959/">
                edited
                <strong>12 Feb '15, 12:06</strong>
</a>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-40959">
<a name="40968"></a>
<div class="comment" id="comment-40968">
<div class="comment-score" id="post-40968-score">4</div>
<div class="comment-text"><p>This is what I was looking for. Thank you very much.</p>
<p>I will experiment with some smaller relations before attacking the one I'm interested in.</p></div>
<div class="comment-info" id="comment-40968-info">
<span class="comment-age">(12 Feb '15, 00:23)</span>
<a class="comment-user userinfo" href="/users/5016/alaskadave">AlaskaDave</a>
</div>
</div>
<a name="40973"></a>
<div class="comment" id="comment-40973">
<div class="comment-score" id="post-40973-score"></div>
<div class="comment-text"><p>Forgot to mention sorting of members in advance to make it easier. Gonna adjust answer.</p></div>
<div class="comment-info" id="comment-40973-info">
<span class="comment-age">(12 Feb '15, 12:00)</span>
<a class="comment-user userinfo" href="/users/10460/skyper">skyper</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-40959">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-40959-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="40947"></a>
<div class="answer" id="answer-container-40947">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/40947/up/" id="post-40947-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-40947-score" title="current number of votes">
    3
</div>
<a class="ajax-command post-vote down" href="/vote/40947/down/" id="post-40947-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>I have created an enhancement request in JOSM bugtracker. Might be good to receive an warning from validator to prevent multipolygons growing that large at all.</p>
<p><a href="https://josm.openstreetmap.de/ticket/11101">https://josm.openstreetmap.de/ticket/11101</a></p>
<p>For your polygon: Try adding additional ways to OSM whre you intend to split the polygon, maybe following roads. These will be new and can be added without conflict. The critical time frame to split alt reconnect the polygon will be minimized, reducing the chance of conflicts.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/40947/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>11 Feb '15, 04:27</strong>
</p>
<img alt="Stephan%20Knauss's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/09b2b8d17e144e0bf320379096429046?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/85/stephan-knauss">Stephan Knauss</a><br/>
<span class="score" title="450 reputation points">450</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="3 badges"><span class="silver">●</span><span class="badgecount">3</span></span><span title="11 badges"><span class="bronze">●</span><span class="badgecount">11</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Stephan Knauss has no accepted answers">0%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/40947/">
                edited
                <strong>11 Feb '15, 04:30</strong>
</a>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-40947">
<a name="40969"></a>
<div class="comment" id="comment-40969">
<div class="comment-score" id="post-40969-score"></div>
<div class="comment-text"><p>I always add ways to isolate before splitting. The multipolygon I'm presently working with is already isolated that way but I was looking for a method to minimize the time involved in selecting, removing the parts of that multipolygon  from its parent and then collecting all those same pieces and with them creating a new,  separate multipolygon.</p>
<p>Skyper has given me that method. Thanks for your answer and bugtracker submission.</p></div>
<div class="comment-info" id="comment-40969-info">
<span class="comment-age">(12 Feb '15, 04:34)</span>
<a class="comment-user userinfo" href="/users/5016/alaskadave">AlaskaDave</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-40947">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-40947-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/40792/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="b18M5rhvOP82smPKQVyItmz2N972CYHb"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>