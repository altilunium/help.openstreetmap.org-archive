<meta charset="utf-8"/><link href="../style.css" rel="stylesheet" type="text/css"/><div id="CALeft"><center><a href="../"><img id="ll" src="https://help.openstreetmap.org/upfiles/osm_help_logo_6.png"/></a></center>
<div class="headNormal">
<h1><a href="/questions/43615/how-to-load-columns-via-hstore-command-in-my-database-which-are-not-included-in-the-osm-carto-style">How to load Columns via hstore command in my database which are not included in the OSM Carto Style</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/43615/up/" id="post-43615-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-43615-score" title="current number of votes">
    1
</div>
<a class="ajax-command post-vote down" href="/vote/43615/down/" id="post-43615-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/43615/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>Hello,</p>
<p>right now I am trying to make a touristic map for Abakan (the capital of the
Republik of the Russian Republik Khakassia). So far I used the
instruction  on  <a href="https://switch2osm.org/?s=loading+osm+data&amp;lang=en">switch2osm</a> to load OSM Data from Geofabrik into QGIS. I used the Carto stlye sheet. Now I would like to lable streets and touristic Objects with the German or English names, but the columns for these tags are missing. I guess, I somehow could get the columns tobe created using the hstore extension, but I dont kno how to do this. Is it clear what I am asking for?
Thanks alot</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-qgis" href="/tags/qgis/" rel="tag" title="see questions tagged 'qgis'">qgis</a>
<a class="post-tag tag-link-rendering" href="/tags/rendering/" rel="tag" title="see questions tagged 'rendering'">rendering</a>
<a class="post-tag tag-link-osm2sql" href="/tags/osm2sql/" rel="tag" title="see questions tagged 'osm2sql'">osm2sql</a>
<a class="post-tag tag-link-hstore" href="/tags/hstore/" rel="tag" title="see questions tagged 'hstore'">hstore</a>
<a class="post-tag tag-link-postgis" href="/tags/postgis/" rel="tag" title="see questions tagged 'postgis'">postgis</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>18 Jun '15, 13:45</strong>
</p>
<img alt="oohay's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/e57fcc103053e5d009ad1cc0031d8d73?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/11122/oohay">oohay</a><br/>
<span class="score" title="26 reputation points">26</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">●</span><span class="badgecount">1</span></span><span title="3 badges"><span class="bronze">●</span><span class="badgecount">3</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="oohay has no accepted answers">0%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/43615/">
                edited
                <strong>19 Jun '15, 15:07</strong>
</a>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-43615">
</div>
<div class="comment-tools" id="comment-tools-43615">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-43615-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    4 Answers:
                    </div>
<div class="tabsA"><a href="/questions/43615/how-to-load-columns-via-hstore-command-in-my-database-which-are-not-included-in-the-osm-carto-style?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/43615/how-to-load-columns-via-hstore-command-in-my-database-which-are-not-included-in-the-osm-carto-style?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/43615/how-to-load-columns-via-hstore-command-in-my-database-which-are-not-included-in-the-osm-carto-style?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/43615/how-to-load-columns-via-hstore-command-in-my-database-which-are-not-included-in-the-osm-carto-style?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="43619"></a>
<div class="answer" id="answer-container-43619">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/43619/up/" id="post-43619-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-43619-score" title="current number of votes">
    1
</div>
<a class="ajax-command post-vote down" href="/vote/43619/down/" id="post-43619-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>Please do not ask two questions in one (particularly when they are technically not related), can you open a seperate question for your 2nd part?</p>
<p>Wrt hstore I'm assuming that you are actually loading them in to Postgres/Postgis not qgis, and likely doing that with osm2pgsql? If that is the case you can follow <a href="http://wiki.openstreetmap.org/wiki/Osm2pgsql#hstore">http://wiki.openstreetmap.org/wiki/Osm2pgsql#hstore</a> and reimport.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/43619/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>18 Jun '15, 15:28</strong>
</p>
<img alt="SimonPoole's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/ad2513d6f8e3d709d576ace900c12fa5?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/2053/simonpoole">SimonPoole ♦</a><br/>
<span class="score" title="44667 reputation points"><span class="">44.7k</span></span><span title="13 badges"><span class="badge1">●</span><span class="badgecount">13</span></span><span title="326 badges"><span class="silver">●</span><span class="badgecount">326</span></span><span title="701 badges"><span class="bronze">●</span><span class="badgecount">701</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="SimonPoole has 209 accepted answers">18%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-43619">
</div>
<div class="comment-tools" id="comment-tools-43619">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-43619-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="43636"></a>
<div class="answer" id="answer-container-43636">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/43636/up/" id="post-43636-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-43636-score" title="current number of votes">
    1
</div>
<a class="ajax-command post-vote down" href="/vote/43636/down/" id="post-43636-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>To import with hstore, you'll need to reimport. First run <code>CREATE EXTENSION hstore;</code> in the postgres database you want to use, then pass the <code>--hstore</code> option to osm2pgsql. <a href="http://wiki.openstreetmap.org/wiki/Osm2pgsql#hstore">Read more</a>.</p>
<p>I'm afraid I don't know how to style QGis in the way you want, perhaps someone else can help. (Though like <a href="http://help.openstreetmap.org/users/2053/simonpoole">@SimonPoole</a>, I advise you to open another question)</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/43636/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>19 Jun '15, 08:41</strong>
</p>
<img alt="rorym's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/16e12e337f6edc3750681492656097ed?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/30/rorym">rorym</a><br/>
<span class="score" title="5358 reputation points"><span class="">5.4k</span></span><span title="14 badges"><span class="badge1">●</span><span class="badgecount">14</span></span><span title="49 badges"><span class="silver">●</span><span class="badgecount">49</span></span><span title="100 badges"><span class="bronze">●</span><span class="badgecount">100</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="rorym has 18 accepted answers">11%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-43636">
<a name="43645"></a>
<div class="comment" id="comment-43645">
<div class="comment-score" id="post-43645-score"></div>
<div class="comment-text"><p>Thanks for your answers! Simon Poole is right. I am working with Postgis. And I already activated the --hstore Extension:</p>
<p><code>sudo -u postgres createuser -s $USER
createdb gis
psql -d gis -c 'CREATE EXTENSION hstore; CREATE EXTENSION postgis;</code></p>
<p>Than I loaded the Database in osm2pgsql by typing:</p>
<p><code>osm2pgsql --create --slim \
    --cache 1000 --number-processes 2 --hstore \
    --style ~/osm/openstreetmap-carto/openstreetmap-carto.style --multi-geometry \
    ~/osm/meineosmdatei.osm.pbf</code></p>
<p>I guess, I have to change something in this last command to get the english an german Names. On the [switch2osm] (<a href="https://switch2osm.org/?s=loading+osm+data)">https://switch2osm.org/?s=loading+osm+data)</a> page is written that: </p>
<blockquote>
<p>--hstore causes tags not in the .style file to be stored in a special “hstore” column. Hstore is a key-value store that supports arbitrary keys and values. Having other tags in hstore allows changes later on, like rendering names in a specific language and overall makes the database more flexible, giving you greater freedom to render interesting data on maps you create. </p>
</blockquote>
<p>But there is no special hstroe column in QGIS visble....</p></div>
<div class="comment-info" id="comment-43645-info">
<span class="comment-age">(19 Jun '15, 15:23)</span>
<a class="comment-user userinfo" href="/users/11122/oohay">oohay</a>
</div>
</div>
<a name="43663"></a>
<div class="comment" id="comment-43663">
<div class="comment-score" id="post-43663-score"></div>
<div class="comment-text"><p>According to this older issue tracker link (<a href="https://hub.qgis.org/issues/3989),">https://hub.qgis.org/issues/3989),</a> the latest versions of QGIS should display hstore columns as text (columns?). I guess it may be doing some "on-the-fly" conversion of the data to get in a more "GIS friendly" plain text column format, but since I don't have PostGIS installed, I can't tell you for sure.</p></div>
<div class="comment-info" id="comment-43663-info">
<span class="comment-age">(20 Jun '15, 13:51)</span>
<a class="comment-user userinfo" href="/users/9580/mboeringa">mboeringa</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-43636">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-43636-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="43669"></a>
<div class="answer answered-by-owner" id="answer-container-43669">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/43669/up/" id="post-43669-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-43669-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/43669/down/" id="post-43669-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>Thanks a lot I rechecked my data in QGIS and found out that the English and German Names of the touristic objects are stored within the last column, which is called "tags". So my question kind of changed: How can I get two single columns with the English and German Names out of the tag column in which seem to be stored all additional tags not used by the Cartho style? Should I open a new question for that and declare my question as solved?</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/43669/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>20 Jun '15, 22:02</strong>
</p>
<img alt="oohay's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/e57fcc103053e5d009ad1cc0031d8d73?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/11122/oohay">oohay</a><br/>
<span class="score" title="26 reputation points">26</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">●</span><span class="badgecount">1</span></span><span title="3 badges"><span class="bronze">●</span><span class="badgecount">3</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="oohay has no accepted answers">0%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/43669/">
                edited
                <strong>20 Jun '15, 22:02</strong>
</a>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-43669">
<a name="43675"></a>
<div class="comment" id="comment-43675">
<div class="comment-score" id="post-43675-score">1</div>
<div class="comment-text"><p>Opening a new question can mean more visibility which can attract answers. To get the tags as separate columns, you can use the osm2pgsql style file to add <code>name:en</code> and <code>name:de</code> which means they'll be added as columns.</p></div>
<div class="comment-info" id="comment-43675-info">
<span class="comment-age">(21 Jun '15, 10:31)</span>
<a class="comment-user userinfo" href="/users/30/rorym">rorym</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-43669">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-43669-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="43708"></a>
<div class="answer answered-by-owner" id="answer-container-43708">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/43708/up/" id="post-43708-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-43708-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/43708/down/" id="post-43708-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>Okay thats the solution to the problem:
I edited the openstreetmap-carto.style document to create separate columns for the tags name:en and the tag name:de. I just added the lines to the document:</p>
<pre><code>node,way   name:en  text         linear

node,way   name:de  text         linear
</code></pre>
<p>Thanks for your help!</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/43708/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>22 Jun '15, 19:10</strong>
</p>
<img alt="oohay's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/e57fcc103053e5d009ad1cc0031d8d73?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/11122/oohay">oohay</a><br/>
<span class="score" title="26 reputation points">26</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">●</span><span class="badgecount">1</span></span><span title="3 badges"><span class="bronze">●</span><span class="badgecount">3</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="oohay has no accepted answers">0%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/43708/">
                edited
                <strong>22 Jun '15, 19:15</strong>
</a>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-43708">
</div>
<div class="comment-tools" id="comment-tools-43708">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-43708-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/43615/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="zHBHeZcGwiSJOb2ZhwNmQPvT12TRDpMr"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>