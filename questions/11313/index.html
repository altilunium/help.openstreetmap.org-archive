<meta charset="utf-8"/><link href="../style.css" rel="stylesheet" type="text/css"/><div id="CALeft"><center><a href="../"><img id="ll" src="https://help.openstreetmap.org/upfiles/osm_help_logo_6.png"/></a></center>
<div class="headNormal">
<h1><a href="/questions/11313/how-to-find-the-distance-values-in-osm-file">How to find the distance values in osm file?</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/11313/up/" id="post-11313-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-11313-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/11313/down/" id="post-11313-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/11313/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>I am designing the android mobile application project using java. I downloaded the map from <a href="http://downloads.cloudmade.com/">http://downloads.cloudmade.com/</a> . I got infromation (lat &amp; lon) of each node but there is no information about distance value. I am facing the problem to calculate the shortest path. These day I found the possible solution but it is still confused.</p>
<p>Here is the website seems to be useful:
<a href="http://wiki.openstreetmap.org/wiki/Distance_maps#Checking_routing_connectivity_of_an_OSM_file">http://wiki.openstreetmap.org/wiki/Distance_maps#Checking_routing_connectivity_of_an_OSM_file</a> .
But I cannot find the ROUTE.OSM from the cloudmade.com</p>
<p>As I know, the well-known method is Dijkstra's algorithm. Is there any existing method to get the shortest path between nodes under android development environment ? </p>
<p>Many Thanks!!!!</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-distance" href="/tags/distance/" rel="tag" title="see questions tagged 'distance'">distance</a>
<a class="post-tag tag-link-android" href="/tags/android/" rel="tag" title="see questions tagged 'android'">android</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>19 Mar '12, 08:16</strong>
</p>
<img alt="yenyip's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/0b422a6f9fbd98c28ce45107ad89a604?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/2884/yenyip">yenyip</a><br/>
<span class="score" title="11 reputation points">11</span><span title="2 badges"><span class="badge1">●</span><span class="badgecount">2</span></span><span title="2 badges"><span class="silver">●</span><span class="badgecount">2</span></span><span title="5 badges"><span class="bronze">●</span><span class="badgecount">5</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="yenyip has no accepted answers">0%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/11313/">
                edited
                <strong>19 Mar '12, 08:32</strong>
</a>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-11313">
<a name="11396"></a>
<div class="comment" id="comment-11396">
<div class="comment-score" id="post-11396-score"></div>
<div class="comment-text"><p>Please elaborate. What exactly do you want to compute?</p>
<ul>
<li>The shortest path between two variable nodes</li>
<li>The shortest path between one fixed and one variable node?</li>
<li>The shortest path between one fixed and “all” points?</li>
</ul></div>
<div class="comment-info" id="comment-11396-info">
<span class="comment-age">(21 Mar '12, 20:35)</span>
<a class="comment-user userinfo" href="/users/409/hfs">hfs</a>
</div>
</div>
<a name="11453"></a>
<div class="comment" id="comment-11453">
<div class="comment-score" id="post-11453-score"></div>
<div class="comment-text"><p>The shortest path between two variable nodes. The application receives the input (starting point and destination) from the user and calculates the path by Dijkstra's algorithm</p></div>
<div class="comment-info" id="comment-11453-info">
<span class="comment-age">(23 Mar '12, 03:50)</span>
<a class="comment-user userinfo" href="/users/2884/yenyip">yenyip</a>
</div>
</div>
<a name="63656"></a>
<div class="comment" id="comment-63656">
<div class="comment-score" id="post-63656-score"></div>
<div class="comment-text"><p>Please how did you get infromation (lat &amp; lon) of each node??</p></div>
<div class="comment-info" id="comment-63656-info">
<span class="comment-age">(23 May '18, 17:41)</span>
<a class="comment-user userinfo" href="/users/15158/yhsafa">yhsafa</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-11313">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-11313-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    3 Answers:
                    </div>
<div class="tabsA"><a href="/questions/11313/how-to-find-the-distance-values-in-osm-file?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/11313/how-to-find-the-distance-values-in-osm-file?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/11313/how-to-find-the-distance-values-in-osm-file?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/11313/how-to-find-the-distance-values-in-osm-file?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="11442"></a>
<div class="answer" id="answer-container-11442">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/11442/up/" id="post-11442-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-11442-score" title="current number of votes">
    1
</div>
<a class="ajax-command post-vote down" href="/vote/11442/down/" id="post-11442-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>Did you ever had a look at the OSM wiki, the endless source of knowledge?</p>
<p>At <a href="http://wiki.openstreetmap.org/wiki/Routing">Routing</a> you get an overview about routing with OSM data.</p>
<p>Or go to the <a href="http://wiki.openstreetmap.org/wiki/Android">Android</a> section and search for apps that are opensource and have routing features.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/11442/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>22 Mar '12, 20:20</strong>
</p>
<img alt="stephan75's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/245b73d4390c3408fe3c6da759b9897f?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/99/stephan75">stephan75</a><br/>
<span class="score" title="12642 reputation points"><span class="">12.6k</span></span><span title="5 badges"><span class="badge1">●</span><span class="badgecount">5</span></span><span title="56 badges"><span class="silver">●</span><span class="badgecount">56</span></span><span title="210 badges"><span class="bronze">●</span><span class="badgecount">210</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="stephan75 has 37 accepted answers">6%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-11442">
<a name="11452"></a>
<div class="comment" id="comment-11452">
<div class="comment-score" id="post-11452-score"></div>
<div class="comment-text"><p>Thanks stephan75. Actually I have tried to use the apps listed in Android section. I have read the OSM wiki but still cannot get the distance values. Normally, which method should be used ?</p></div>
<div class="comment-info" id="comment-11452-info">
<span class="comment-age">(23 Mar '12, 03:47)</span>
<a class="comment-user userinfo" href="/users/2884/yenyip">yenyip</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-11442">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-11442-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="11569"></a>
<div class="answer" id="answer-container-11569">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/11569/up/" id="post-11569-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-11569-score" title="current number of votes">
    1
</div>
<a class="ajax-command post-vote down" href="/vote/11569/down/" id="post-11569-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>Well, apart from the useful advices, you are still missing the answer to your question: how to calculate the distance on the WGS'84 sphere between two points defined by P1(Lat1,Lon1) and P2(Lat2,Lon2)?</p>
<p>If you don't minde, try this:</p>
<p>X1=cos(C x Lat1) x cos(C x Lon1);
X2=cos(C x Lat2) x cos(C x Lon2);</p>
<p>Y1=cos(C x Lat1) x sin(C x Lon1);
Y2=cos(C x Lat2) x sin(C x Lon2);</p>
<p>Z1=sin(C x Lat1);
Z2=sin(C x Lat2);</p>
<p>(main-circle)distance(P1,P2)=R x acos(X1 x X2 + Y1 x Y2 + Z1 x Z2);</p>
<p>Where R=6378137 and C=PI/180=0.0174532925 and distance in meters.</p>
<p>Assumed, latitude and longitude are given in decimal degrees (if in radians, take C=1).</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/11569/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>28 Mar '12, 17:39</strong>
</p>
<img alt="sanser's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/03cd9ea0efd97a7040fda0d6a76aba8e?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/3194/sanser">sanser</a><br/>
<span class="score" title="695 reputation points">695</span><span title="38 badges"><span class="badge1">●</span><span class="badgecount">38</span></span><span title="39 badges"><span class="silver">●</span><span class="badgecount">39</span></span><span title="55 badges"><span class="bronze">●</span><span class="badgecount">55</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="sanser has 2 accepted answers">5%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/11569/">
                edited
                <strong>29 Mar '12, 10:32</strong>
</a>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-11569">
</div>
<div class="comment-tools" id="comment-tools-11569">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-11569-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="11455"></a>
<div class="answer" id="answer-container-11455">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/11455/up/" id="post-11455-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-11455-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/11455/down/" id="post-11455-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>If I understand you right you want to make a routing engine for android. For the first this have been done <a href="http://wiki.openstreetmap.org/wiki/Android">before</a> and you might be better of using one of those open source implementations.</p>
<p>The first thing you have to learn is how the osm data is. There are a lot of tags that describe who can travel where and how fast and so forth. In the end you want to create a weighted graph of this data that you can store. Then you can run dijkstras algorithm on that graph. When you finaly have a route you can calculate the distance from point to point and add them up.</p>
<p>As you might imagine this is quite the task and it will take a lot of development to get the routing engine fast enough that you can use it. My recomendations is that you take a look at some of the open source applications for android that supports offline routing, and try to reuse their code.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/11455/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>23 Mar '12, 04:23</strong>
</p>
<img alt="Gnonthgol's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/44a4438f0146dfd898e24c221fd28b58?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/131/gnonthgol">Gnonthgol ♦</a><br/>
<span class="score" title="13750 reputation points"><span class="">13.8k</span></span><span title="16 badges"><span class="badge1">●</span><span class="badgecount">16</span></span><span title="103 badges"><span class="silver">●</span><span class="badgecount">103</span></span><span title="198 badges"><span class="bronze">●</span><span class="badgecount">198</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Gnonthgol has 57 accepted answers">16%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-11455">
</div>
<div class="comment-tools" id="comment-tools-11455">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-11455-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/11313/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="8gXvYVRi7oc4AwWO0V6ik3kiL6wah0yd"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>