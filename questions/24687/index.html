<meta charset="utf-8"/><link href="../style.css" rel="stylesheet" type="text/css"/><div id="CALeft"><center><a href="../"><img id="ll" src="https://help.openstreetmap.org/upfiles/osm_help_logo_6.png"/></a></center>
<div class="headNormal">
<h1><a href="/questions/24687/how-to-move-labels">How to move labels?</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/24687/up/" id="post-24687-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-24687-score" title="current number of votes">
    3
</div>
<a class="ajax-command post-vote down" href="/vote/24687/down/" id="post-24687-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/24687/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>Hi,</p>
<p>I am a bit of an OSM newbie having just made my first edit. I added the way <a href="http://www.openstreetmap.org/browse/way/231720132">http://www.openstreetmap.org/browse/way/231720132</a> Bradlaugh Fields using the ID in-browser editor.</p>
<p>This is a public park in northern Northampton, England. However the label for the way appears to the right of the area itself, and the label is in fact over Aintree Road, which is not part of the way. How can I move the label so that it is over the actual park rather than in the rather odd place it is now?</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-rendering" href="/tags/rendering/" rel="tag" title="see questions tagged 'rendering'">rendering</a>
<a class="post-tag tag-link-labels" href="/tags/labels/" rel="tag" title="see questions tagged 'labels'">labels</a>
<a class="post-tag tag-link-placement" href="/tags/placement/" rel="tag" title="see questions tagged 'placement'">placement</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>29 Jul '13, 17:22</strong>
</p>
<img alt="whenthedanceisthrough's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/9dfdd64fd212672b7c019a6adacf7a18?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/6971/whenthedanceisthrough">whenthedance...</a><br/>
<span class="score" title="51 reputation points">51</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">●</span><span class="badgecount">1</span></span><span title="2 badges"><span class="bronze">●</span><span class="badgecount">2</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="whenthedanceisthrough has no accepted answers">0%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/24687/">
                edited
                <strong>30 Jul '13, 15:37</strong>
</a>
</p>
<img alt="gormo's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/806d5a652505590a9eba797ad5bea8db?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/4653/gormo">gormo</a><br/>
<span class="score" title="2928 reputation points"><span class="">2.9k</span></span><span title="3 badges"><span class="badge1">●</span><span class="badgecount">3</span></span><span title="26 badges"><span class="silver">●</span><span class="badgecount">26</span></span><span title="60 badges"><span class="bronze">●</span><span class="badgecount">60</span></span></p>
</div>
</div>
<div class="comments-container" id="comments-container-24687">
<a name="24690"></a>
<div class="comment" id="comment-24690">
<div class="comment-score" id="post-24690-score">1</div>
<div class="comment-text"><p>Right now, the label "Bradlaugh Fields" is actually in the middle of the park, as I would expect it. Maybe it was just a problem with the renderer; sometimes it takes a while for changes to appear on the map.</p></div>
<div class="comment-info" id="comment-24690-info">
<span class="comment-age">(29 Jul '13, 20:53)</span>
<a class="comment-user userinfo" href="/users/666/sleske">sleske</a>
</div>
</div>
<a name="24722"></a>
<div class="comment" id="comment-24722">
<div class="comment-score" id="post-24722-score"></div>
<div class="comment-text"><p>It still shows wrongly for me. Check the following URL: <a href="http://osm.org/go/eu4zvisZ">http://osm.org/go/eu4zvisZ</a> The label "Bradlaugh Fields" is not over the park at all, but actually at the corner of Aintree Road and Goodwood Avenue, just to the east of the park.</p></div>
<div class="comment-info" id="comment-24722-info">
<span class="comment-age">(30 Jul '13, 10:37)</span>
<a class="comment-user userinfo" href="/users/6971/whenthedanceisthrough">whenthedance...</a>
</div>
</div>
<a name="24757"></a>
<div class="comment" id="comment-24757">
<div class="comment-score" id="post-24757-score">1</div>
<div class="comment-text"><p>I am a bit confused: the <a href="http://www.openstreetmap.org/?lat=52.26657&amp;lon=-0.8753&amp;zoom=15&amp;layers=Q">MapQuest Open style</a> shows the label off. But <a href="http://www.openstreetmap.org/?lat=52.26657&amp;lon=-0.8753&amp;zoom=15&amp;layers=M">osm.org's Mapnik style</a> shows the label right  on the park - contrary to what I understand you see.  Oh, hold on... That <em>may</em> be due to the fact that you are accessing from the Brit. Isles and I from Germany. Users from the <a href="http://lists.openstreetmap.org/pipermail/talk/2013-July/067707.html">Brit. Isles were switched to the new CartoCSS style</a> on 24 July 2013. So you may see a different map than I do. The current  openstreetmap-carto style  may currently have a disadvantage here compared to the classic Mapnik style.</p></div>
<div class="comment-info" id="comment-24757-info">
<span class="comment-age">(30 Jul '13, 22:37)</span>
<a class="comment-user userinfo" href="/users/5179/aseerel4c26">aseerel4c26 ♦</a>
</div>
</div>
<a name="24760"></a>
<div class="comment not_top_scorer" id="comment-24760">
<div class="comment-score" id="post-24760-score"></div>
<div class="comment-text"><p>I'm from Belgium, but I do see the label right of the park, above the residential area. Was Belgium switched as well ?</p></div>
<div class="comment-info" id="comment-24760-info">
<span class="comment-age">(31 Jul '13, 04:25)</span>
<a class="comment-user userinfo" href="/users/5390/escada">escada</a>
</div>
</div>
<a name="24761"></a>
<div class="comment" id="comment-24761">
<div class="comment-score" id="post-24761-score">1</div>
<div class="comment-text"><p>Thanks for the explanation. I wasn't aware of this "layers" switch before as I am relatively new to OSM. I notice that when I use the "cycle map" layer, I actually see the label in the correct place. But using "standard", it appears in the wrong place. As you mention, this is probably due to the CartoCSS.</p></div>
<div class="comment-info" id="comment-24761-info">
<span class="comment-age">(31 Jul '13, 11:38)</span>
<a class="comment-user userinfo" href="/users/6971/whenthedanceisthrough">whenthedance...</a>
</div>
</div>
<a name="24902"></a>
<div class="comment" id="comment-24902">
<div class="comment-score" id="post-24902-score">1</div>
<div class="comment-text"><p>Update: now I see (from Germany) no label in my mapnik link from above but I see a label in <a href="http://www.openstreetmap.org/?lat=52.2675&amp;lon=-0.87&amp;zoom=14&amp;layers=M">a lower zoom level</a> which is ("wrongly") on the residential area. There <a href="/questions/24900/railwaylevel_crossing-no-longer-rendered-by-mapnik#24901">seem</a> to be some server changes/actions currently.</p></div>
<div class="comment-info" id="comment-24902-info">
<span class="comment-age">(05 Aug '13, 03:33)</span>
<a class="comment-user userinfo" href="/users/5179/aseerel4c26">aseerel4c26 ♦</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-24687">
<span class="comments-showing">
            showing 5 of 6
        </span>
<a class="show-all-comments-link" href="#">show 1 more comments</a>
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-24687-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    2 Answers:
                    </div>
<div class="tabsA"><a href="/questions/24687/how-to-move-labels?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/24687/how-to-move-labels?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/24687/how-to-move-labels?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/24687/how-to-move-labels?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="24688"></a>
<div class="answer accepted-answer" id="answer-container-24688">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/24688/up/" id="post-24688-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-24688-score" title="current number of votes">
    10
</div>
<a class="ajax-command post-vote down" href="/vote/24688/down/" id="post-24688-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="accept-answer on" href="/accept_answer/24688/" rel="nofollow" title="whenthedanceisthrough has selected this answer as the correct answer">
</a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>You cannot change the position of the labels. The renderer uses an algorithm to determine the position of the labels. Most likely it positions the label in the middle of the of the area. </p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/24688/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>29 Jul '13, 20:20</strong>
</p>
<img alt="escada's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/813a136afe7d4c95fd5bccdd78705e0e?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/5390/escada">escada</a><br/>
<span class="score" title="19043 reputation points"><span class="">19.0k</span></span><span title="16 badges"><span class="badge1">●</span><span class="badgecount">16</span></span><span title="166 badges"><span class="silver">●</span><span class="badgecount">166</span></span><span title="302 badges"><span class="bronze">●</span><span class="badgecount">302</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="escada has 97 accepted answers">21%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-24688">
<a name="24702"></a>
<div class="comment" id="comment-24702">
<div class="comment-score" id="post-24702-score">4</div>
<div class="comment-text"><p>… and in fact there is no "the renderer". There are many as OSM is just a database with <a href="//wiki.openstreetmap.org/wiki/List_of_OSM_based_Services">many different maps and services</a> using OSM. As we have no render direction in our database one cannot change, yup.</p></div>
<div class="comment-info" id="comment-24702-info">
<span class="comment-age">(29 Jul '13, 22:52)</span>
<a class="comment-user userinfo" href="/users/5179/aseerel4c26">aseerel4c26 ♦</a>
</div>
</div>
<a name="24723"></a>
<div class="comment" id="comment-24723">
<div class="comment-score" id="post-24723-score"></div>
<div class="comment-text"><p>Thanks, this is a shame because the label position is totally wrong according to this algorithm. You can check the following URL to see: <a href="http://osm.org/go/eu4zvisZ">http://osm.org/go/eu4zvisZ</a> the label "Bradlaugh Fields" appears at the corner of Aintree Road and Goodwood Avenue, and not at all within the actual area. Is there any way to position the nodes in such a way as to "force" the algorithm to work correctly? Or is this a bug I should report with OSM?</p></div>
<div class="comment-info" id="comment-24723-info">
<span class="comment-age">(30 Jul '13, 10:40)</span>
<a class="comment-user userinfo" href="/users/6971/whenthedanceisthrough">whenthedance...</a>
</div>
</div>
<a name="24724"></a>
<div class="comment" id="comment-24724">
<div class="comment-score" id="post-24724-score">3</div>
<div class="comment-text"><p>The algorithm works fine when you have something that is a rectangle or something that resembles that. In this case the area is a square with a long small rectangle at the top. That's why the center moves out of the area.</p>
<p>As aseerel4c26 points out, there are multiple renderers, the one you refer to is probably the Mapnik renderer used at the main OSM site. </p>
<p>Placing labels nicely is a difficult task. There is still research going on to improve those algorithms. I assume you can file a bug report, but do not expect it to be fixed anytime soon.</p></div>
<div class="comment-info" id="comment-24724-info">
<span class="comment-age">(30 Jul '13, 11:20)</span>
<a class="comment-user userinfo" href="/users/5390/escada">escada</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-24688">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-24688-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="24725"></a>
<div class="answer" id="answer-container-24725">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/24725/up/" id="post-24725-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-24725-score" title="current number of votes">
    3
</div>
<a class="ajax-command post-vote down" href="/vote/24725/down/" id="post-24725-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>In fact, label placement on a graph/map is shown to be a NP-complete problem, which means there are no perfect solutions in polynomial time. See <a href="http://citeseerx.ist.psu.edu/viewdoc/summary?doi=10.1.1.54.8844">http://citeseerx.ist.psu.edu/viewdoc/summary?doi=10.1.1.54.8844</a> .</p>
<p>All label placement algorithms must fail, if you want them to ever finish computing (this is somewhat simplified).</p>
<p>So: you should not do anything. If the area is tagged correctly then leave it as it is. Don't nudge the data to display the way you want (we call this "tagging for the renderer", and it is a sacrilege in the OSM community. See <a href="http://wiki.openstreetmap.org/wiki/Tagging_for_the_renderer">http://wiki.openstreetmap.org/wiki/Tagging_for_the_renderer</a> ).</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/24725/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>30 Jul '13, 11:29</strong>
</p>
<img alt="gormo's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/806d5a652505590a9eba797ad5bea8db?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/4653/gormo">gormo</a><br/>
<span class="score" title="2928 reputation points"><span class="">2.9k</span></span><span title="3 badges"><span class="badge1">●</span><span class="badgecount">3</span></span><span title="26 badges"><span class="silver">●</span><span class="badgecount">26</span></span><span title="60 badges"><span class="bronze">●</span><span class="badgecount">60</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="gormo has 13 accepted answers">13%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-24725">
<a name="24729"></a>
<div class="comment" id="comment-24729">
<div class="comment-score" id="post-24729-score">2</div>
<div class="comment-text"><p>… ein leicht zu lesender Artikel über das Beschriftungsproblem auf Deutsch: "<a href="http://i11www.iti.uni-karlsruhe.de/map-labeling/points/one-square/info/zeit.html">Beschriftung von Karten ist ein hartes Problem. Abstrakte Theorien führen zu seiner Lösung</a>"</p></div>
<div class="comment-info" id="comment-24729-info">
<span class="comment-age">(30 Jul '13, 14:00)</span>
<a class="comment-user userinfo" href="/users/5179/aseerel4c26">aseerel4c26 ♦</a>
</div>
</div>
<a name="24744"></a>
<div class="comment" id="comment-24744">
<div class="comment-score" id="post-24744-score"></div>
<div class="comment-text"><p>How about if I created several separate ways of more traditional shapes and named them all as "Bradlaugh Fields" so that the labels would appear more than once but at least within the actual areas? Would that be considered "tagging for the renderer"?</p></div>
<div class="comment-info" id="comment-24744-info">
<span class="comment-age">(30 Jul '13, 17:24)</span>
<a class="comment-user userinfo" href="/users/6971/whenthedanceisthrough">whenthedance...</a>
</div>
</div>
<a name="24747"></a>
<div class="comment" id="comment-24747">
<div class="comment-score" id="post-24747-score">4</div>
<div class="comment-text"><p>Generally speaking, there should be <a href="http://wiki.openstreetmap.org/wiki/One_feature,_one_OSM_element">one feature for each OSM element</a>, not one-for-many or many-for-one.</p></div>
<div class="comment-info" id="comment-24747-info">
<span class="comment-age">(30 Jul '13, 17:36)</span>
<a class="comment-user userinfo" href="/users/387/someoneelse">SomeoneElse ♦</a>
</div>
</div>
<a name="24749"></a>
<div class="comment not_top_scorer" id="comment-24749">
<div class="comment-score" id="post-24749-score"></div>
<div class="comment-text"><p>Thanks, I guess we're stuck with this situation then :(</p></div>
<div class="comment-info" id="comment-24749-info">
<span class="comment-age">(30 Jul '13, 18:31)</span>
<a class="comment-user userinfo" href="/users/6971/whenthedanceisthrough">whenthedance...</a>
</div>
</div>
<a name="24751"></a>
<div class="comment" id="comment-24751">
<div class="comment-score" id="post-24751-score">2</div>
<div class="comment-text"><p><a href="/users/6971/whenthedanceisthrough">@whenthedanceisthrough</a>: strictly speaking: no, not really. You just need to   program a more shape-aware label placement heuristic into the renderer (/-style)  which produces the map you are looking at. E.g. <a href="//wiki.openstreetmap.org/wiki/File:Maxbe-stubaier-beschriftung_en.png">the circle approach used there</a>  would more likely place the label on the park itself. It could well be that there are already other maps placing the park label in a way which suits you more.</p></div>
<div class="comment-info" id="comment-24751-info">
<span class="comment-age">(30 Jul '13, 18:53)</span>
<a class="comment-user userinfo" href="/users/5179/aseerel4c26">aseerel4c26 ♦</a>
</div>
</div>
<a name="24752"></a>
<div class="comment" id="comment-24752">
<div class="comment-score" id="post-24752-score">1</div>
<div class="comment-text"><p>I checked other renderers like OpenMapSurfer or MapQuest, but they generate it wrongly too. I think the upshot is that it requires a code change to each renderer to fix. As <a href="/users/5390/escada">@escada</a> mentioned above, this is possible, but will likely not happen in the near future. That's why I said we are stuck with this situation (at least in the near future).</p></div>
<div class="comment-info" id="comment-24752-info">
<span class="comment-age">(30 Jul '13, 19:22)</span>
<a class="comment-user userinfo" href="/users/6971/whenthedanceisthrough">whenthedance...</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-24725">
<span class="comments-showing">
            showing 5 of 6
        </span>
<a class="show-all-comments-link" href="#">show 1 more comments</a>
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-24725-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/24687/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="nEELHb3Rcsn2Ekvh0bNV4CKTcH3nzGkQ"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>