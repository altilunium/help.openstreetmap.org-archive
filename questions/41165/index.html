<meta charset="utf-8"/><link href="../style.css" rel="stylesheet" type="text/css"/><div id="CALeft"><center><a href="../"><img id="ll" src="https://help.openstreetmap.org/upfiles/osm_help_logo_6.png"/></a></center>
<div class="headNormal">
<h1><a href="/questions/41165/copying-relation-tag-to-its-member-ways">copying relation tag to its member ways</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/41165/up/" id="post-41165-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-41165-score" title="current number of votes">
    1
</div>
<a class="ajax-command post-vote down" href="/vote/41165/down/" id="post-41165-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/41165/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>At least MapsForge (vector rendering lib) cannot handle relations and requires tags on roads. The OSM data should be transformed as <strong>selected relations have their selected tags copied to its members</strong>, like route=hiking.</p>
<p>I am looking for a public tool to do that. Osmosis does have a tag-transform engine which should be able to do this but does not seem to, its relation matching is not even in the testing suite of the distribution.</p>
<p>Example: copy <em>'osmc:symbol', 'name', 'network', 'symbol'</em> from every relation tagged <em>route=hiking</em> to its member ways, using command line tools and country extracts.</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-hiking" href="/tags/hiking/" rel="tag" title="see questions tagged 'hiking'">hiking</a>
<a class="post-tag tag-link-mapsforge" href="/tags/mapsforge/" rel="tag" title="see questions tagged 'mapsforge'">mapsforge</a>
<a class="post-tag tag-link-data_processing" href="/tags/data_processing/" rel="tag" title="see questions tagged 'data_processing'">data_processing</a>
<a class="post-tag tag-link-relations" href="/tags/relations/" rel="tag" title="see questions tagged 'relations'">relations</a>
<a class="post-tag tag-link-tags" href="/tags/tags/" rel="tag" title="see questions tagged 'tags'">tags</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>20 Feb '15, 10:59</strong>
</p>
<img alt="grin's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/543f907c30de5772ec0625b82264c188?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/5624/grin">grin</a><br/>
<span class="score" title="158 reputation points">158</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="2 badges"><span class="silver">●</span><span class="badgecount">2</span></span><span title="7 badges"><span class="bronze">●</span><span class="badgecount">7</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="grin has no accepted answers">0%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-41165">
<a name="41171"></a>
<div class="comment" id="comment-41171">
<div class="comment-score" id="post-41171-score">3</div>
<div class="comment-text"><p>Keep in mind that ways (and other elements) can belong to multiple relations. Simply moving tags from relations to their members won't work in all cases.</p></div>
<div class="comment-info" id="comment-41171-info">
<span class="comment-age">(20 Feb '15, 12:15)</span>
<a class="comment-user userinfo" href="/users/158/scai">scai ♦</a>
</div>
</div>
<a name="41180"></a>
<div class="comment" id="comment-41180">
<div class="comment-score" id="post-41180-score"></div>
<div class="comment-text"><p><a href="http://help.openstreetmap.org/users/158/scai">@scai</a> true, but that's a secondary problem since it could be handled by tag-transform. Still a good point, thanks.</p></div>
<div class="comment-info" id="comment-41180-info">
<span class="comment-age">(20 Feb '15, 15:09)</span>
<a class="comment-user userinfo" href="/users/5624/grin">grin</a>
</div>
</div>
<a name="41181"></a>
<div class="comment" id="comment-41181">
<div class="comment-score" id="post-41181-score"></div>
<div class="comment-text"><p>Maybe that's capability MapsForge needs to add? This is the definition of "tagging for the renderer"</p></div>
<div class="comment-info" id="comment-41181-info">
<span class="comment-age">(20 Feb '15, 15:16)</span>
<a class="comment-user userinfo" href="/users/595/neuhausr">neuhausr</a>
</div>
</div>
<a name="41182"></a>
<div class="comment" id="comment-41182">
<div class="comment-score" id="post-41182-score">2</div>
<div class="comment-text"><p><a href="http://help.openstreetmap.org/users/595/neuhausr">@neuhausr</a> I don't think that anyone's suggesting doing it within OSM; it's after extracting the data and before throwing it at MapsForge that's the question.</p></div>
<div class="comment-info" id="comment-41182-info">
<span class="comment-age">(20 Feb '15, 15:19)</span>
<a class="comment-user userinfo" href="/users/387/someoneelse">SomeoneElse ♦</a>
</div>
</div>
<a name="41184"></a>
<div class="comment" id="comment-41184">
<div class="comment-score" id="post-41184-score"></div>
<div class="comment-text"><p><a href="http://help.openstreetmap.org/users/387/someoneelse">@someoneelse</a> misunderstood, my bad!</p></div>
<div class="comment-info" id="comment-41184-info">
<span class="comment-age">(20 Feb '15, 15:35)</span>
<a class="comment-user userinfo" href="/users/595/neuhausr">neuhausr</a>
</div>
</div>
<a name="41265"></a>
<div class="comment not_top_scorer" id="comment-41265">
<div class="comment-score" id="post-41265-score"></div>
<div class="comment-text"><p>I have created the script, I'll try to prettify and publish it soon. Right now it's processing Hungary.osm in 7 minutes on a desktop pc which is quite acceptable. I try to look around in neighbouring countries how they could be represented in some standardised fashion; feeling kind of reinventing warm water, hmm.</p></div>
<div class="comment-info" id="comment-41265-info">
<span class="comment-age">(23 Feb '15, 09:57)</span>
<a class="comment-user userinfo" href="/users/5624/grin">grin</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-41165">
<span class="comments-showing">
            showing 5 of 6
        </span>
<a class="show-all-comments-link" href="#">show 1 more comments</a>
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-41165-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<form action="/questions/41165/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="jfD7C1lRscu6M75YDNmodgsjV2w2YHUb"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>