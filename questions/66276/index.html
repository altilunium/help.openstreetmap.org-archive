<meta charset="utf-8"/><link href="../style.css" rel="stylesheet" type="text/css"/><div id="CALeft"><center><a href="../"><img id="ll" src="https://help.openstreetmap.org/upfiles/osm_help_logo_6.png"/></a></center>
<div class="headNormal">
<h1><a href="/questions/66276/overpassapi-fetch-all-nodes-created-by-a-specified-user">[closed] OverpassAPI: fetch all nodes created by a specified user</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/66276/up/" id="post-66276-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-66276-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/66276/down/" id="post-66276-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/66276/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>I'd like to list the nodes that were created by a specified user with the Overpass API.</p>
<p>After stumbling on <a href="https://wiki.openstreetmap.org/wiki/Overpass_API/Overpass_QL#By_user_.28user.2C_uid.29">this wiki section</a> I was able to fetch all nodes "touched" by a user.</p>
<p>I tested my own username, and as expected it returns all the nodes I've <strong>created and edited</strong>.
<a href="https://www.overpass-api.de/api/interpreter?data=[out:json];node(user:%22robinmetral%22);out;">https://www.overpass-api.de/api/interpreter?data=[out:json];node(user:"robinmetral");out;</a></p>
<p>However I'm looking for a way to fetch only the nodes that a specified user has <strong>created</strong>, i.e. added to OSM for the first time (version 1).</p>
<p>Is there a way to do this? By looking at if the user has created the node's version 1 perhaps? Any inputs are welcome :)</p>
<p>Thanks for your help!</p>
<p>Side question: the wiki says that "<em>the user filter selects all <strong>elements that have been last touched</strong> by the specified user</em>". Why "last"? Does it select a limited number of elements?</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-overpass" href="/tags/overpass/" rel="tag" title="see questions tagged 'overpass'">overpass</a>
<a class="post-tag tag-link-version" href="/tags/version/" rel="tag" title="see questions tagged 'version'">version</a>
<a class="post-tag tag-link-user" href="/tags/user/" rel="tag" title="see questions tagged 'user'">user</a>
<a class="post-tag tag-link-query" href="/tags/query/" rel="tag" title="see questions tagged 'query'">query</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>11 Oct '18, 03:36</strong>
</p>
<img alt="robinmetral's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/f9fe45b76971785fd9287f048e9d3ec7?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/15722/robinmetral">robinmetral</a><br/>
<span class="score" title="186 reputation points">186</span><span title="7 badges"><span class="badge1">●</span><span class="badgecount">7</span></span><span title="7 badges"><span class="silver">●</span><span class="badgecount">7</span></span><span title="18 badges"><span class="bronze">●</span><span class="badgecount">18</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="robinmetral has no accepted answers">0%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/66276/">
                closed
                <strong>20 Oct '18, 12:43</strong>
</a>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-66276">
<a name="66277"></a>
<div class="comment" id="comment-66277">
<div class="comment-score" id="post-66277-score"></div>
<div class="comment-text"><p>AFAIK, it is not possible to retrieve only revision 1 nodes via Overpass API.</p></div>
<div class="comment-info" id="comment-66277-info">
<span class="comment-age">(11 Oct '18, 04:09)</span>
<a class="comment-user userinfo" href="/users/5390/escada">escada</a>
</div>
</div>
<a name="66280"></a>
<div class="comment" id="comment-66280">
<div class="comment-score" id="post-66280-score"></div>
<div class="comment-text"><p>Hmm. Do you know of other possible solutions? Or would this be the only way?</p></div>
<div class="comment-info" id="comment-66280-info">
<span class="comment-age">(11 Oct '18, 04:45)</span>
<a class="comment-user userinfo" href="/users/15722/robinmetral">robinmetral</a>
</div>
</div>
<a name="66287"></a>
<div class="comment" id="comment-66287">
<div class="comment-score" id="post-66287-score"></div>
<div class="comment-text"><p>Oooh I think I might have found a way using the OSM API instead of Overpass. </p>
<p>Looking at the history of a node with several versions (<a href="https://www.openstreetmap.org/api/0.6/node/3395080851/history">example in XML</a>) I might be able to extract the user of version 1!</p>
<p>I'll look into it, but feel free to give me a hand if you know how to convert this XML to JSON and fetch it! :)</p></div>
<div class="comment-info" id="comment-66287-info">
<span class="comment-age">(11 Oct '18, 10:07)</span>
<a class="comment-user userinfo" href="/users/15722/robinmetral">robinmetral</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-66276">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-66276-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<div class="question-status" style="margin-bottom:15px">
<h3>
                The question has been closed for the following reason "The question is answered, but I can not accept my own answer" by
                <a href="/users/15722/robinmetral">robinmetral</a>
                 20 Oct '18, 12:43
            </h3>
</div>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    One Answer:
                    </div>
<div class="tabsA"><a href="/questions/66276/overpassapi-fetch-all-nodes-created-by-a-specified-user?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/66276/overpassapi-fetch-all-nodes-created-by-a-specified-user?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/66276/overpassapi-fetch-all-nodes-created-by-a-specified-user?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/66276/overpassapi-fetch-all-nodes-created-by-a-specified-user?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="66307"></a>
<div class="answer answered-by-owner" id="answer-container-66307">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/66307/up/" id="post-66307-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-66307-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/66307/down/" id="post-66307-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>So after some research, I solved my own question! I thought I'd post it on here in case someone else is looking for a similar solution.</p>
<p><strong>Clarification</strong>: though I first asked how to list all nodes created by a specific user (because I thought it would be more straightforward), in my case what I really wanted was to <strong>check whether a list of nodes were created by a specified user</strong>.</p>
<p>I was able to do this through the <a href="https://wiki.openstreetmap.org/wiki/API_v0.6">OpenStreetMap API</a> (not the <a href="https://wiki.openstreetmap.org/wiki/Overpass_API">Overpass API</a>).</p>
<p>Basically, I use the following request syntax in a JavaScript <code>XMLHttpRequest</code>:</p>
<pre><code><a href="https://api.openstreetmap.org/api/0.6/nodes?nodes=100v1,101v1,102v1,103v1">https://api.openstreetmap.org/api/0.6/nodes?nodes=100v1,101v1,102v1,103v1</a> // etc.
</code></pre>
<p>Then I parse the XML response to get the value of the <code>user=""</code> class in each node.</p>
<p>Here are the relevant docs sections about <a href="https://wiki.openstreetmap.org/wiki/API_v0.6#Version:_GET_.2Fapi.2F0.6.2F.5Bnode.7Cway.7Crelation.5D.2F.23id.2F.23version">retrieving an element's specific version</a> and about <a href="https://wiki.openstreetmap.org/wiki/API_v0.6#Multi_fetch:_GET_.2Fapi.2F0.6.2F.5Bnodes.7Cways.7Crelations.5D.3F.23parameters">fetching multiple elements at once</a>.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/66307/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>12 Oct '18, 08:15</strong>
</p>
<img alt="robinmetral's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/f9fe45b76971785fd9287f048e9d3ec7?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/15722/robinmetral">robinmetral</a><br/>
<span class="score" title="186 reputation points">186</span><span title="7 badges"><span class="badge1">●</span><span class="badgecount">7</span></span><span title="7 badges"><span class="silver">●</span><span class="badgecount">7</span></span><span title="18 badges"><span class="bronze">●</span><span class="badgecount">18</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="robinmetral has no accepted answers">0%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-66307">
</div>
<div class="comment-tools" id="comment-tools-66307">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-66307-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/66276/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="843yzwhCQ1Dkz1jwDMYOrYXMpq88GrLg"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>