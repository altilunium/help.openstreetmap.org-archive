<meta charset="utf-8"/><link href="../style.css" rel="stylesheet" type="text/css"/><div id="CALeft"><center><a href="../"><img id="ll" src="https://help.openstreetmap.org/upfiles/osm_help_logo_6.png"/></a></center>
<div class="headNormal">
<h1><a href="/questions/50351/primary-landuse-of-a-postal-code">Primary landuse of a postal code</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/50351/up/" id="post-50351-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-50351-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/50351/down/" id="post-50351-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/50351/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>I'm looking for a way to have a list of U.S. postal codes and the primary type of the area (=landuse?) For example: residential, commercial, military base, airport etc. </p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-landuse" href="/tags/landuse/" rel="tag" title="see questions tagged 'landuse'">landuse</a>
<a class="post-tag tag-link-api" href="/tags/api/" rel="tag" title="see questions tagged 'api'">api</a>
<a class="post-tag tag-link-newbie" href="/tags/newbie/" rel="tag" title="see questions tagged 'newbie'">newbie</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>21 Jun '16, 10:05</strong>
</p>
<img alt="Owen32's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/96aec0ab02d6686a75591c7703d9e9b4?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/12441/owen32">Owen32</a><br/>
<span class="score" title="11 reputation points">11</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">●</span><span class="badgecount">1</span></span><span title="2 badges"><span class="bronze">●</span><span class="badgecount">2</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Owen32 has no accepted answers">0%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-50351">
<a name="50352"></a>
<div class="comment" id="comment-50352">
<div class="comment-score" id="post-50352-score">1</div>
<div class="comment-text"><p>cross-posted: <a href="https://stackoverflow.com/questions/37939161/zipcodes-and-area-type-landuse">https://stackoverflow.com/questions/37939161/zipcodes-and-area-type-landuse</a></p></div>
<div class="comment-info" id="comment-50352-info">
<span class="comment-age">(21 Jun '16, 10:44)</span>
<a class="comment-user userinfo" href="/users/158/scai">scai ♦</a>
</div>
</div>
<a name="50357"></a>
<div class="comment" id="comment-50357">
<div class="comment-score" id="post-50357-score">3</div>
<div class="comment-text"><p>also see this answer for limitations of US zip code polygons: <a href="https://help.openstreetmap.org/questions/46371/need-help-showing-zip-codes-on-map-and-their-boundaries">https://help.openstreetmap.org/questions/46371/need-help-showing-zip-codes-on-map-and-their-boundaries</a></p></div>
<div class="comment-info" id="comment-50357-info">
<span class="comment-age">(21 Jun '16, 15:03)</span>
<a class="comment-user userinfo" href="/users/595/neuhausr">neuhausr</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-50351">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-50351-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    One Answer:
                    </div>
<div class="tabsA"><a href="/questions/50351/primary-landuse-of-a-postal-code?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/50351/primary-landuse-of-a-postal-code?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/50351/primary-landuse-of-a-postal-code?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/50351/primary-landuse-of-a-postal-code?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="50354"></a>
<div class="answer" id="answer-container-50354">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/50354/up/" id="post-50354-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-50354-score" title="current number of votes">
    2
</div>
<a class="ajax-command post-vote down" href="/vote/50354/down/" id="post-50354-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>That's entirely possible.</p>
<p>First you download OSM in the format you require.</p>
<p>Then you decide what the possible "types" are. You query your data to group all things that are within such a type. Mind you: the same place might have different types (for example an airport has shops). So then you have to decide whether or not you want to prioritize (eg shops take a bite out of airports, airports hide underlying shops, or both count in their own way). You will also have to account for some features being mapped as both an area and a node (eg a shop in a commercial area). I solved this by giving shops an arbitrary area.</p>
<p>Once you have everything in place, you do a spatial join of points and postal codes, and/or split polygons along the borders of your postal codes. Et voila, you can start counting.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/50354/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>21 Jun '16, 13:07</strong>
</p>
<img alt="joost%20schouppe's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/1df835d513b1282e0edd7405d29cd8d9?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/10142/joost-schouppe">joost schouppe</a><br/>
<span class="score" title="3427 reputation points"><span class="">3.4k</span></span><span title="24 badges"><span class="badge1">●</span><span class="badgecount">24</span></span><span title="50 badges"><span class="silver">●</span><span class="badgecount">50</span></span><span title="87 badges"><span class="bronze">●</span><span class="badgecount">87</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="joost schouppe has 9 accepted answers">12%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-50354">
<a name="50356"></a>
<div class="comment" id="comment-50356">
<div class="comment-score" id="post-50356-score"></div>
<div class="comment-text"><p>Can you explain by a specific example? What is the API call for specific lat_lon and get the landuse?</p></div>
<div class="comment-info" id="comment-50356-info">
<span class="comment-age">(21 Jun '16, 13:46)</span>
<a class="comment-user userinfo" href="/users/12441/owen32">Owen32</a>
</div>
</div>
<a name="50365"></a>
<div class="comment" id="comment-50365">
<div class="comment-score" id="post-50365-score"></div>
<div class="comment-text"><p>Do you want to do this on user demand on the fly for one area, or are you building a national dataset?</p>
<p>If you want to do the second, you will not be using our API. You will need to download the data (e.g. from download.geofabrik.de ) and convert it to suit your needs (I often use pbf to sqlite, but more people use a postgis solution). Then you will need to study the OSM datamodel (use wiki.openstreetmap.org) enough for you to make decent choices.</p>
<p>This all assuming you get decent polygons for your areas of interest (as I just read neuhausr's link)</p></div>
<div class="comment-info" id="comment-50365-info">
<span class="comment-age">(22 Jun '16, 07:28)</span>
<a class="comment-user userinfo" href="/users/10142/joost-schouppe">joost schouppe</a>
</div>
</div>
<a name="50374"></a>
<div class="comment" id="comment-50374">
<div class="comment-score" id="post-50374-score"></div>
<div class="comment-text"><p>How can I do it using the API? Determine the primary type of an area\zipcode?</p></div>
<div class="comment-info" id="comment-50374-info">
<span class="comment-age">(22 Jun '16, 09:32)</span>
<a class="comment-user userinfo" href="/users/12441/owen32">Owen32</a>
</div>
</div>
<a name="50375"></a>
<div class="comment" id="comment-50375">
<div class="comment-score" id="post-50375-score">2</div>
<div class="comment-text"><p>The most userfriendly is overpass-turbo. See this example: <a href="http://overpass-turbo.eu/s/gV0">http://overpass-turbo.eu/s/gV0</a> . You can export the data as well as the query. It is possible to have Overpass geocode an area in stead of using a bounding box. You can learn more about the Overpass API on the <a href="http://wiki.openstreetmap.org/wiki/Overpass_API">wiki</a> and find many related questions on this forum.</p></div>
<div class="comment-info" id="comment-50375-info">
<span class="comment-age">(22 Jun '16, 09:55)</span>
<a class="comment-user userinfo" href="/users/10142/joost-schouppe">joost schouppe</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-50354">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-50354-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/50351/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="hZDxg1DN4WAV5KMJFSltw4zGm5Me2pG9"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>