<meta charset="utf-8"/><link href="../style.css" rel="stylesheet" type="text/css"/><div id="CALeft"><center><a href="../"><img id="ll" src="https://help.openstreetmap.org/upfiles/osm_help_logo_6.png"/></a></center>
<div class="headNormal">
<h1><a href="/questions/56662/moving-forward-based-on-switch2osm-for-the-last-step-viewing-tiles">Moving forward based on switch2osm for the last step Viewing tiles</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/56662/up/" id="post-56662-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-56662-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/56662/down/" id="post-56662-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/56662/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>hi all,
       I had at last installed ubuntu 16.04 and based on these steps from this link <a href="https://switch2osm.org/manually-building-a-tile-server-16-04-2-lts/">https://switch2osm.org/manually-building-a-tile-server-16-04-2-lts/</a> all is working as per the link thank you for the author. I have few queries.</p>
<ol>
<li>How to further harden this ubuntu machine and in future there is update should I update or will it break my maps?</li>
<li>How to add more country map ? What will need to be updated I mean the steps?</li>
<li>In future when there is updates for the countries which I have included how to updated them?</li>
<li>I am stucked at this step Viewing tiles.I dont get it how to test this ? I dont get this steps We’ll add “<a href="http://tile-a.openstreetmap.fr/hot/”">http://tile-a.openstreetmap.fr/hot/”</a> as “From” and “<a href="http://yourserveripaddress/hot/”">http://yourserveripaddress/hot/”</a> as “To”, and do the same also for “tile-b” and “tile-c”.</li>
<li>How to make the openstreet map look like how the mapbox map is?</li>
</ol>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-openstreetmap" href="/tags/openstreetmap/" rel="tag" title="see questions tagged 'openstreetmap'">openstreetmap</a>
<a class="post-tag tag-link-stylesheet" href="/tags/stylesheet/" rel="tag" title="see questions tagged 'stylesheet'">stylesheet</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>18 Jun '17, 16:18</strong>
</p>
<img alt="newbie14's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/26750873415fcbe30ebf2fdeab499d99?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/13794/newbie14">newbie14</a><br/>
<span class="score" title="31 reputation points">31</span><span title="9 badges"><span class="badge1">●</span><span class="badgecount">9</span></span><span title="9 badges"><span class="silver">●</span><span class="badgecount">9</span></span><span title="12 badges"><span class="bronze">●</span><span class="badgecount">12</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="newbie14 has no accepted answers">0%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-56662">
</div>
<div class="comment-tools" id="comment-tools-56662">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-56662-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    One Answer:
                    </div>
<div class="tabsA"><a href="/questions/56662/moving-forward-based-on-switch2osm-for-the-last-step-viewing-tiles?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/56662/moving-forward-based-on-switch2osm-for-the-last-step-viewing-tiles?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/56662/moving-forward-based-on-switch2osm-for-the-last-step-viewing-tiles?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/56662/moving-forward-based-on-switch2osm-for-the-last-step-viewing-tiles?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="56663"></a>
<div class="answer" id="answer-container-56663">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/56663/up/" id="post-56663-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-56663-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/56663/down/" id="post-56663-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>Taking these one at a time:</p>
<p><strong>How to further harden this ubuntu machine and in future there is update should I update or will it break my maps?</strong></p>
<p>You shouldn't have a problem applying regular Ubuntu 16.04 LTS updates.  Upgrading to 18.04 LTS (which I guess will be out early 2018) would cause a problem, as I believe that some of the stuff in the repositories used by those instructions needs updating before then.  That's a year away though and will be fixed by then.</p>
<p>Whether other stuff that you may want to do to "harden" the server will break things rather depends on what you're actually doing.</p>
<p><strong>How to add more country map ? What will need to be updated I mean the steps?</strong></p>
<p>It'll likely be fastest to combine the data that you want to load into one file and then run "osm2pgsql" again with the "create" argument.</p>
<p><strong>In future when there is updates for the countries which I have included how to updated them?</strong></p>
<p>I described what you'd need to do to do that <a href="https://wiki.openstreetmap.org/wiki/User:SomeoneElse/Ubuntu_1604_tileserver_load#Updating_your_database_as_people_edit_OpenStreetMap">here</a>.  I didn't include that in the main "switch2osm" article to avoid confusing people too much.</p>
<p><strong>I am stucked at this step Viewing tiles.I dont get it how to test this ?</strong> </p>
<p>This is talking about using the "switcheroo" browser extension within the Chrome or Chromium browser.  If a link such as <a href="http://yourserveripaddress/hot/0/0/0.png">http://yourserveripaddress/hot/0/0/0.png</a> works then perhaps we need to explain a bit more about installing switcheroo and configuring it (once installed you have to click on the "S" that appears to the right of the addreess bar - hopefully things become more clear then).</p>
<p><strong>How to make the openstreet map look like how the mapbox map is?</strong></p>
<p>One question that immediately springs to mind is "which Mapbox map?".  They have lots of different map styles.  Of those styles that are publically available you'd need to check the licence file such as <a href="https://github.com/mapbox/osm-bright/blob/master/LICENSE.txt">here</a> for OSM Bright to see what you're allowed to do with it.  Also some more recent Mapbox styles are designed for use with Mapbox studio rather than the tools described in the switch2osm guide.  Another issue is that Mapbox may not be happy about you copying the map style that you are interested in (see <a href="https://github.com/osm2vectortiles/osm2vectortiles/issues/387">here</a> for such an issue in another map style).  With any style if the licence file isn't clear enough, you'll want to check with the style's authors that it's OK to copy in this way.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/56663/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>18 Jun '17, 17:27</strong>
</p>
<img alt="SomeoneElse's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/0bf1aa22f7f5e045b0eb8beb79fe7907?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/387/someoneelse">SomeoneElse ♦</a><br/>
<span class="score" title="36866 reputation points"><span class="">36.9k</span></span><span title="71 badges"><span class="badge1">●</span><span class="badgecount">71</span></span><span title="370 badges"><span class="silver">●</span><span class="badgecount">370</span></span><span title="866 badges"><span class="bronze">●</span><span class="badgecount">866</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="SomeoneElse has 228 accepted answers">16%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-56663">
<a name="56664"></a>
<div class="comment" id="comment-56664">
<div class="comment-score" id="post-56664-score"></div>
<div class="comment-text"><p><a href="https://help.openstreetmap.org/users/387/someoneelse">@SomeoneElse</a> 1) I plant to use this server purely to server map and nonamtim for reverse geo code. So what hardenning can I do any tips?</p></div>
<div class="comment-info" id="comment-56664-info">
<span class="comment-age">(18 Jun '17, 18:05)</span>
<a class="comment-user userinfo" href="/users/13794/newbie14">newbie14</a>
</div>
</div>
<a name="56665"></a>
<div class="comment" id="comment-56665">
<div class="comment-score" id="post-56665-score"></div>
<div class="comment-text"><p><a href="https://help.openstreetmap.org/users/387/someoneelse">@SomeoneElse</a>  2) I am not clear how to combine the data say I want to do for thailand and malaysia now. But now I have only loaded for malaysia?</p></div>
<div class="comment-info" id="comment-56665-info">
<span class="comment-age">(18 Jun '17, 18:06)</span>
<a class="comment-user userinfo" href="/users/13794/newbie14">newbie14</a>
</div>
</div>
<a name="56666"></a>
<div class="comment" id="comment-56666">
<div class="comment-score" id="post-56666-score"></div>
<div class="comment-text"><p><a href="https://help.openstreetmap.org/users/387/someoneelse">@SomeoneElse</a>  3) I am not clear on the osmosis? I know you trying to run a crontab or maybe if I want to do manually is it possible too?</p></div>
<div class="comment-info" id="comment-56666-info">
<span class="comment-age">(18 Jun '17, 18:09)</span>
<a class="comment-user userinfo" href="/users/13794/newbie14">newbie14</a>
</div>
</div>
<a name="56667"></a>
<div class="comment" id="comment-56667">
<div class="comment-score" id="post-56667-score"></div>
<div class="comment-text"><p><a href="https://help.openstreetmap.org/users/387/someoneelse">@SomeoneElse</a>  4) Can I straight move to open layers rather than doing this chrome extension?</p></div>
<div class="comment-info" id="comment-56667-info">
<span class="comment-age">(18 Jun '17, 18:10)</span>
<a class="comment-user userinfo" href="/users/13794/newbie14">newbie14</a>
</div>
</div>
<a name="56668"></a>
<div class="comment" id="comment-56668">
<div class="comment-score" id="post-56668-score"></div>
<div class="comment-text"><p><a href="https://help.openstreetmap.org/users/387/someoneelse">@SomeoneElse</a>  5) Yes I want to use osm brigh but is that permissible to use or only map box not so clear on the terms there. I saw you did before for 14.04 here is the link <a href="https://switch2osm.org/serving-tiles/manually-building-a-tile-server-14-04/">https://switch2osm.org/serving-tiles/manually-building-a-tile-server-14-04/</a></p></div>
<div class="comment-info" id="comment-56668-info">
<span class="comment-age">(18 Jun '17, 18:13)</span>
<a class="comment-user userinfo" href="/users/13794/newbie14">newbie14</a>
</div>
</div>
<a name="56670"></a>
<div class="comment not_top_scorer" id="comment-56670">
<div class="comment-score" id="post-56670-score"></div>
<div class="comment-text"><p>1) Not sure - someone else may be able to answer that more comprehensively</p>
<p>2) The best current suggestion for that is probably <a href="https://wiki.openstreetmap.org/wiki/Osmium">https://wiki.openstreetmap.org/wiki/Osmium</a> .  Also see <a href="https://help.openstreetmap.org/questions/5389/merging-2-countries-with-osm2pgsql">https://help.openstreetmap.org/questions/5389/merging-2-countries-with-osm2pgsql</a> and <a href="https://help.openstreetmap.org/questions/19904/merging-osm-files-with-osmosis-and-import-to-postgres-with-osm2pgsql">https://help.openstreetmap.org/questions/19904/merging-osm-files-with-osmosis-and-import-to-postgres-with-osm2pgsql</a> .  </p>
<p>3) Yes, you can do it manually every now and again, but if the data's significantly out of date it'll be quicker to reload rather than update.</p>
<p>4) Absolutely (or use Leaflet, which a lot of people find easier than OpenLayers).  </p>
<p>5) There shouldn't be a problem with <a href="https://github.com/mapbox/osm-bright/">https://github.com/mapbox/osm-bright/</a> .  Do be aware that it hasn't been updated for a year.  I'd expect you'll have to solve a few problems as you go, if data that it uses has changed.  Also there are a few issues with that style (such as everything with a name tag being rendered) that don't exist with some other styles.</p></div>
<div class="comment-info" id="comment-56670-info">
<span class="comment-age">(18 Jun '17, 18:43)</span>
<a class="comment-user userinfo" href="/users/387/someoneelse">SomeoneElse ♦</a>
</div>
</div>
<a name="56698"></a>
<div class="comment not_top_scorer" id="comment-56698">
<div class="comment-score" id="post-56698-score"></div>
<div class="comment-text"><p>1) Ok I will find myself on the hardening
2) I read a lot it say download osmium? The merging part I am not too sure what is the correct method many answer are with different option. So can you tell me what is the exact method?
3) I am wondering say I have run this command and again I run osm2pgsql -d gis --create --slim  -G --hstore --tag-transform-script ~/src/openstreetmap-carto/openstreetmap-carto.lua -C 2500 --number-processes 1 -S ~/src/openstreetmap-carto/openstreetmap-carto.style ~/data/azerbaijan-latest.osm.pbf what will happened to existing data ? Will that wiped off?
I am also not sure how to rerun updates manually?
4) I am exploring both leaflet and openlayer but people saying openlayers have more features.
5) Is there any other good style sheet which you will recommend or go with the default version?</p></div>
<div class="comment-info" id="comment-56698-info">
<span class="comment-age">(20 Jun '17, 16:39)</span>
<a class="comment-user userinfo" href="/users/13794/newbie14">newbie14</a>
</div>
</div>
<a name="56704"></a>
<div class="comment not_top_scorer" id="comment-56704">
<div class="comment-score" id="post-56704-score"></div>
<div class="comment-text"><p>(answering the easy ones first)</p>
<p>3) That'll remove all data from the database and re-add the data in the file that you supply, in your example "azerbaijan-latest.osm.pbf".  The answer to "how to apply updates manually" depends on how long between manual updates you plan to leave it.  If you just want to catch up a day or so, then the example already mentioned at <a href="https://wiki.openstreetmap.org/wiki/User:SomeoneElse/Ubuntu_1604_tileserver_load#Updating_your_database_as_people_edit_OpenStreetMap">https://wiki.openstreetmap.org/wiki/User:SomeoneElse/Ubuntu_1604_tileserver_load#Updating_your_database_as_people_edit_OpenStreetMap</a> should work.  If much longer, then I'll be quicker to reload the database than apply updates.</p>
<p>4) I think you'll find Leaflet easier.</p>
<p>5) It depends on what features you are particularly interested in showing and where in the world you are.  The default OSM style is a compromise designed to work everywhere, but something else might be better for you.  OSM Bright is relatively easy to modify, but you might need to fix a few minor issues to get it working as it hasn't been touched for a while.</p></div>
<div class="comment-info" id="comment-56704-info">
<span class="comment-age">(21 Jun '17, 09:59)</span>
<a class="comment-user userinfo" href="/users/387/someoneelse">SomeoneElse ♦</a>
</div>
</div>
<a name="56705"></a>
<div class="comment not_top_scorer" id="comment-56705">
<div class="comment-score" id="post-56705-score"></div>
<div class="comment-text"><p>2) For the merging which is the correct method to do ? I see many different google links a bit lost there.</p>
<p>3) Maybe I dont need to catch in a day or so for now. I will do manual right. What do you mean by quicket to reload the database meaning the manual way right. Another thing is that when I do the manual update is this the only step needed or any other steps need to be executed?</p>
<p>5) So which style do you recommend which does not compromise anything? I am sorry very new to all this. I also even leaflet and open layers have .css what is thay css does?</p></div>
<div class="comment-info" id="comment-56705-info">
<span class="comment-age">(21 Jun '17, 10:06)</span>
<a class="comment-user userinfo" href="/users/13794/newbie14">newbie14</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-56663">
<span class="comments-showing">
            showing 5 of 9
        </span>
<a class="show-all-comments-link" href="#">show 4 more comments</a>
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-56663-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/56662/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="3RieXEiTRR4g00hv3K0AzyTvP1PozUAO"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>