<meta charset="utf-8"/><link href="../style.css" rel="stylesheet" type="text/css"/><div id="CALeft"><center><a href="../"><img id="ll" src="https://help.openstreetmap.org/upfiles/osm_help_logo_6.png"/></a></center>
<div class="headNormal">
<h1><a href="/questions/47692/how-to-import-india-and-gcc-states-data-in-local-osm-server-using-osm2pgsql">How to import India and GCC States data in local OSM server using osm2pgsql?</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/47692/up/" id="post-47692-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-47692-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/47692/down/" id="post-47692-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/47692/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>Hi,</p>
<p>How to import India and GCC States data in local OSM server using osm2pgsql?</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-import" href="/tags/import/" rel="tag" title="see questions tagged 'import'">import</a>
<a class="post-tag tag-link-data" href="/tags/data/" rel="tag" title="see questions tagged 'data'">data</a>
<a class="post-tag tag-link-two" href="/tags/two/" rel="tag" title="see questions tagged 'two'">two</a>
<a class="post-tag tag-link-for" href="/tags/for/" rel="tag" title="see questions tagged 'for'">for</a>
<a class="post-tag tag-link-countries" href="/tags/countries/" rel="tag" title="see questions tagged 'countries'">countries</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>28 Jan '16, 08:52</strong>
</p>
<img alt="Reshma%20Maner's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/1a9eea008bc0c9a26985aa042d9b8ac2?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/2196/reshma-maner">Reshma Maner</a><br/>
<span class="score" title="235 reputation points">235</span><span title="30 badges"><span class="badge1">●</span><span class="badgecount">30</span></span><span title="31 badges"><span class="silver">●</span><span class="badgecount">31</span></span><span title="36 badges"><span class="bronze">●</span><span class="badgecount">36</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Reshma Maner has no accepted answers">0%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-47692">
<a name="47693"></a>
<div class="comment" id="comment-47693">
<div class="comment-score" id="post-47693-score"></div>
<div class="comment-text"><p>Could you explain what GCC States is? Is it Gulf Cooperation Council States?</p></div>
<div class="comment-info" id="comment-47693-info">
<span class="comment-age">(28 Jan '16, 08:53)</span>
<a class="comment-user userinfo" href="/users/30/rorym">rorym</a>
</div>
</div>
<a name="47696"></a>
<div class="comment" id="comment-47696">
<div class="comment-score" id="post-47696-score"></div>
<div class="comment-text"><p>Yes. It is Gulf Cooperation Council States</p></div>
<div class="comment-info" id="comment-47696-info">
<span class="comment-age">(28 Jan '16, 08:57)</span>
<a class="comment-user userinfo" href="/users/2196/reshma-maner">Reshma Maner</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-47692">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-47692-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    2 Answers:
                    </div>
<div class="tabsA"><a href="/questions/47692/how-to-import-india-and-gcc-states-data-in-local-osm-server-using-osm2pgsql?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/47692/how-to-import-india-and-gcc-states-data-in-local-osm-server-using-osm2pgsql?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/47692/how-to-import-india-and-gcc-states-data-in-local-osm-server-using-osm2pgsql?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/47692/how-to-import-india-and-gcc-states-data-in-local-osm-server-using-osm2pgsql?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="47737"></a>
<div class="answer" id="answer-container-47737">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/47737/up/" id="post-47737-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-47737-score" title="current number of votes">
    2
</div>
<a class="ajax-command post-vote down" href="/vote/47737/down/" id="post-47737-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>Download both country files &amp; merge them with <a href="http://wiki.openstreetmap.org/wiki/Osmconvert#Merging_two_or_more_Geographical_Areas">osmconvert</a> (easier to use, as has fewer dependencies, but less functional, than Osmosis). Then import using osm2pgsql.</p>
<p>Note that if you want to add additional countries with shared borders you will most likely have to reimport all the data.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/47737/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>29 Jan '16, 14:20</strong>
</p>
<img alt="SK53's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/06cd84075f1adc2870ad102c7233e661?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/647/sk53">SK53 ♦</a><br/>
<span class="score" title="28084 reputation points"><span class="">28.1k</span></span><span title="48 badges"><span class="badge1">●</span><span class="badgecount">48</span></span><span title="268 badges"><span class="silver">●</span><span class="badgecount">268</span></span><span title="433 badges"><span class="bronze">●</span><span class="badgecount">433</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="SK53 has 121 accepted answers">22%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-47737">
<a name="47752"></a>
<div class="comment" id="comment-47752">
<div class="comment-score" id="post-47752-score"></div>
<div class="comment-text"><p>Can I not use osm2pgsql --append option to import the second pbf file?</p></div>
<div class="comment-info" id="comment-47752-info">
<span class="comment-age">(30 Jan '16, 10:25)</span>
<a class="comment-user userinfo" href="/users/2196/reshma-maner">Reshma Maner</a>
</div>
</div>
<a name="47753"></a>
<div class="comment" id="comment-47753">
<div class="comment-score" id="post-47753-score">1</div>
<div class="comment-text"><p>You can try it.  Don't expect it to work at a reasonable speed, though - much faster to merge first and then load.</p>
<p>(or at least it was when I last tried it, and looked at the "append" code in osm2pgsql, around 3 years ago).</p></div>
<div class="comment-info" id="comment-47753-info">
<span class="comment-age">(30 Jan '16, 10:33)</span>
<a class="comment-user userinfo" href="/users/387/someoneelse">SomeoneElse ♦</a>
</div>
</div>
<a name="47778"></a>
<div class="comment" id="comment-47778">
<div class="comment-score" id="post-47778-score"></div>
<div class="comment-text"><p>How to merge .osm.pbf files. If I merge two files with these extensions and pass the merged file to osm2pgsql command, it gives error</p></div>
<div class="comment-info" id="comment-47778-info">
<span class="comment-age">(01 Feb '16, 07:38)</span>
<a class="comment-user userinfo" href="/users/2196/reshma-maner">Reshma Maner</a>
</div>
</div>
<a name="47780"></a>
<div class="comment not_top_scorer" id="comment-47780">
<div class="comment-score" id="post-47780-score"></div>
<div class="comment-text"><p>Which error? And how did you merge them?</p></div>
<div class="comment-info" id="comment-47780-info">
<span class="comment-age">(01 Feb '16, 08:05)</span>
<a class="comment-user userinfo" href="/users/158/scai">scai ♦</a>
</div>
</div>
<a name="47784"></a>
<div class="comment" id="comment-47784">
<div class="comment-score" id="post-47784-score">1</div>
<div class="comment-text"><p>osmconvert india-latest.osm.pbf gcc-states-latest.osm.pbf -o=newmap.osm.pbf
osmconvert Error: more than one .pbf input file is not allowed.</p></div>
<div class="comment-info" id="comment-47784-info">
<span class="comment-age">(01 Feb '16, 09:24)</span>
<a class="comment-user userinfo" href="/users/2196/reshma-maner">Reshma Maner</a>
</div>
</div>
<a name="47810"></a>
<div class="comment not_top_scorer" id="comment-47810">
<div class="comment-score" id="post-47810-score"></div>
<div class="comment-text"><p>Hi,</p>
<p>Can somebody help?</p></div>
<div class="comment-info" id="comment-47810-info">
<span class="comment-age">(02 Feb '16, 09:54)</span>
<a class="comment-user userinfo" href="/users/2196/reshma-maner">Reshma Maner</a>
</div>
</div>
<a name="47811"></a>
<div class="comment not_top_scorer" id="comment-47811">
<div class="comment-score" id="post-47811-score"></div>
<div class="comment-text"><p>Maybe osmconvert can't merge PBF files directly and you have to convert them to another format before. Just a guess.</p></div>
<div class="comment-info" id="comment-47811-info">
<span class="comment-age">(02 Feb '16, 10:07)</span>
<a class="comment-user userinfo" href="/users/158/scai">scai ♦</a>
</div>
</div>
<a name="47812"></a>
<div class="comment not_top_scorer" id="comment-47812">
<div class="comment-score" id="post-47812-score"></div>
<div class="comment-text"><p>I did that too. I first converted both the pbf files to .osm files. Then merged the two .osm files into single one. Then converted back .osm to .osm.pbf.</p>
<p>But osm2pgsql command does not work with such created file.</p></div>
<div class="comment-info" id="comment-47812-info">
<span class="comment-age">(02 Feb '16, 10:19)</span>
<a class="comment-user userinfo" href="/users/2196/reshma-maner">Reshma Maner</a>
</div>
</div>
<a name="47823"></a>
<div class="comment" id="comment-47823">
<div class="comment-score" id="post-47823-score">2</div>
<div class="comment-text"><p>Following steps work for me:</p>
<p>osmconvert gcc-state-latest.osm.pbf --out-o5m &gt;gcc.o5m
osmconvert india-latest.osm.pbf --out-o5m &gt;india.o5m
osmconvert india.o5m gcc.o5m --out-o5m &gt; merged.o5m
osmconvert merged.o5m --out-pbf &gt;merged.pbf
osm2pgsql -U postgres -d osm --host localhost  -S default.style -s -C 500 -k merged.pbf</p>
<p>The discrete conversion of the merged file from o5m to pbf might be doable in one step.</p></div>
<div class="comment-info" id="comment-47823-info">
<span class="comment-age">(02 Feb '16, 19:57)</span>
<a class="comment-user userinfo" href="/users/647/sk53">SK53 ♦</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-47737">
<span class="comments-showing">
            showing 5 of 9
        </span>
<a class="show-all-comments-link" href="#">show 4 more comments</a>
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-47737-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="47694"></a>
<div class="answer" id="answer-container-47694">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/47694/up/" id="post-47694-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-47694-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/47694/down/" id="post-47694-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>You can download the full OSM planet file from planet.openstreetmap.org, and then use <a href="http://wiki.openstreetmap.org/wiki/Osmosis">osmosis</a> to <a href="http://wiki.openstreetmap.org/wiki/Osmosis/Detailed_Usage_0.44#--bounding-polygon_.28--bp.29">clip out the polygon(s) you want</a>. You'll be left with a pbf file which you can import with osm2psql.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/47694/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>28 Jan '16, 08:54</strong>
</p>
<img alt="rorym's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/16e12e337f6edc3750681492656097ed?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/30/rorym">rorym</a><br/>
<span class="score" title="5358 reputation points"><span class="">5.4k</span></span><span title="14 badges"><span class="badge1">●</span><span class="badgecount">14</span></span><span title="49 badges"><span class="silver">●</span><span class="badgecount">49</span></span><span title="100 badges"><span class="bronze">●</span><span class="badgecount">100</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="rorym has 18 accepted answers">11%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/47694/">
                edited
                <strong>28 Jan '16, 08:55</strong>
</a>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-47694">
<a name="47695"></a>
<div class="comment" id="comment-47695">
<div class="comment-score" id="post-47695-score"></div>
<div class="comment-text"><p>Can  I not download two pbf files from geofabrik one for India and one for Gcc states and import both of them?</p>
<p>Do I need to install osmosis? How to do that?</p></div>
<div class="comment-info" id="comment-47695-info">
<span class="comment-age">(28 Jan '16, 08:56)</span>
<a class="comment-user userinfo" href="/users/2196/reshma-maner">Reshma Maner</a>
</div>
</div>
<a name="47697"></a>
<div class="comment" id="comment-47697">
<div class="comment-score" id="post-47697-score">1</div>
<div class="comment-text"><p>The pbf files on Geofabrik don't follow exactly the borders of the respective countries, they simplify and go into the next country by maybe a few hundred metres, or so. Everything in the country is in the pbf file, but so is stuff from the neighbouring country. Hence importing 2 pbfs from countries that border each other will probably display OK for generating tiles, but not be very useful for say OSRM routing. India and GCC states appear to share no border, so that would be less of a problem</p></div>
<div class="comment-info" id="comment-47697-info">
<span class="comment-age">(28 Jan '16, 09:58)</span>
<a class="comment-user userinfo" href="/users/30/rorym">rorym</a>
</div>
</div>
<a name="47698"></a>
<div class="comment" id="comment-47698">
<div class="comment-score" id="post-47698-score"></div>
<div class="comment-text"><p>You can download osmosis here <a href="http://wiki.openstreetmap.org/wiki/Osmosis#Downloading">http://wiki.openstreetmap.org/wiki/Osmosis#Downloading</a></p></div>
<div class="comment-info" id="comment-47698-info">
<span class="comment-age">(28 Jan '16, 09:58)</span>
<a class="comment-user userinfo" href="/users/30/rorym">rorym</a>
</div>
</div>
<a name="47755"></a>
<div class="comment" id="comment-47755">
<div class="comment-score" id="post-47755-score"></div>
<div class="comment-text"><p><a href="http://extract.bbbike.org">http://extract.bbbike.org</a> offers extracts of self defined areas in one file but there is a size limit</p></div>
<div class="comment-info" id="comment-47755-info">
<span class="comment-age">(30 Jan '16, 11:42)</span>
<a class="comment-user userinfo" href="/users/7380/nevw">nevw</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-47694">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-47694-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/47692/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="LH5nVzHCvls13ktM0SqQwPGWrI5RevLl"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>