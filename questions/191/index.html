<meta charset="utf-8"/><link href="../style.css" rel="stylesheet" type="text/css"/><div id="CALeft"><center><a href="../"><img id="ll" src="https://help.openstreetmap.org/upfiles/osm_help_logo_6.png"/></a></center>
<div class="headNormal">
<h1><a href="/questions/191/how-does-the-creation-of-the-planet-dump-work">How does the creation of the Planet dump work?</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/191/up/" id="post-191-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-191-score" title="current number of votes">
    1
</div>
<a class="ajax-command post-vote down" href="/vote/191/down/" id="post-191-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/191/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>There is a weekly database dump called Planet.osm. How is it created?</p>
<p>The answer could include details like former anonymous edits, referential integrity, etc.</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-planet" href="/tags/planet/" rel="tag" title="see questions tagged 'planet'">planet</a>
<a class="post-tag tag-link-technical" href="/tags/technical/" rel="tag" title="see questions tagged 'technical'">technical</a>
<a class="post-tag tag-link-data" href="/tags/data/" rel="tag" title="see questions tagged 'data'">data</a>
<a class="post-tag tag-link-dump" href="/tags/dump/" rel="tag" title="see questions tagged 'dump'">dump</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>14 Jul '10, 15:49</strong>
</p>
<img alt="emka's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/5c9aa062fed08c7962c88bd21cc62f93?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/18/emka">emka</a><br/>
<span class="score" title="95 reputation points">95</span><span title="2 badges"><span class="badge1">●</span><span class="badgecount">2</span></span><span title="2 badges"><span class="silver">●</span><span class="badgecount">2</span></span><span title="5 badges"><span class="bronze">●</span><span class="badgecount">5</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="emka has no accepted answers">0%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/191/">
                retagged
                <strong>14 Jul '10, 16:28</strong>
</a>
</p>
<img alt="petschge's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/465f344e31e8ba1be0e0401414815db0?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/8/petschge">petschge</a><br/>
<span class="score" title="8279 reputation points"><span class="">8.3k</span></span><span title="21 badges"><span class="badge1">●</span><span class="badgecount">21</span></span><span title="73 badges"><span class="silver">●</span><span class="badgecount">73</span></span><span title="98 badges"><span class="bronze">●</span><span class="badgecount">98</span></span></p>
</div>
</div>
<div class="comments-container" id="comments-container-191">
</div>
<div class="comment-tools" id="comment-tools-191">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-191-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    2 Answers:
                    </div>
<div class="tabsA"><a href="/questions/191/how-does-the-creation-of-the-planet-dump-work?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/191/how-does-the-creation-of-the-planet-dump-work?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/191/how-does-the-creation-of-the-planet-dump-work?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/191/how-does-the-creation-of-the-planet-dump-work?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="196"></a>
<div class="answer accepted-answer" id="answer-container-196">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/196/up/" id="post-196-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-196-score" title="current number of votes">
    2
</div>
<a class="ajax-command post-vote down" href="/vote/196/down/" id="post-196-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="accept-answer on" href="/accept_answer/196/" rel="nofollow" title="emka has selected this answer as the correct answer">
</a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>It's created using a custom C program called planetdump. You can find the source here:</p>
<p><a href="http://trac.openstreetmap.org/browser/applications/utils/planet.osm/C"></a><a href="http://trac.openstreetmap.org/browser/applications/utils/planet.osm/C"></a><a href="http://trac.openstreetmap.org/browser/applications/utils/planet.osm/C">http://trac.openstreetmap.org/browser/applications/utils/planet.osm/C</a></p>
<p>It runs inside a transaction so should provide a snapshot and have the same level of referential integrity as the database.</p>
<p>There is no such thing as a "former anonymous edit" as far as I know. Any user whose edits are public will be identified in the dump and any user whose edits are not public will not be identified.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/196/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>14 Jul '10, 16:26</strong>
</p>
<img alt="TomH's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/dee41dcf0aa0c08cf6b0eb935b7504b7?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/1/tomh">TomH ♦♦</a><br/>
<span class="score" title="3325 reputation points"><span class="">3.3k</span></span><span title="8 badges"><span class="badge1">●</span><span class="badgecount">8</span></span><span title="39 badges"><span class="silver">●</span><span class="badgecount">39</span></span><span title="43 badges"><span class="bronze">●</span><span class="badgecount">43</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="TomH has 9 accepted answers">20%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-196">
</div>
<div class="comment-tools" id="comment-tools-196">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-196-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="198"></a>
<div class="answer" id="answer-container-198">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/198/up/" id="post-198-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-198-score" title="current number of votes">
    4
</div>
<a class="ajax-command post-vote down" href="/vote/198/down/" id="post-198-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>The planet dump is created by running the <a href="http://svn.openstreetmap.org/applications/utils/planet.osm/C/">planet dump program</a> against the OpenStreetMap database. The run is started at 1:11am UK local time, and the exact time is available in the timestamp attribute of the &lt;osm&gt; element at the beginning of the file. Planet files are compressed with <a href="http://compression.ca/pbzip2/">pbzip2</a>, which makes them unsuitable for some decompressors, notably the Java native bzip2 implementation.</p>
<p>Planet files may contain ways which reference nodes which have been deleted, or relations which reference members which have been deleted. In planet files generated since March 2010 this is due to errors in the database, not with the dump process, and these errors can be found and fixed. In planet files generated before March 2010 this is due to the dump process not being run in a sufficiently isolated transaction.</p>
<p>Planet files are in the standard <a href="http://wiki.openstreetmap.org/wiki/.osm">OSM XML format</a>, and only contain visible (not deleted) elements. Anonymous edits are present, but lacking the uid and user attributes.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/198/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>14 Jul '10, 16:34</strong>
</p>
<img alt="Matt's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/d53ec2d1ec832fdf10f72222db4fa710?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/109/matt">Matt</a><br/>
<span class="score" title="1161 reputation points"><span class="">1.2k</span></span><span title="10 badges"><span class="badge1">●</span><span class="badgecount">10</span></span><span title="18 badges"><span class="silver">●</span><span class="badgecount">18</span></span><span title="18 badges"><span class="bronze">●</span><span class="badgecount">18</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Matt has one accepted answer">33%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-198">
</div>
<div class="comment-tools" id="comment-tools-198">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-198-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/191/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="NwayHVWkr63u7NZMf7Z7skojZsJE6Fjo"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>