<meta charset="utf-8"/><link href="../style.css" rel="stylesheet" type="text/css"/><div id="CALeft"><center><a href="../"><img id="ll" src="https://help.openstreetmap.org/upfiles/osm_help_logo_6.png"/></a></center>
<div class="headNormal">
<h1><a href="/questions/21377/help-me-understand-warning-messages-for-relation-id2871705">Help me understand warning messages for relation id=2871705</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/21377/up/" id="post-21377-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-21377-score" title="current number of votes">
    1
</div>
<a class="ajax-command post-vote down" href="/vote/21377/down/" id="post-21377-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/21377/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>Using JOSM I have just added a high school having two open atria, areas that have no roof and are surrounded by building. I used a multi-polygon with role "outer" to describe the outer building and two multi-polygons with roles "inner" to describe the enclosed open areas.</p>
<p>When I upload the data to OSM I get assorted warnings about the multipolygons. It is <a href="http://www.openstreetmap.org/browse/relation/2871705">relation id 2871705</a>. Can anyone help explain what's going on?</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-josm" href="/tags/josm/" rel="tag" title="see questions tagged 'josm'">josm</a>
<a class="post-tag tag-link-multipolygon" href="/tags/multipolygon/" rel="tag" title="see questions tagged 'multipolygon'">multipolygon</a>
<a class="post-tag tag-link-relations" href="/tags/relations/" rel="tag" title="see questions tagged 'relations'">relations</a>
<a class="post-tag tag-link-warnings" href="/tags/warnings/" rel="tag" title="see questions tagged 'warnings'">warnings</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>10 Apr '13, 21:59</strong>
</p>
<img alt="AlaskaDave's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/04dddf6f5ffde333747d385af3ce5829?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/5016/alaskadave">AlaskaDave</a><br/>
<span class="score" title="5415 reputation points"><span class="">5.4k</span></span><span title="76 badges"><span class="badge1">●</span><span class="badgecount">76</span></span><span title="107 badges"><span class="silver">●</span><span class="badgecount">107</span></span><span title="164 badges"><span class="bronze">●</span><span class="badgecount">164</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="AlaskaDave has 17 accepted answers">16%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/21377/">
                edited
                <strong>11 Apr '13, 09:48</strong>
</a>
</p>
<img alt="gormo's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/806d5a652505590a9eba797ad5bea8db?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/4653/gormo">gormo</a><br/>
<span class="score" title="2928 reputation points"><span class="">2.9k</span></span><span title="3 badges"><span class="badge1">●</span><span class="badgecount">3</span></span><span title="26 badges"><span class="silver">●</span><span class="badgecount">26</span></span><span title="60 badges"><span class="bronze">●</span><span class="badgecount">60</span></span></p>
</div>
</div>
<div class="comments-container" id="comments-container-21377">
</div>
<div class="comment-tools" id="comment-tools-21377">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-21377-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    3 Answers:
                    </div>
<div class="tabsA"><a href="/questions/21377/help-me-understand-warning-messages-for-relation-id2871705?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/21377/help-me-understand-warning-messages-for-relation-id2871705?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/21377/help-me-understand-warning-messages-for-relation-id2871705?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/21377/help-me-understand-warning-messages-for-relation-id2871705?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="21381"></a>
<div class="answer" id="answer-container-21381">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/21381/up/" id="post-21381-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-21381-score" title="current number of votes">
    3
</div>
<a class="ajax-command post-vote down" href="/vote/21381/down/" id="post-21381-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>I'm not sure what warnings you are getting, but you might want to move all the tags from the outer way to the relation. Think of the relation as describing the area you are mapping, so have the tags for what you are mapping on the relation. Think of the members of the relation with roles outer as describing the extent of the area and those with roles inner as describing any holes - those members don't need their own tags.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/21381/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>11 Apr '13, 01:29</strong>
</p>
<img alt="EdLoach's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/f25a8392e12ed696b16554b3d08e4e2b?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/339/edloach">EdLoach ♦</a><br/>
<span class="score" title="19478 reputation points"><span class="">19.5k</span></span><span title="16 badges"><span class="badge1">●</span><span class="badgecount">16</span></span><span title="156 badges"><span class="silver">●</span><span class="badgecount">156</span></span><span title="280 badges"><span class="bronze">●</span><span class="badgecount">280</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="EdLoach has 93 accepted answers">22%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-21381">
</div>
<div class="comment-tools" id="comment-tools-21381">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-21381-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="21382"></a>
<div class="answer" id="answer-container-21382">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/21382/up/" id="post-21382-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-21382-score" title="current number of votes">
    3
</div>
<a class="ajax-command post-vote down" href="/vote/21382/down/" id="post-21382-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>The main problem seems to be you have added an extra multipolygon relation in the same changeset, see <a href="http://www.openstreetmap.org/browse/relation/2871704">relation 2871704</a></p>
<p>This only has a single inner member, so it doesn't make much sense, which is why JOSM has a warning. The other multipolygon (2871705) seems to be fine. So just delete relation 2871704, and it should fix the problem.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/21382/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>11 Apr '13, 01:36</strong>
</p>
<img alt="Vclaw's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/aa505c046b1c010e997a7849c6f3dbbe?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/62/vclaw">Vclaw</a><br/>
<span class="score" title="9217 reputation points"><span class="">9.2k</span></span><span title="8 badges"><span class="badge1">●</span><span class="badgecount">8</span></span><span title="95 badges"><span class="silver">●</span><span class="badgecount">95</span></span><span title="141 badges"><span class="bronze">●</span><span class="badgecount">141</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Vclaw has 41 accepted answers">22%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-21382">
<a name="21383"></a>
<div class="comment" id="comment-21383">
<div class="comment-score" id="post-21383-score"></div>
<div class="comment-text"><p>I could see the "extra" relation in Potlatch2 easily but in JOSM it's obscured to the point that it's practically invisible, at least to me. How it got there I'll never know. I fiddled with the 3 multi-polygons in JOSM for 15 minutes, eventually completely redoing everything with no luck. Then I undid everything to return to initial conditions.</p>
<p>Finally, somehow, I did manage to delete 2871704 and after telling JOSM to Ignore the obviously incorrect error messages (empty relation, etc.) referring to 2871704 after it was deleted, the upload proceeded okay. I rearranged the members of the High School polygon so the "children" or inner polygons were below the "parent" or outer polygon. Maybe that did the trick, who knows?</p>
<p>No disrespect to the developers who are IMO pretty fantastic, but I must say the relation editor is one of the most difficult and opaque extensions I've ever used. Also, there seems to be no way to copy the error messages from the Validation window to include with my message. </p>
<p>It want to be able to use JOSM for my OSM work even though its difficult to learn but the sort of things that happened today are very frustrating.</p>
<p>Thanks for the help.</p></div>
<div class="comment-info" id="comment-21383-info">
<span class="comment-age">(11 Apr '13, 04:10)</span>
<a class="comment-user userinfo" href="/users/5016/alaskadave">AlaskaDave</a>
</div>
</div>
<a name="21403"></a>
<div class="comment" id="comment-21403">
<div class="comment-score" id="post-21403-score">1</div>
<div class="comment-text"><p>In JOSM, its probably easiest to switch on the Relations panel (Alt+Shift+R). That should list all of the relations in the area, and you can delete it from there.</p>
<p>Also, for the validation window, you can right-click on one of the warnings, and choose "Zoom to problem", then it should highlight the objects with the problem.</p></div>
<div class="comment-info" id="comment-21403-info">
<span class="comment-age">(11 Apr '13, 12:34)</span>
<a class="comment-user userinfo" href="/users/62/vclaw">Vclaw</a>
</div>
</div>
<a name="21407"></a>
<div class="comment" id="comment-21407">
<div class="comment-score" id="post-21407-score">1</div>
<div class="comment-text"><p>Vclaw - I was using the Relations Editor (see my complaint above) and I know about the Zoom to Error feature but how would one copy the actual text of the arcane error messages to for inclusion in a plea for help?</p></div>
<div class="comment-info" id="comment-21407-info">
<span class="comment-age">(11 Apr '13, 14:34)</span>
<a class="comment-user userinfo" href="/users/5016/alaskadave">AlaskaDave</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-21382">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-21382-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="21387"></a>
<div class="answer" id="answer-container-21387">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/21387/up/" id="post-21387-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-21387-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/21387/down/" id="post-21387-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>Hello, in JOSM I use the Create Multipolygon plugin. It even supports deep nesting, that's holes in holes in holes in holes, (if needed). There's not yet a help file in JOSM for the multipolygon plugin. What you do is construct all your areas, in this case the school and the two holes, tag them as you see fit, or leave the inners as untagged. Select/highlight all the areas to be included in the multipolygon, click Create Multipolygon, tags are correctly placed. When there are nested areas the inners and outers sometimes get mixed up so you have to open the relation editor rearrange/rename the inner and outer areas as necessary. 
I've found this method greatly reduces the number of problems I get when making multipolygons.
Regards</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/21387/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>11 Apr '13, 08:16</strong>
</p>
<img alt="BCNorwich's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/e3283a6b5f83e16214ec39a1478f64f0?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/2925/bcnorwich">BCNorwich</a><br/>
<span class="score" title="6299 reputation points"><span class="">6.3k</span></span><span title="5 badges"><span class="badge1">●</span><span class="badgecount">5</span></span><span title="44 badges"><span class="silver">●</span><span class="badgecount">44</span></span><span title="89 badges"><span class="bronze">●</span><span class="badgecount">89</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="BCNorwich has 44 accepted answers">20%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/21387/">
                edited
                <strong>11 Apr '13, 08:18</strong>
</a>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-21387">
<a name="21408"></a>
<div class="comment" id="comment-21408">
<div class="comment-score" id="post-21408-score"></div>
<div class="comment-text"><p>I'll try the Create Multipolygon extension. I did manage to map another school having two holes with the Relation Editor but this time I did it step by step, adding each inner polygon after creating the outer one and then putting the inners below the containing outer.
I'm good for now - thanks again.</p></div>
<div class="comment-info" id="comment-21408-info">
<span class="comment-age">(11 Apr '13, 15:17)</span>
<a class="comment-user userinfo" href="/users/5016/alaskadave">AlaskaDave</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-21387">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-21387-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/21377/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="UttA5y61YsZfV4vrrmv3b5g8tcrEQ5ln"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>