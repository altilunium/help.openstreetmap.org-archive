<meta charset="utf-8"/><link href="../style.css" rel="stylesheet" type="text/css"/><div id="CALeft"><center><a href="../"><img id="ll" src="https://help.openstreetmap.org/upfiles/osm_help_logo_6.png"/></a></center>
<div class="headNormal">
<h1><a href="/questions/26175/find-bus-stops-inside-bounding-box">Find bus stops inside bounding box</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/26175/up/" id="post-26175-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-26175-score" title="current number of votes">
    1
</div>
<a class="ajax-command post-vote down" href="/vote/26175/down/" id="post-26175-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/26175/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
   1
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>I'm building a mobile application. One of the features shows bus stops on a map. When the user zooms in far enough, bus stops should load for the area they are looking at.</p>
<p>I have found part of the API that should help me do this:</p>
<p>/api/0.6/map?bbox=left,bottom,right,top</p>
<p>This should be called every time the user pans around the map so that it loads a fresh set of bus stops for that area. My problem is, when I do this I'm receiving way too much data that is not related to the bus stops. I need to see nodes only by user: NaPTAN (104459). Is there a way I can filter down the results like this? Essentially I need to be loading the bus stops every time the user pans across the map, for this to be productive the bus stops need to have been loaded ideally &gt; 500 milliseconds and &lt; 1 second. It would also probably be better to receive the files in JSON format rather than XML as this will save a chunk of bytes increasing download speed.</p>
<p>If anyone can give me advice on the best way to do this I'd really appreciate it!</p>
<p>Thanks</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-mobile" href="/tags/mobile/" rel="tag" title="see questions tagged 'mobile'">mobile</a>
<a class="post-tag tag-link-bus" href="/tags/bus/" rel="tag" title="see questions tagged 'bus'">bus</a>
<a class="post-tag tag-link-api" href="/tags/api/" rel="tag" title="see questions tagged 'api'">api</a>
<a class="post-tag tag-link-busstops" href="/tags/busstops/" rel="tag" title="see questions tagged 'busstops'">busstops</a>
<a class="post-tag tag-link-bbox" href="/tags/bbox/" rel="tag" title="see questions tagged 'bbox'">bbox</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>07 Sep '13, 13:26</strong>
</p>
<img alt="jskidd3's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/798374ef5cfa2acd48be598c543fdcd3?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/7331/jskidd3">jskidd3</a><br/>
<span class="score" title="46 reputation points">46</span><span title="2 badges"><span class="badge1">●</span><span class="badgecount">2</span></span><span title="2 badges"><span class="silver">●</span><span class="badgecount">2</span></span><span title="5 badges"><span class="bronze">●</span><span class="badgecount">5</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="jskidd3 has no accepted answers">0%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-26175">
</div>
<div class="comment-tools" id="comment-tools-26175">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-26175-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    3 Answers:
                    </div>
<div class="tabsA"><a href="/questions/26175/find-bus-stops-inside-bounding-box?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/26175/find-bus-stops-inside-bounding-box?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/26175/find-bus-stops-inside-bounding-box?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/26175/find-bus-stops-inside-bounding-box?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="26183"></a>
<div class="answer accepted-answer" id="answer-container-26183">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/26183/up/" id="post-26183-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-26183-score" title="current number of votes">
    6
</div>
<a class="ajax-command post-vote down" href="/vote/26183/down/" id="post-26183-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="accept-answer on" href="/accept_answer/26183/" rel="nofollow" title="jskidd3 has selected this answer as the correct answer">
</a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>The <a href="http://wiki.openstreetmap.org/wiki/Overpass_API">Overpass API</a> allows to specify complex filters. It is also faster and more suited than the main API which is actually for editing and not for running bulk queries. Another option is to download the data in advance to store it locally. This way you are completely independent from the API and don't have to comply with the usage policy.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/26183/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>07 Sep '13, 19:39</strong>
</p>
<img alt="scai's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/52d3234f3be58156770e8a91d575bfbd?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/158/scai">scai ♦</a><br/>
<span class="score" title="33317 reputation points"><span class="">33.3k</span></span><span title="21 badges"><span class="badge1">●</span><span class="badgecount">21</span></span><span title="309 badges"><span class="silver">●</span><span class="badgecount">309</span></span><span title="459 badges"><span class="bronze">●</span><span class="badgecount">459</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="scai has 168 accepted answers">23%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-26183">
</div>
<div class="comment-tools" id="comment-tools-26183">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-26183-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="26177"></a>
<div class="answer" id="answer-container-26177">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/26177/up/" id="post-26177-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-26177-score" title="current number of votes">
    3
</div>
<a class="ajax-command post-vote down" href="/vote/26177/down/" id="post-26177-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>you should not use API 0.6 for that, see it's <a href="http://wiki.openstreetmap.org/wiki/API_usage_policy">usage policy</a> - it is intended for editing only, and for such queries. There are alternative ways mentioned on the page, from setting up your own server syncing data with master openstreetmap servers, to using third party services.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/26177/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>07 Sep '13, 17:22</strong>
</p>
<img alt="Matija%20Nalis's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/666391973130e371bf8092f70c43df28?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/6497/matija-nalis">Matija Nalis</a><br/>
<span class="score" title="750 reputation points">750</span><span title="2 badges"><span class="badge1">●</span><span class="badgecount">2</span></span><span title="9 badges"><span class="silver">●</span><span class="badgecount">9</span></span><span title="16 badges"><span class="bronze">●</span><span class="badgecount">16</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Matija Nalis has 2 accepted answers">11%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-26177">
</div>
<div class="comment-tools" id="comment-tools-26177">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-26177-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="26226"></a>
<div class="answer" id="answer-container-26226">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/26226/up/" id="post-26226-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-26226-score" title="current number of votes">
    2
</div>
<a class="ajax-command post-vote down" href="/vote/26226/down/" id="post-26226-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>As already stated Overpass should help you. Have a look how overpass-turbo does it:</p>
<p>If you only need the coordinates:
   <a href="http://overpass-turbo.eu/s/10g">http://overpass-turbo.eu/s/10g</a></p>
<p>If you need more details:
   <a href="http://overpass-turbo.eu/s/10h">http://overpass-turbo.eu/s/10h</a></p>
<p>You will probably have to consider whether you really want to query for each single pan (or if it would be better to query a bigger bbox and only requery if the user leaves the bbox).</p>
<p>/al</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/26226/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>09 Sep '13, 11:31</strong>
</p>
<img alt="_al's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/5501080a7333d6383d6c545f076eaeba?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/507/_al">_al</a><br/>
<span class="score" title="860 reputation points">860</span><span title="2 badges"><span class="badge1">●</span><span class="badgecount">2</span></span><span title="10 badges"><span class="silver">●</span><span class="badgecount">10</span></span><span title="18 badges"><span class="bronze">●</span><span class="badgecount">18</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="_al has one accepted answer">4%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-26226">
</div>
<div class="comment-tools" id="comment-tools-26226">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-26226-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/26175/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="QCjkfUQU48oEq6x1c0FDO0S26onzV80c"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>