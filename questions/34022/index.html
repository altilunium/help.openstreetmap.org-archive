<meta charset="utf-8"/><link href="../style.css" rel="stylesheet" type="text/css"/><div id="CALeft"><center><a href="../"><img id="ll" src="https://help.openstreetmap.org/upfiles/osm_help_logo_6.png"/></a></center>
<div class="headNormal">
<h1><a href="/questions/34022/files-was-unexpected-at-this-time-osmosis">Files was unexpected at this time. [osmosis]</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/34022/up/" id="post-34022-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-34022-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/34022/down/" id="post-34022-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/34022/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p><em>Hi All,
I'm totally new in OpenStreetMap forum. I need to do one, probably simple filtering operation in Osmosis but I'm getting this message "Files was unexpected at this time."
I'm using windows 8.1 and Java 1.7. First I installed Java 32bit but after restarting computer  osmosis it didn't run. I downloaded and install Java 64 bit and after running osmosis I was able to see loading script but it looks incomplete.</em> <br/>
</p>
<p><em>I specified path to IF</em> "%JAVACMD%"=="" set JAVACMD="C:\Program Files (x86)\Java\jre7\bin\java"  but after running this line: osmosis --read-xml highways.osm --tf accept-w
ays highway=* --used-node --write-xml highwaysdone.osm</p>
<p><em>but i got this message:</em>
C:\Users\adam.roborelanium\Desktop&gt;"C:\Program Files (x86)\OSMOSIS\bin\osmosis.b
at"
Files was unexpected at this time.</p>
<p><em>here's all log copy.</em></p>
<pre><code>C:\Users\adam.roborelanium\Desktop&gt;"C:\Program Files (x86)\OSMOSIS\bin\osmosis.b
at"
cze 17, 2014 2:00:13 PM org.openstreetmap.osmosis.core.Osmosis run
INFO: Osmosis Version 0.43.1
cze 17, 2014 2:00:13 PM org.java.plugin.registry.xml.ManifestParser &lt;init&gt;
INFO: got SAX parser factory - org.apache.xerces.jaxp.SAXParserFactoryImpl@13d72
54
cze 17, 2014 2:00:13 PM org.java.plugin.registry.xml.PluginRegistryImpl configur
e
INFO: configured, stopOnError=false, isValidating=true
cze 17, 2014 2:00:14 PM org.java.plugin.registry.xml.PluginRegistryImpl register

INFO: plug-in and fragment descriptors registered - 1
cze 17, 2014 2:00:14 PM org.java.plugin.standard.StandardPluginManager activateP
lugin
INFO: plug-in started - org.openstreetmap.osmosis.core.plugin.Core@0.0.0.42-6-gf
39a160-dirty
cze 17, 2014 2:00:14 PM org.openstreetmap.osmosis.core.Osmosis run
INFO: Preparing pipeline.
cze 17, 2014 2:00:14 PM org.openstreetmap.osmosis.core.Osmosis run
INFO: Launching pipeline execution.
cze 17, 2014 2:00:14 PM org.openstreetmap.osmosis.core.Osmosis run
INFO: Pipeline executing, waiting for completion.
cze 17, 2014 2:00:14 PM org.openstreetmap.osmosis.core.Osmosis run
INFO: Pipeline complete.
cze 17, 2014 2:00:14 PM org.openstreetmap.osmosis.core.Osmosis run
INFO: Total execution time: 697 milliseconds.

C:\Users\adam.roborelanium\Desktop&gt;osmosis --read-xml highways.osm --tf accept-w
ays highway=* --used-node --write-xml highwaysdone.osm

C:\Users\adam.roborelanium\Desktop&gt;"C:\Program Files (x86)\OSMOSIS\bin\osmosis.b
at"
Files was unexpected at this time.

C:\Users\adam.roborelanium\Desktop&gt;
</code></pre>
<p><em>Any idea, what can cause a problem ?
ps.
I put double quotes before and after %JAVACMD% but then osmosis doesn't want to start at all.
Thank You for help</em></p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-files_unexpected" href="/tags/files_unexpected/" rel="tag" title="see questions tagged 'files_unexpected'">files_unexpected</a>
<a class="post-tag tag-link-java" href="/tags/java/" rel="tag" title="see questions tagged 'java'">java</a>
<a class="post-tag tag-link-osmosis" href="/tags/osmosis/" rel="tag" title="see questions tagged 'osmosis'">osmosis</a>
<a class="post-tag tag-link-error" href="/tags/error/" rel="tag" title="see questions tagged 'error'">error</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>17 Jun '14, 08:58</strong>
</p>
<img alt="roborelanium's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/4829d9903fb2e5bf31a3e7c44b18ac81?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/9043/roborelanium">roborelanium</a><br/>
<span class="score" title="1 reputation points">1</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="bronze">●</span><span class="badgecount">1</span></span><br>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="roborelanium has no accepted answers">0%</span>
</br></p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/34022/">
                edited
                <strong>17 Jun '14, 13:14</strong>
</a>
</p>
<img alt="aseerel4c26's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/66f0dc05b44574e3894be07b0b37cf37?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/5179/aseerel4c26">aseerel4c26 ♦</a><br/>
<span class="score" title="32615 reputation points"><span class="">32.6k</span></span><span title="18 badges"><span class="badge1">●</span><span class="badgecount">18</span></span><span title="248 badges"><span class="silver">●</span><span class="badgecount">248</span></span><span title="554 badges"><span class="bronze">●</span><span class="badgecount">554</span></span></p>
</div>
</div>
<div class="comments-container" id="comments-container-34022">
<a name="34031"></a>
<div class="comment" id="comment-34031">
<div class="comment-score" id="post-34031-score">1</div>
<div class="comment-text"><p>The <em>Files</em> originates from <em>C:\Program Files[...]</em>.</p></div>
<div class="comment-info" id="comment-34031-info">
<span class="comment-age">(17 Jun '14, 12:04)</span>
<a class="comment-user userinfo" href="/users/158/scai">scai ♦</a>
</div>
</div>
<a name="34033"></a>
<div class="comment" id="comment-34033">
<div class="comment-score" id="post-34033-score"></div>
<div class="comment-text"><p>Are you sure that this is a java problem and not a windows batch file problem? You were running "osmosis.bat" last. Adding to scai's comment: Try to cd into the directory C:\Program Files (x86)\OSMOSIS\bin\  and run the bat there.</p></div>
<div class="comment-info" id="comment-34033-info">
<span class="comment-age">(17 Jun '14, 13:16)</span>
<a class="comment-user userinfo" href="/users/5179/aseerel4c26">aseerel4c26 ♦</a>
</div>
</div>
<a name="34073"></a>
<div class="comment" id="comment-34073">
<div class="comment-score" id="post-34073-score"></div>
<div class="comment-text"><p>Thanks a lot for answers.</p>
<p>I run osmosis.bat directly from the C:\Program Files (x86)\OSMOSIS\bin\ location but it's the same error.
Is this what You are suggesting or I'm misunderstanding scai's "Files originates from  C:\Program Files[...]" ?</p>
<p>In addition I tried to use OSMembrane which is using osmosis engine and it asked about the location of a batch file (I specified osmosis.bat in C:\Program Files[...]) but after running pipeline I got error too.</p>
<p>what am I doing wrong ?</p>
<pre><code>C:\Program Files (x86)\OSMOSIS\bin&gt;"C:\Program Files (x86)\OSMOSIS\bin\osmosis.bat"
cze 18, 2014 12:34:43 PM org.openstreetmap.osmosis.core.Osmosis run
INFO: Osmosis Version 0.43.1
cze 18, 2014 12:34:43 PM org.java.plugin.registry.xml.ManifestParser &lt;init&gt;
INFO: got SAX parser factory - org.apache.xerces.jaxp.SAXParserFactoryImpl@198ee2f
cze 18, 2014 12:34:43 PM org.java.plugin.registry.xml.PluginRegistryImpl configure
INFO: configured, stopOnError=false, isValidating=true
cze 18, 2014 12:34:43 PM org.java.plugin.registry.xml.PluginRegistryImpl register
INFO: plug-in and fragment descriptors registered - 1
cze 18, 2014 12:34:43 PM org.java.plugin.standard.StandardPluginManager activatePlugin
INFO: plug-in started - org.openstreetmap.osmosis.core.plugin.Core@0.0.0.42-6-gf39a160-dirty
cze 18, 2014 12:34:43 PM org.openstreetmap.osmosis.core.Osmosis run
INFO: Preparing pipeline.
cze 18, 2014 12:34:43 PM org.openstreetmap.osmosis.core.Osmosis run
INFO: Launching pipeline execution.
cze 18, 2014 12:34:43 PM org.openstreetmap.osmosis.core.Osmosis run
INFO: Pipeline executing, waiting for completion.
cze 18, 2014 12:34:43 PM org.openstreetmap.osmosis.core.Osmosis run
INFO: Pipeline complete.
cze 18, 2014 12:34:43 PM org.openstreetmap.osmosis.core.Osmosis run
INFO: Total execution time: 665 milliseconds.

C:\Program Files (x86)\OSMOSIS\bin&gt;cd c:/

c:\&gt;cd C:\Program Files (x86)\OSMOSIS\bin

C:\Program Files (x86)\OSMOSIS\bin&gt;osmosis --read-xml highways.osm --tf accept-ways highway=* --used-node --write-xml highwaysdone.osm
Files was unexpected at this time.

C:\Program Files (x86)\OSMOSIS\bin&gt;
</code></pre>
<p>Thank You for help</p></div>
<div class="comment-info" id="comment-34073-info">
<span class="comment-age">(18 Jun '14, 06:53)</span>
<a class="comment-user userinfo" href="/users/9043/roborelanium">roborelanium</a>
</div>
</div>
<a name="34075"></a>
<div class="comment" id="comment-34075">
<div class="comment-score" id="post-34075-score"></div>
<div class="comment-text"><p>Maybe osmosis has a bug which prevents it from running inside paths which contain spaces? Try to run it in a path without spaces.</p></div>
<div class="comment-info" id="comment-34075-info">
<span class="comment-age">(18 Jun '14, 07:41)</span>
<a class="comment-user userinfo" href="/users/158/scai">scai ♦</a>
</div>
</div>
<a name="34077"></a>
<div class="comment not_top_scorer" id="comment-34077">
<div class="comment-score" id="post-34077-score"></div>
<div class="comment-text"><p>Thank you scai</p>
<p>I run it in C:/ path but I got following error:</p>
<p><em>'osmosis' is not recognized as an internal or external command,
operable program or batch file.</em></p>
<p>or how to access path without the spaces ?</p></div>
<div class="comment-info" id="comment-34077-info">
<span class="comment-age">(18 Jun '14, 09:07)</span>
<a class="comment-user userinfo" href="/users/9043/roborelanium">roborelanium</a>
</div>
</div>
<a name="34079"></a>
<div class="comment" id="comment-34079">
<div class="comment-score" id="post-34079-score">1</div>
<div class="comment-text"><p>By installing/moving osmosis to a different directory, e.g. "C:\OSMOSIS" instead of "C:\Program Files (x86)\OSMOSIS".</p></div>
<div class="comment-info" id="comment-34079-info">
<span class="comment-age">(18 Jun '14, 09:39)</span>
<a class="comment-user userinfo" href="/users/158/scai">scai ♦</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-34022">
<span class="comments-showing">
            showing 5 of 6
        </span>
<a class="show-all-comments-link" href="#">show 1 more comments</a>
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-34022-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    One Answer:
                    </div>
<div class="tabsA"><a href="/questions/34022/files-was-unexpected-at-this-time-osmosis?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/34022/files-was-unexpected-at-this-time-osmosis?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/34022/files-was-unexpected-at-this-time-osmosis?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/34022/files-was-unexpected-at-this-time-osmosis?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="34110"></a>
<div class="answer answered-by-owner" id="answer-container-34110">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/34110/up/" id="post-34110-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-34110-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/34110/down/" id="post-34110-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>OK works ! But...
installation of osmosis-latest.zip was giving me problems I mentioned above even after running it in c:\</p>
<p>After many try I run osmosis-0.43.1 and I filtered file successfully </p>
<p>Thanks for help good forum !</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/34110/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>18 Jun '14, 16:38</strong>
</p>
<img alt="roborelanium's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/4829d9903fb2e5bf31a3e7c44b18ac81?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/9043/roborelanium">roborelanium</a><br/>
<span class="score" title="1 reputation points">1</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="bronze">●</span><span class="badgecount">1</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="roborelanium has no accepted answers">0%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-34110">
</div>
<div class="comment-tools" id="comment-tools-34110">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-34110-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/34022/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="2BxiGIoY1DQSdBJqiE0sCCXg1NpaLwA5"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>