<meta charset="utf-8"/><link href="../style.css" rel="stylesheet" type="text/css"/><div id="CALeft"><center><a href="../"><img id="ll" src="https://help.openstreetmap.org/upfiles/osm_help_logo_6.png"/></a></center>
<div class="headNormal">
<h1><a href="/questions/64604/use-a-custom-style-for-self-hosted-tile-server">Use a custom style for self-hosted tile server</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/64604/up/" id="post-64604-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-64604-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/64604/down/" id="post-64604-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/64604/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>Hi guys,</p>
<p>I've followed the instructions on <a href="https://switch2osm.org/manually-building-a-tile-server-18-04-lts/">switch2osm</a> but couldn't find any informations about how to use a different style.
In the past we used openmaptiles and the style <a href="https://openmaptiles.org/styles/#klokantech-basic">klokantech-basic</a> but I haven't found a way to use it on our own tile server (I don't think it is possible at all, but maybe I'm wrong...).</p>
<p>Is there any tutorial on how to switch to a different style and eventually a website referencing some compatibles styles?</p>
<p>From what I understood, the openstreeetmap-carto style is not juste a style, some of its files are called during the setting-up process described on switch2osm (a .lua and .style file, etc.) so I'm also wondering how I'm supposed to use style like osm-bright for example (even if I'm looking for a much more simple one like klokantech-basic)?</p>
<p>Thanks a lot!</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-tiles" href="/tags/tiles/" rel="tag" title="see questions tagged 'tiles'">tiles</a>
<a class="post-tag tag-link-switch2osm" href="/tags/switch2osm/" rel="tag" title="see questions tagged 'switch2osm'">switch2osm</a>
<a class="post-tag tag-link-style" href="/tags/style/" rel="tag" title="see questions tagged 'style'">style</a>
<a class="post-tag tag-link-customization" href="/tags/customization/" rel="tag" title="see questions tagged 'customization'">customization</a>
<a class="post-tag tag-link-tileserver" href="/tags/tileserver/" rel="tag" title="see questions tagged 'tileserver'">tileserver</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>09 Jul '18, 15:54</strong>
</p>
<img alt="voharunado's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/32a7da9bf999cc0ea4f6befea00edd8d?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/15375/voharunado">voharunado</a><br/>
<span class="score" title="66 reputation points">66</span><span title="5 badges"><span class="badge1">●</span><span class="badgecount">5</span></span><span title="5 badges"><span class="silver">●</span><span class="badgecount">5</span></span><span title="10 badges"><span class="bronze">●</span><span class="badgecount">10</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="voharunado has no accepted answers">0%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-64604">
<a name="64607"></a>
<div class="comment" id="comment-64607">
<div class="comment-score" id="post-64607-score"></div>
<div class="comment-text"><p>The Klokantech map styles require fundamentally different software (and a fundamentally different approach to creating map tiles) to work compared to the OSM Carto style that switch2osm (and the OSM website) uses.  If you want to use a Klokantech style you'll need to rely on information from them.</p></div>
<div class="comment-info" id="comment-64607-info">
<span class="comment-age">(09 Jul '18, 16:49)</span>
<a class="comment-user userinfo" href="/users/387/someoneelse">SomeoneElse ♦</a>
</div>
</div>
<a name="64609"></a>
<div class="comment" id="comment-64609">
<div class="comment-score" id="post-64609-score"></div>
<div class="comment-text"><p>Thanks for that info! Do you have any tutorial to use another style and eventualy a place where I could find some? Thanks!</p></div>
<div class="comment-info" id="comment-64609-info">
<span class="comment-age">(09 Jul '18, 17:07)</span>
<a class="comment-user userinfo" href="/users/15375/voharunado">voharunado</a>
</div>
</div>
<a name="64628"></a>
<div class="comment" id="comment-64628">
<div class="comment-score" id="post-64628-score">1</div>
<div class="comment-text"><p>A <a href="https://github.com/search?utf8=%E2%9C%93&amp;q=project+extension%3Amml&amp;type=Code&amp;ref=searchresults">github search</a> will find a number of projects with an mml file in them.  Many of those will be Carto map styles.  Not all will work with the same database though.</p></div>
<div class="comment-info" id="comment-64628-info">
<span class="comment-age">(10 Jul '18, 10:13)</span>
<a class="comment-user userinfo" href="/users/387/someoneelse">SomeoneElse ♦</a>
</div>
</div>
<a name="64632"></a>
<div class="comment" id="comment-64632">
<div class="comment-score" id="post-64632-score"></div>
<div class="comment-text"><p>I've found the kind of style I was looking for, compatible with osm-bright, I'll used that instead.
Thanks for your help!</p></div>
<div class="comment-info" id="comment-64632-info">
<span class="comment-age">(10 Jul '18, 10:30)</span>
<a class="comment-user userinfo" href="/users/15375/voharunado">voharunado</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-64604">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-64604-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    One Answer:
                    </div>
<div class="tabsA"><a href="/questions/64604/use-a-custom-style-for-self-hosted-tile-server?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/64604/use-a-custom-style-for-self-hosted-tile-server?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/64604/use-a-custom-style-for-self-hosted-tile-server?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/64604/use-a-custom-style-for-self-hosted-tile-server?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="64612"></a>
<div class="answer accepted-answer" id="answer-container-64612">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/64612/up/" id="post-64612-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-64612-score" title="current number of votes">
    3
</div>
<a class="ajax-command post-vote down" href="/vote/64612/down/" id="post-64612-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="accept-answer on" href="/accept_answer/64612/" rel="nofollow" title="voharunado has selected this answer as the correct answer">
</a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>There isn't a public repository where you can pick a style and install it. There are some open source styles for Mapnik and a standard osm2pgsql database load around, notably (apart from openstreetmap-carto) <a href="https://github.com/mapbox/osm-bright,">https://github.com/mapbox/osm-bright,</a> <a href="https://github.com/der-stefan/OpenTopoMap,">https://github.com/der-stefan/OpenTopoMap,</a> and <a href="https://github.com/giggls/openstreetmap-carto-de">https://github.com/giggls/openstreetmap-carto-de</a> - but depending on which version of openstreetmap-carto you set up the database for, they might require small changes to the styles (or the database tables) - see also <a href="https://help.openstreetmap.org/questions/64602/how-to-specify-multiple-style-file-with-osm2pgsql-query">How to specify multiple style file with osm2pgsql query</a> for the travails of someone trying to run various styles off the same database schema!</p>
<p>If you want to use the Klokantech styles you need to install their backend rendering toolchain which is also open source, but different from what is discussed in switch2osm.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/64612/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>09 Jul '18, 18:52</strong>
</p>
<img alt="Frederik%20Ramm's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/a2b38d937e70ab39d895d17da0dd1ba4?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/104/frederik-ramm">Frederik Ramm ♦</a><br/>
<span class="score" title="82494 reputation points"><span class="">82.5k</span></span><span title="92 badges"><span class="badge1">●</span><span class="badgecount">92</span></span><span title="720 badges"><span class="silver">●</span><span class="badgecount">720</span></span><span title="1273 badges"><span class="bronze">●</span><span class="badgecount">1273</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Frederik Ramm has 417 accepted answers">23%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/64612/">
                edited
                <strong>09 Jul '18, 18:54</strong>
</a>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-64612">
<a name="64625"></a>
<div class="comment" id="comment-64625">
<div class="comment-score" id="post-64625-score"></div>
<div class="comment-text"><p>Thanks Frederik!
What I don't understand is the difference between osm-carto and osm-bright for example. Aren't they both styles for the tile server? I can use only one of them right?
My installation is new and still in dev, so I can start again from sratch with osm-bright and the <a href="https://github.com/stekhn/blossom">blossom style</a> based on it?
If I choose to use only this style, do I still need osm-carto? I don't understood this part of your answer...</p>
<p>By following the install instructions of osm-bright and converting the style with carto I should be able to use blossom? Or is there a part I didn't understood?</p>
<p>Thanks!</p></div>
<div class="comment-info" id="comment-64625-info">
<span class="comment-age">(10 Jul '18, 09:49)</span>
<a class="comment-user userinfo" href="/users/15375/voharunado">voharunado</a>
</div>
</div>
<a name="64626"></a>
<div class="comment" id="comment-64626">
<div class="comment-score" id="post-64626-score">3</div>
<div class="comment-text"><p>Thing is, you have to load the data into PostGIS and there are many ways of doing that. You will find some "Toner Lite" styles on GitHub for example that are made for a database structure like the one generated by the importer "imposm", and they will not work with an import performed by osm2pgsql. Even two imports with osm2pgsql need not be compatible; one could for example use the hstore extension and the other not, or one could have used lua tag transforms to convert a column into integers and the other not. If both styles are for an osm2pgsql import then they will at least agree on which tables there are, and if they expect the columns to be subtly different then it should be possible to modify the styles with relative ease, or write database views that make the database look right for every style.</p></div>
<div class="comment-info" id="comment-64626-info">
<span class="comment-age">(10 Jul '18, 09:59)</span>
<a class="comment-user userinfo" href="/users/104/frederik-ramm">Frederik Ramm ♦</a>
</div>
</div>
<a name="64627"></a>
<div class="comment" id="comment-64627">
<div class="comment-score" id="post-64627-score"></div>
<div class="comment-text"><p>Ok I think I got it (correct me if I'm wrong please): if I start a new installation following osm-bright instructions to populate my dabatase, I won't need osm-carto and while I use only osm-bright compatible style it should work.</p></div>
<div class="comment-info" id="comment-64627-info">
<span class="comment-age">(10 Jul '18, 10:12)</span>
<a class="comment-user userinfo" href="/users/15375/voharunado">voharunado</a>
</div>
</div>
<a name="64629"></a>
<div class="comment" id="comment-64629">
<div class="comment-score" id="post-64629-score">2</div>
<div class="comment-text"><p>Yes, osm-carto and osm-bright are different projects and you can run osm-bright without osm-carto.</p></div>
<div class="comment-info" id="comment-64629-info">
<span class="comment-age">(10 Jul '18, 10:14)</span>
<a class="comment-user userinfo" href="/users/104/frederik-ramm">Frederik Ramm ♦</a>
</div>
</div>
<a name="64631"></a>
<div class="comment" id="comment-64631">
<div class="comment-score" id="post-64631-score"></div>
<div class="comment-text"><p>Great thanks a lot!</p></div>
<div class="comment-info" id="comment-64631-info">
<span class="comment-age">(10 Jul '18, 10:28)</span>
<a class="comment-user userinfo" href="/users/15375/voharunado">voharunado</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-64612">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-64612-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/64604/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="nLymXjE2h9Z5UMpHiwa6HYrxlWIMK9uJ"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>