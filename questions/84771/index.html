<meta charset="utf-8"/><link href="../style.css" rel="stylesheet" type="text/css"/><div id="CALeft"><center><a href="../"><img id="ll" src="https://help.openstreetmap.org/upfiles/osm_help_logo_6.png"/></a></center>
<div class="headNormal">
<h1><a href="/questions/84771/id-editor-just-broke-regex-problem">[closed] iD editor just broke: regex problem</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/84771/up/" id="post-84771-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-84771-score" title="current number of votes">
    -3
</div>
<a class="ajax-command post-vote down" href="/vote/84771/down/" id="post-84771-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/84771/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>Sometime between 1 - 2 months ago when I last edited and now, the in-browser editor has been rendered nonfunctional for me.  The problem I can dig up in the debugger reads thusly:
</p><pre>   SyntaxError: invalid regular expression flag s
   id-6172ebd02911868e7b330b540a9baa13d0fcf18c6f57ad447234ca1ec33f4e0f.js:11:8250
</pre>
in file<br/>
<a href="https://www.openstreetmap.org/assets/id-6172ebd02911868e7b330b540a9baa13d0fcf18c6f57ad447234ca1ec33f4e0f.js,">https://www.openstreetmap.org/assets/id-6172ebd02911868e7b330b540a9baa13d0fcf18c6f57ad447234ca1ec33f4e0f.js,</a><br/>
the code fragment in question reads
<pre>   {var n=o.replace(/#.*/us,"");
</pre>
"s" is a rather recent regex modifier, and is NOT guaranteed to be present in some number of even recent-ish vintage browsers.  It's not even shown at regex101.com yet, a very common go-to reference.  This <strong>gratuitous</strong> type of change has probably broken functionality for a lot of people, who are perhaps not at liberty to rip up their whole browser environment for a bleeding-edge upgrade they don't need.  Your "because it's new-n-shiny" is our pain in the ass, sorry.<p></p>
<p>The workaround for the functionality of the "s" flag is to use '[\s\S]' instead of '.', then matching works across newlines.  Someone should FIX this, if they care about keeping the community accomodating and welcome.  Coming home from an afternoon of mapping trails that aren't in the database yet, being blocked from adding them is not exactly what I expected.</p>
<p>How does one actually contact the OSM developers, so stuff like this gets in front of the right eyeballs?</p>
<p>_H*</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-regex" href="/tags/regex/" rel="tag" title="see questions tagged 'regex'">regex</a>
<a class="post-tag tag-link-javascript" href="/tags/javascript/" rel="tag" title="see questions tagged 'javascript'">javascript</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>15 Jun '22, 01:13</strong>
</p>
<img alt="_Hobbit's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/3031665c506b04f416a1af103cf8cf6e?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/21890/_hobbit">_Hobbit</a><br/>
<span class="score" title="51 reputation points">51</span><span title="6 badges"><span class="badge1">●</span><span class="badgecount">6</span></span><span title="6 badges"><span class="silver">●</span><span class="badgecount">6</span></span><span title="10 badges"><span class="bronze">●</span><span class="badgecount">10</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="_Hobbit has no accepted answers">0%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/84771/">
                closed
                <strong>21 Jun '22, 22:14</strong>
</a>
</p>
<img alt="SimonPoole's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/ad2513d6f8e3d709d576ace900c12fa5?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/2053/simonpoole">SimonPoole ♦</a><br/>
<span class="score" title="44667 reputation points"><span class="">44.7k</span></span><span title="13 badges"><span class="badge1">●</span><span class="badgecount">13</span></span><span title="326 badges"><span class="silver">●</span><span class="badgecount">326</span></span><span title="701 badges"><span class="bronze">●</span><span class="badgecount">701</span></span></p>
</div>
</div>
<div class="comments-container" id="comments-container-84771">
<a name="84776"></a>
<div class="comment" id="comment-84776">
<div class="comment-score" id="post-84776-score"></div>
<div class="comment-text"><p>Which actual browser are you seeing this problem with?  You've said "some number of even recent-ish vintage browsers" but that makes literally no sense.</p></div>
<div class="comment-info" id="comment-84776-info">
<span class="comment-age">(15 Jun '22, 14:38)</span>
<a class="comment-user userinfo" href="/users/387/someoneelse">SomeoneElse ♦</a>
</div>
</div>
<a name="84786"></a>
<div class="comment" id="comment-84786">
<div class="comment-score" id="post-84786-score">2</div>
<div class="comment-text"><p><a href="https://github.com/openstreetmap/iD/pull/9165">https://github.com/openstreetmap/iD/pull/9165</a></p>
<p>'nuff said</p>
<p>_H*</p></div>
<div class="comment-info" id="comment-84786-info">
<span class="comment-age">(15 Jun '22, 23:45)</span>
<a class="comment-user userinfo" href="/users/21890/_hobbit">_Hobbit</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-84771">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-84771-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<div class="question-status" style="margin-bottom:15px">
<h3>
                The question has been closed for the following reason "Other" by
                <a href="/users/2053/simonpoole">SimonPoole</a>
                 21 Jun '22, 22:14
            </h3>
</div>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    One Answer:
                    </div>
<div class="tabsA"><a href="/questions/84771/id-editor-just-broke-regex-problem?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/84771/id-editor-just-broke-regex-problem?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/84771/id-editor-just-broke-regex-problem?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/84771/id-editor-just-broke-regex-problem?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="84772"></a>
<div class="answer" id="answer-container-84772">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/84772/up/" id="post-84772-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-84772-score" title="current number of votes">
    3
</div>
<a class="ajax-command post-vote down" href="/vote/84772/down/" id="post-84772-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p><a href="https://github.com/openstreetmap/iD/issues">https://github.com/openstreetmap/iD/issues</a> is the place.
Regards.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/84772/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>15 Jun '22, 06:00</strong>
</p>
<img alt="H_mlet's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/9434692e9afccaf03af5acf20b3a3279?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/13231/h_mlet">H_mlet</a><br/>
<span class="score" title="5443 reputation points"><span class="">5.4k</span></span><span title="17 badges"><span class="silver">●</span><span class="badgecount">17</span></span><span title="81 badges"><span class="bronze">●</span><span class="badgecount">81</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="H_mlet has 40 accepted answers">13%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-84772">
<a name="84774"></a>
<div class="comment" id="comment-84774">
<div class="comment-score" id="post-84774-score"></div>
<div class="comment-text"><p>... which requires a Github account.  It's bad enough I have to do browser calisthenics to even log in to THIS and post, now you're making the assumption that I'm on github and/or have to create <strong>yet another</strong> username and password just to get anywhere near receiving support.</p>
<p>Thanks, I suppose.  You realize that this illustrates another part of the larger problem, right?</p>
<p>_H*</p></div>
<div class="comment-info" id="comment-84774-info">
<span class="comment-age">(15 Jun '22, 14:23)</span>
<a class="comment-user userinfo" href="/users/21890/_hobbit">_Hobbit</a>
</div>
</div>
<a name="84775"></a>
<div class="comment" id="comment-84775">
<div class="comment-score" id="post-84775-score">2</div>
<div class="comment-text"><p><a href="https://help.openstreetmap.org/users/21890/_hobbit">@_hobbit</a> you can dislike the fact that iD is developed at Github, but you can't complain that the answer is incorrect :)</p>
<p>What would you prefer - that OSM developers spent time on an in-house software development platform rather than use something external?</p></div>
<div class="comment-info" id="comment-84775-info">
<span class="comment-age">(15 Jun '22, 14:36)</span>
<a class="comment-user userinfo" href="/users/387/someoneelse">SomeoneElse ♦</a>
</div>
</div>
<a name="84777"></a>
<div class="comment" id="comment-84777">
<div class="comment-score" id="post-84777-score"></div>
<div class="comment-text"><p><a href="https://help.openstreetmap.org/users/21890/_hobbit">@_hobbit</a> Get a passwort manager such as KeePassXC.</p></div>
<div class="comment-info" id="comment-84777-info">
<span class="comment-age">(15 Jun '22, 14:58)</span>
<a class="comment-user userinfo" href="/users/158/scai">scai ♦</a>
</div>
</div>
<a name="84779"></a>
<div class="comment not_top_scorer" id="comment-84779">
<div class="comment-score" id="post-84779-score"></div>
<div class="comment-text"><p>I appreciate the open-source nature of iD and OSM components are open-source, and I don't care where it is developed, but forcing me to chase them over there to have any hope of opening a useful support case is still disingenuous.  Personally, I actually do have a github account [very disused], I have a password manager, I have different vintages of browsers to test things under, but how does that help the next person who doesn't have those resources, but still has a problem with iD or any other piece?  Not every OSM user is even close to having or wanting developer or power-user style tools, so please think about the larger community.</p>
<p>There is NO mention of any of this on the main OSM website, no procedure to actually report a bug or problem given, just vague hints under "help" about forums and wikis and IRC and off-topic email lists, that don't lead directly to solutions either.  That area is in sad need of a refresh, really.  And various other comments I've read support that.</p>
<p>Nobody even offered to simply <strong>forward</strong> my issue <strong>TO</strong> the people on github, or acknowledged that maybe there should be a bug submission input means on or linked to from the main site.  Instead, I get this runaround.  Other than h_mlet's pointer, as indirect as it might be, this is not a good look to someone starting from ground zero.</p>
<p>_H*</p></div>
<div class="comment-info" id="comment-84779-info">
<span class="comment-age">(15 Jun '22, 18:30)</span>
<a class="comment-user userinfo" href="/users/21890/_hobbit">_Hobbit</a>
</div>
</div>
<a name="84800"></a>
<div class="comment" id="comment-84800">
<div class="comment-score" id="post-84800-score">3</div>
<div class="comment-text"><p>Forwarding other people's bug reports always has the problem that the developers cannot request further details if they cannot reproduce the problem. In addition, the original reporter never receives a response when the problem is fixed and does not receive information about possible workarounds.</p></div>
<div class="comment-info" id="comment-84800-info">
<span class="comment-age">(16 Jun '22, 15:48)</span>
<a class="comment-user userinfo" href="/users/158/scai">scai ♦</a>
</div>
</div>
<a name="84818"></a>
<div class="comment" id="comment-84818">
<div class="comment-score" id="post-84818-score">1</div>
<div class="comment-text"><p>Carefully avoiding any mention of which version of the Pine browser you are running discourages any possibility of anyone taking the initiative of forwarding this issue to Github for you.</p></div>
<div class="comment-info" id="comment-84818-info">
<span class="comment-age">(19 Jun '22, 13:16)</span>
<a class="comment-user userinfo" href="/users/21/mike-n">Mike N</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-84772">
<span class="comments-showing">
            showing 5 of 6
        </span>
<a class="show-all-comments-link" href="#">show 1 more comments</a>
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-84772-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/84771/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="rK6oBGu0c4KMVuVn6oXgRE4huSDWnNuS"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>