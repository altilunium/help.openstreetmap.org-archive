<meta charset="utf-8"/><link href="../style.css" rel="stylesheet" type="text/css"/><div id="CALeft"><center><a href="../"><img id="ll" src="https://help.openstreetmap.org/upfiles/osm_help_logo_6.png"/></a></center>
<div class="headNormal">
<h1><a href="/questions/14858/coastal-town-village-centres-located-outside-the-county">Coastal town / village centres located outside the county</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/14858/up/" id="post-14858-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-14858-score" title="current number of votes">
    1
</div>
<a class="ajax-command post-vote down" href="/vote/14858/down/" id="post-14858-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/14858/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>I have some code that works out which UK county a place node falls in. This is failing for some coastal towns / villages, because the latitude and longitude defined for the place node is actually in the sea or on the beach, and therefore falls outside of the county boundary.</p>
<p>An example is <a href="http://www.openstreetmap.org/browse/node/380755986">Hugh Town</a> in the Scilly Isles. <a href="http://maps.google.co.uk/maps?q=49.9155917,+-6.3142438&amp;hl=en&amp;ll=49.915585,-6.314242&amp;spn=0.012242,0.033023&amp;sll=49.914592,-6.314244&amp;sspn=0.012242,0.033023&amp;t=m&amp;z=16">Here</a>'s how it looks on Google Maps, which doesn't show the beach.</p>
<p>Is this intentional, or could the node positions for such places be adjusted so that they were on land? I could easily come up with a list of them.</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-nodes" href="/tags/nodes/" rel="tag" title="see questions tagged 'nodes'">nodes</a>
<a class="post-tag tag-link-place" href="/tags/place/" rel="tag" title="see questions tagged 'place'">place</a>
<a class="post-tag tag-link-coastal" href="/tags/coastal/" rel="tag" title="see questions tagged 'coastal'">coastal</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>06 Aug '12, 09:26</strong>
</p>
<img alt="Dave's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/9b6b142985091a1566e3f91e1902284d?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/4225/dave">Dave</a><br/>
<span class="score" title="86 reputation points">86</span><span title="5 badges"><span class="badge1">●</span><span class="badgecount">5</span></span><span title="5 badges"><span class="silver">●</span><span class="badgecount">5</span></span><span title="10 badges"><span class="bronze">●</span><span class="badgecount">10</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Dave has no accepted answers">0%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-14858">
</div>
<div class="comment-tools" id="comment-tools-14858">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-14858-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    3 Answers:
                    </div>
<div class="tabsA"><a href="/questions/14858/coastal-town-village-centres-located-outside-the-county?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/14858/coastal-town-village-centres-located-outside-the-county?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/14858/coastal-town-village-centres-located-outside-the-county?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/14858/coastal-town-village-centres-located-outside-the-county?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="14878"></a>
<div class="answer" id="answer-container-14878">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/14878/up/" id="post-14878-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-14878-score" title="current number of votes">
    4
</div>
<a class="ajax-command post-vote down" href="/vote/14878/down/" id="post-14878-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>In my opinion, place nodes should be put at the position that is locally considered to be the "center" of the locality, not some mathematically determined point.</p>
<p>Judging by the Hugh Town map, I would have put the place node where Lower Strand, Church Street, Silver Street, Garrison Lane and Hugh Street meet.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/14878/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>07 Aug '12, 08:21</strong>
</p>
<img alt="pbb's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/a2f19e3a960bbc861e85b69c9c13a8e8?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/4016/pbb">pbb</a><br/>
<span class="score" title="621 reputation points">621</span><span title="14 badges"><span class="badge1">●</span><span class="badgecount">14</span></span><span title="18 badges"><span class="silver">●</span><span class="badgecount">18</span></span><span title="31 badges"><span class="bronze">●</span><span class="badgecount">31</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="pbb has no accepted answers">0%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-14878">
<a name="14892"></a>
<div class="comment" id="comment-14892">
<div class="comment-score" id="post-14892-score"></div>
<div class="comment-text"><p>Thanks pbb. I've now made my first edit, and done precisely that ;-)</p></div>
<div class="comment-info" id="comment-14892-info">
<span class="comment-age">(07 Aug '12, 15:59)</span>
<a class="comment-user userinfo" href="/users/4225/dave">Dave</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-14878">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-14878-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="14863"></a>
<div class="answer" id="answer-container-14863">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/14863/up/" id="post-14863-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-14863-score" title="current number of votes">
    1
</div>
<a class="ajax-command post-vote down" href="/vote/14863/down/" id="post-14863-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>Sure you can move the node towards the inner country. Actually the best way is, to put the node in the center of the area, where it belongs to.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/14863/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>06 Aug '12, 11:45</strong>
</p>
<img alt="HostedDinner's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/97d8f28f404fa1c071546be595713c1c?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/3375/hosteddinner">HostedDinner</a><br/>
<span class="score" title="26 reputation points">26</span><span title="3 badges"><span class="bronze">●</span><span class="badgecount">3</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="HostedDinner has no accepted answers">0%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-14863">
</div>
<div class="comment-tools" id="comment-tools-14863">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-14863-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="14888"></a>
<div class="answer" id="answer-container-14888">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/14888/up/" id="post-14888-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-14888-score" title="current number of votes">
    1
</div>
<a class="ajax-command post-vote down" href="/vote/14888/down/" id="post-14888-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>It is best to map town and village areas as polygons so that the nominatim works properly, addresses get linked to nearest node otherwise. This will put the name in the middle of the polygon on the map page. I do not know if your code also searches for village and town polygons as well as nodes. Some say after drawing the polygon the node is not needed any more so delete it, again to assit the nominatim. I  hope this is not a problem for your purposes.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/14888/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>07 Aug '12, 13:55</strong>
</p>
<img alt="andy%20mackey's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/efa7ca36d4499200879223dc5ad5ecac?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/644/andy-mackey">andy mackey</a><br/>
<span class="score" title="13238 reputation points"><span class="">13.2k</span></span><span title="87 badges"><span class="badge1">●</span><span class="badgecount">87</span></span><span title="143 badges"><span class="silver">●</span><span class="badgecount">143</span></span><span title="285 badges"><span class="bronze">●</span><span class="badgecount">285</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="andy mackey has 37 accepted answers">4%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/14888/">
                edited
                <strong>07 Aug '12, 14:03</strong>
</a>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-14888">
<a name="14889"></a>
<div class="comment" id="comment-14889">
<div class="comment-score" id="post-14889-score">1</div>
<div class="comment-text"><p>Thanks Andy, that's very useful information.
At the moment my code doesn't look for village/town polygons. I will add that, and probably geometrically generate my own centre points for them (as my code needs to calculate proximity to points of reference, rather than positioning within polygons).</p></div>
<div class="comment-info" id="comment-14889-info">
<span class="comment-age">(07 Aug '12, 14:39)</span>
<a class="comment-user userinfo" href="/users/4225/dave">Dave</a>
</div>
</div>
<a name="14902"></a>
<div class="comment" id="comment-14902">
<div class="comment-score" id="post-14902-score"></div>
<div class="comment-text"><p>Hi Andy. It is my understanding/interpretation that it is normally best to use nodes for places (<a href="https://wiki.openstreetmap.org/wiki/Key:place)">https://wiki.openstreetmap.org/wiki/Key:place)</a> (towns, villages, etc) and areas for administrative boundaries (<a href="https://wiki.openstreetmap.org/wiki/Tag:boundary%3Dadministrative).">https://wiki.openstreetmap.org/wiki/Tag:boundary%3Dadministrative).</a> See also this discussion: (<a href="http://help.openstreetmap.org/questions/4658/tagging-areas-as-place-vs-boundaryadministrative).">http://help.openstreetmap.org/questions/4658/tagging-areas-as-place-vs-boundaryadministrative).</a></p></div>
<div class="comment-info" id="comment-14902-info">
<span class="comment-age">(08 Aug '12, 00:04)</span>
<a class="comment-user userinfo" href="/users/4016/pbb">pbb</a>
</div>
</div>
<a name="14908"></a>
<div class="comment" id="comment-14908">
<div class="comment-score" id="post-14908-score"></div>
<div class="comment-text"><p>Peter I looked at your links thanks,but one seemed to be empty. The decision to use nodes or polygons seems to be split. In my experience if I search for a street I have found that it will grab the nearest town or village which may not be the correct one. Nodes may work if all houses,and buildings have all the address tags filled in.Back to Dave's Question I wanted to add relevant info for him or others doing similar work. I'm no expert!</p></div>
<div class="comment-info" id="comment-14908-info">
<span class="comment-age">(08 Aug '12, 09:10)</span>
<a class="comment-user userinfo" href="/users/644/andy-mackey">andy mackey</a>
</div>
</div>
<a name="14910"></a>
<div class="comment" id="comment-14910">
<div class="comment-score" id="post-14910-score">2</div>
<div class="comment-text"><p>Your code should definitely prefer positioning withing polygon if it exists. The other calculation (distance on place node, real or virtual) will lead to many errors. Imagine two adjacent villages, one is 10x10 km square, one is 1x1 km square. If you use the geometrical polygon centre, a street within the big village but nearby the smaller village will be identified to the wrong village. If you use the real "place" node, you have to rely on its positioning by contributors (fluctuating).</p></div>
<div class="comment-info" id="comment-14910-info">
<span class="comment-age">(08 Aug '12, 12:23)</span>
<a class="comment-user userinfo" href="/users/87/pieren">Pieren</a>
</div>
</div>
<a name="14911"></a>
<div class="comment" id="comment-14911">
<div class="comment-score" id="post-14911-score">1</div>
<div class="comment-text"><p>Note that it is possible to link the place node and the boundary with the relation role "admin_centre" (although we have cases where one boundary includes many places, usually only one of them is the administrative centre).</p></div>
<div class="comment-info" id="comment-14911-info">
<span class="comment-age">(08 Aug '12, 12:25)</span>
<a class="comment-user userinfo" href="/users/87/pieren">Pieren</a>
</div>
</div>
<a name="14927"></a>
<div class="comment not_top_scorer" id="comment-14927">
<div class="comment-score" id="post-14927-score"></div>
<div class="comment-text"><p>Hi Andy, I see I made a mistake with my links. Here are they as they should have been: <a href="https://wiki.openstreetmap.org/wiki/Key:place">https://wiki.openstreetmap.org/wiki/Key:place</a> - <a href="https://wiki.openstreetmap.org/wiki/Tag:boundary%3Dadministrative">https://wiki.openstreetmap.org/wiki/Tag:boundary%3Dadministrative</a> - <a href="http://help.openstreetmap.org/questions/4658/tagging-areas-as-place-vs-boundaryadministrative">http://help.openstreetmap.org/questions/4658/tagging-areas-as-place-vs-boundaryadministrative</a></p></div>
<div class="comment-info" id="comment-14927-info">
<span class="comment-age">(09 Aug '12, 17:02)</span>
<a class="comment-user userinfo" href="/users/4016/pbb">pbb</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-14888">
<span class="comments-showing">
            showing 5 of 6
        </span>
<a class="show-all-comments-link" href="#">show 1 more comments</a>
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-14888-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/14858/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="O2rHT5Rh7v2s5LQLcU2n9Nd8Dpg9Es3u"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>