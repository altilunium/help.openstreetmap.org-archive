<meta charset="utf-8"/><link href="../style.css" rel="stylesheet" type="text/css"/><div id="CALeft"><center><a href="../"><img id="ll" src="https://help.openstreetmap.org/upfiles/osm_help_logo_6.png"/></a></center>
<div class="headNormal">
<h1><a href="/questions/29963/broken-multipolygons">Broken multipolygons?</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/29963/up/" id="post-29963-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-29963-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/29963/down/" id="post-29963-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/29963/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>What is the story with the following multipolygons?</p>
<ul>
<li>New Jersey, USA: <a href="http://www.openstreetmap.org/relation/235961">235961</a>, <a href="http://www.openstreetmap.org/relation/276888">276888</a></li>
<li>Georgia, USA: <a href="http://www.openstreetmap.org/relation/143646">143646</a>, <a href="http://www.openstreetmap.org/relation/143639">143639</a>, <a href="http://www.openstreetmap.org/relation/143464">143464</a></li>
</ul>
<p>JOSM and Mapnik seem to say they are legal, complete loops.<br/>
However OSM Inspector says they are unclosed rings.</p>
<p>What's actually going on?</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-multipolygon" href="/tags/multipolygon/" rel="tag" title="see questions tagged 'multipolygon'">multipolygon</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>19 Jan '14, 07:15</strong>
</p>
<img alt="eric22's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/ed0b2a6757c7515c4f9c529b2eb08ae3?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/5206/eric22">eric22</a><br/>
<span class="score" title="401 reputation points">401</span><span title="11 badges"><span class="badge1">●</span><span class="badgecount">11</span></span><span title="13 badges"><span class="silver">●</span><span class="badgecount">13</span></span><span title="22 badges"><span class="bronze">●</span><span class="badgecount">22</span></span><br>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="eric22 has 2 accepted answers">50%</span>
</br></p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/29963/">
                edited
                <strong>19 Jan '14, 09:25</strong>
</a>
</p>
<img alt="iii's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/49a7d0e0408e9cf2f698faac0f4d837a?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/4984/iii">iii</a><br/>
<span class="score" title="4892 reputation points"><span class="">4.9k</span></span><span title="8 badges"><span class="badge1">●</span><span class="badgecount">8</span></span><span title="40 badges"><span class="silver">●</span><span class="badgecount">40</span></span><span title="82 badges"><span class="bronze">●</span><span class="badgecount">82</span></span></p>
</div>
</div>
<div class="comments-container" id="comments-container-29963">
</div>
<div class="comment-tools" id="comment-tools-29963">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-29963-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    2 Answers:
                    </div>
<div class="tabsA"><a href="/questions/29963/broken-multipolygons?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/29963/broken-multipolygons?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/29963/broken-multipolygons?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/29963/broken-multipolygons?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="29979"></a>
<div class="answer accepted-answer" id="answer-container-29979">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/29979/up/" id="post-29979-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-29979-score" title="current number of votes">
    5
</div>
<a class="ajax-command post-vote down" href="/vote/29979/down/" id="post-29979-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="accept-answer on" href="/accept_answer/29979/" rel="nofollow" title="eric22 has selected this answer as the correct answer">
</a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>The OSM Inspector sometimes claims that a ring is not closed when instead the polygon has an inner ring touching an outer ring. This may occasionally confuse the ring building logic in OSMI, leading to the "ring not closed" complaint instead of correctly saying "inner touches outer".</p>
<p>I checked one of your examples and found exactly that: <a href="http://www.openstreetmap.org/relation/143464#map=16/33.2530/-84.5717">http://www.openstreetmap.org/relation/143464#map=16/33.2530/-84.5717</a> (right edge of the "hole" in the forest).</p>
<p>The data also contains a ton of useless tags that should never have been imported in the first place.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/29979/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>19 Jan '14, 19:27</strong>
</p>
<img alt="Frederik%20Ramm's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/a2b38d937e70ab39d895d17da0dd1ba4?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/104/frederik-ramm">Frederik Ramm ♦</a><br/>
<span class="score" title="82494 reputation points"><span class="">82.5k</span></span><span title="92 badges"><span class="badge1">●</span><span class="badgecount">92</span></span><span title="720 badges"><span class="silver">●</span><span class="badgecount">720</span></span><span title="1273 badges"><span class="bronze">●</span><span class="badgecount">1273</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Frederik Ramm has 417 accepted answers">23%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-29979">
<a name="30163"></a>
<div class="comment" id="comment-30163">
<div class="comment-score" id="post-30163-score"></div>
<div class="comment-text"><p>That solves the problem for the Georgia multipolygons. But I can't find a similar problem with the New Jersey multipolygons. The most I can find is an inner ring touching another inner ring. Do you have any other ideas?</p></div>
<div class="comment-info" id="comment-30163-info">
<span class="comment-age">(23 Jan '14, 20:31)</span>
<a class="comment-user userinfo" href="/users/5206/eric22">eric22</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-29979">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-29979-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="29965"></a>
<div class="answer" id="answer-container-29965">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/29965/up/" id="post-29965-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-29965-score" title="current number of votes">
    5
</div>
<a class="ajax-command post-vote down" href="/vote/29965/down/" id="post-29965-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>What is going one is that these (imported) multipolygons are bigger than you (or anyone else) can manage easily. You should split these at bigger roads (forest does not grow on highways) and deal with much smaller relations.</p>
<p>Otherwise you will waste some hours to find the mistake. Some seconds to fix it. And in a month or two you can do it again. In the meantime only few advanced contributors have the courage to modify such big relations. Meaning this place will evolve much slower than it could.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/29965/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>19 Jan '14, 10:26</strong>
</p>
<img alt="RM87's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/f7f8127223bd00c9e8f569ce2e9ddf22?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/268/rm87">RM87</a><br/>
<span class="score" title="3346 reputation points"><span class="">3.3k</span></span><span title="2 badges"><span class="badge1">●</span><span class="badgecount">2</span></span><span title="37 badges"><span class="silver">●</span><span class="badgecount">37</span></span><span title="53 badges"><span class="bronze">●</span><span class="badgecount">53</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="RM87 has 20 accepted answers">22%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/29965/">
                edited
                <strong>19 Jan '14, 10:27</strong>
</a>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-29965">
<a name="29980"></a>
<div class="comment" id="comment-29980">
<div class="comment-score" id="post-29980-score"></div>
<div class="comment-text"><p>Not sure I agree. If you open JOSM and choose "Download object" and the multipolygon number, you can work on a multipolygon easily without being confused by other objects. (You just have to be aware that your changes might affect other objects, and download those as necessary before editing, to avoid conflicts.)</p>
<p>I think Frederik is right that the problem is inner ways touching outer ways. The issue is some kind of multipolygon complexity, not the absolute number/length of ways...</p></div>
<div class="comment-info" id="comment-29980-info">
<span class="comment-age">(19 Jan '14, 20:15)</span>
<a class="comment-user userinfo" href="/users/5206/eric22">eric22</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-29965">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-29965-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/29963/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="lZGvvv38pXynCbKiOsgtWEEPHannSKBL"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>