<meta charset="utf-8"/><link href="../style.css" rel="stylesheet" type="text/css"/><div id="CALeft"><center><a href="../"><img id="ll" src="https://help.openstreetmap.org/upfiles/osm_help_logo_6.png"/></a></center>
<div class="headNormal">
<h1><a href="/questions/73318/how-to-keep-local-database-in-sync-with-osm">How to keep local database in sync with OSM?</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/73318/up/" id="post-73318-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-73318-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/73318/down/" id="post-73318-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/73318/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>Hi There - I'm new to OSM and I'm trying to figure out the best way to keep a local PostGIS version of OSM (one country) in sync with OSM main.  I'm using OSM data to as one input into some road verification work. So where a road in my copy is modified, I'd like to keep that modification (it mighten't be relevant to anyone else) but where new features exist or features changed in OSM (that have not been modified locally) I'd like to bring them into my local copy.  Can anyone give some pointers or links to the best way to approach this?</p>
<p>Thanks for any help</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-osmosis" href="/tags/osmosis/" rel="tag" title="see questions tagged 'osmosis'">osmosis</a>
<a class="post-tag tag-link-road" href="/tags/road/" rel="tag" title="see questions tagged 'road'">road</a>
<a class="post-tag tag-link-sync" href="/tags/sync/" rel="tag" title="see questions tagged 'sync'">sync</a>
<a class="post-tag tag-link-postgis" href="/tags/postgis/" rel="tag" title="see questions tagged 'postgis'">postgis</a>
<a class="post-tag tag-link-database" href="/tags/database/" rel="tag" title="see questions tagged 'database'">database</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>03 Mar '20, 01:23</strong>
</p>
<img alt="Quannah's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/c3ff4a6fb6c4ca04f44e328fc275404c?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/17983/quannah">Quannah</a><br/>
<span class="score" title="26 reputation points">26</span><span title="2 badges"><span class="badge1">●</span><span class="badgecount">2</span></span><span title="2 badges"><span class="silver">●</span><span class="badgecount">2</span></span><span title="6 badges"><span class="bronze">●</span><span class="badgecount">6</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Quannah has no accepted answers">0%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-73318">
</div>
<div class="comment-tools" id="comment-tools-73318">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-73318-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    One Answer:
                    </div>
<div class="tabsA"><a href="/questions/73318/how-to-keep-local-database-in-sync-with-osm?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/73318/how-to-keep-local-database-in-sync-with-osm?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/73318/how-to-keep-local-database-in-sync-with-osm?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/73318/how-to-keep-local-database-in-sync-with-osm?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="73353"></a>
<div class="answer" id="answer-container-73353">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/73353/up/" id="post-73353-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-73353-score" title="current number of votes">
    1
</div>
<a class="ajax-command post-vote down" href="/vote/73353/down/" id="post-73353-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>I would read <a href="https://ircama.github.io/osm-carto-tutorials/updating-data/">this</a> for an introduction to the process of syncing. Then I'd check <a href="http://download.openstreetmap.fr/">OSM FR</a> to see if the country you want is in their list, as this will simply the process of dealing with only your area of interest. </p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/73353/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>04 Mar '20, 04:41</strong>
</p>
<img alt="TheSwavu's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/a22e0d8d83a5f9fe7ca0e51f61f77da0?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/13233/theswavu">TheSwavu</a><br/>
<span class="score" title="26 reputation points">26</span><span title="1 badges"><span class="bronze">●</span><span class="badgecount">1</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="TheSwavu has no accepted answers">0%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/73353/">
                edited
                <strong>04 Mar '20, 04:42</strong>
</a>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-73353">
<a name="73379"></a>
<div class="comment" id="comment-73379">
<div class="comment-score" id="post-73379-score"></div>
<div class="comment-text"><p>Thanks - using that page and a couple others I think the process goes like this:</p>
<ol>
<li>Get the latest timestamp of the OSM
    main data </li>
<li>Create the configuration, download.lock and state.txt files</li>
<li>Generate a change (.osc diff file)of the database changes </li>
<li>Apply the change file/s to the database.</li>
</ol>
<p>Is that how its supposed to work?</p>
<p>Once I have the state file for my country <a href="https://download.geofabrik.de/australia-oceania-updates/">https://download.geofabrik.de/australia-oceania-updates/</a> and a configuration file in a working directory my osmosis command looks like this</p>
<pre><code>osmosis --rri workingDirectory=%WORKOSM% --simc --wxc - | osm2pgsql -a -S "C:\Program Files\osm2pgsql-latest-x64\osm2pgsql-bin\default.style" -d dbasename -U username -H localhost --slim -k --flat-nodes c:\temp\fl -r xml -
</code></pre>
<p>which generates a file - but I can't figure out what it is?  I was going to check a change inside the file and then verify that changes is applied in postgis but I can't open the downloaded file.  Any tips on what kind of binary it is or where I'm going wrong are much appreciated.</p>
<p>I think I'm gettings somewhere (just really slowly...)</p></div>
<div class="comment-info" id="comment-73379-info">
<span class="comment-age">(05 Mar '20, 04:50)</span>
<a class="comment-user userinfo" href="/users/17983/quannah">Quannah</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-73353">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-73353-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/73318/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="rprqgAsNbVnr1LdQNarUbAIQqXThis6V"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>