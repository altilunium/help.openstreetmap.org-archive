<meta charset="utf-8"/><link href="../style.css" rel="stylesheet" type="text/css"/><div id="CALeft"><center><a href="../"><img id="ll" src="https://help.openstreetmap.org/upfiles/osm_help_logo_6.png"/></a></center>
<div class="headNormal">
<h1><a href="/questions/5911/how-do-i-specify-county-in-the-api-call">How do I specify County in the API call</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/5911/up/" id="post-5911-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-5911-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/5911/down/" id="post-5911-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/5911/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>I asked <a href="http://stackoverflow.com/questions/6364538/how-do-i-specify-the-county-in-openstreetmaps-nominatim-api">this here</a> on stackoverflow. Basically I have an address in New York County, which is part of New York City, which is part of New York state. There is a similar address in Staten Island. I am looking for a way to specify New York County to the geocoder and not have it return similar addresses in the other 4 counties in New York City.</p>
<p>I believe the solution lies in the nominatim <a href="http://wiki.openstreetmap.org/wiki/Nominatim/Special_Phrases">special phrases</a>, However, <a href="http://help.openstreetmap.org/questions/5924/how-do-i-use-special-phrases-in-nominatim">I don't know how to use them</a>.</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-special-phrases" href="/tags/special-phrases/" rel="tag" title="see questions tagged 'special-phrases'">special-phrases</a>
<a class="post-tag tag-link-nominatim" href="/tags/nominatim/" rel="tag" title="see questions tagged 'nominatim'">nominatim</a>
<a class="post-tag tag-link-geocoding" href="/tags/geocoding/" rel="tag" title="see questions tagged 'geocoding'">geocoding</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>20 Jun '11, 20:28</strong>
</p>
<img alt="Justin%20Dearing's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/735a05084346db68dff750870654da3d?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/1586/justin-dearing">Justin Dearing</a><br/>
<span class="score" title="26 reputation points">26</span><span title="3 badges"><span class="badge1">●</span><span class="badgecount">3</span></span><span title="3 badges"><span class="silver">●</span><span class="badgecount">3</span></span><span title="5 badges"><span class="bronze">●</span><span class="badgecount">5</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Justin Dearing has no accepted answers">0%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/5911/">
                edited
                <strong>21 Jun '11, 13:54</strong>
</a>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-5911">
</div>
<div class="comment-tools" id="comment-tools-5911">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-5911-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    2 Answers:
                    </div>
<div class="tabsA"><a href="/questions/5911/how-do-i-specify-county-in-the-api-call?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/5911/how-do-i-specify-county-in-the-api-call?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/5911/how-do-i-specify-county-in-the-api-call?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/5911/how-do-i-specify-county-in-the-api-call?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="5912"></a>
<div class="answer accepted-answer" id="answer-container-5912">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/5912/up/" id="post-5912-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-5912-score" title="current number of votes">
    1
</div>
<a class="ajax-command post-vote down" href="/vote/5912/down/" id="post-5912-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="accept-answer on" href="/accept_answer/5912/" rel="nofollow" title="Justin Dearing has selected this answer as the correct answer">
</a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>On the <a href="http://wiki.openstreetmap.org/wiki/Nominatim">Wiki page for Nominatim</a>, there are descriptions for adding additional parameters to the query, including a bounding box, which will do what you're asking about geographically focusing a query.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/5912/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>20 Jun '11, 21:53</strong>
</p>
<img alt="emacsen's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/5f2082b86cc50d63c05f33f55166df2d?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/540/emacsen">emacsen</a><br/>
<span class="score" title="1191 reputation points"><span class="">1.2k</span></span><span title="16 badges"><span class="silver">●</span><span class="badgecount">16</span></span><span title="23 badges"><span class="bronze">●</span><span class="badgecount">23</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="emacsen has 4 accepted answers">13%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-5912">
<a name="5923"></a>
<div class="comment" id="comment-5923">
<div class="comment-score" id="post-5923-score"></div>
<div class="comment-text"><p>While in theory a bounding box will work, I'd like to limit to a particular county. I could draw a bounding box for New York County pretty easily, but that would be hard as a general case.</p></div>
<div class="comment-info" id="comment-5923-info">
<span class="comment-age">(21 Jun '11, 13:44)</span>
<a class="comment-user userinfo" href="/users/1586/justin-dearing">Justin Dearing</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-5912">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-5912-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="5926"></a>
<div class="answer" id="answer-container-5926">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/5926/up/" id="post-5926-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-5926-score" title="current number of votes">
    2
</div>
<a class="ajax-command post-vote down" href="/vote/5926/down/" id="post-5926-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>There doesn't seem to be a query to do what you want, so my suggestion is to do one of three things:</p>
<p>1) (Simple)  If your queries are infrequent, simply do a polygon filter after the results. OSM server are not meant for large scale general purpose use anyway.</p>
<p>2) (Complex) If you run a lot of queries and need a lot of very specific data, the right answer for you is to set up your own OSM instance restricted to the polygons you care about, and run your queries on your instance.</p>
<p>3) (Complex) You can add the feature to Nominatim. It's FLOSS. Patch it you may find the feature adopted upstream.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/5926/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>21 Jun '11, 16:42</strong>
</p>
<img alt="emacsen's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/5f2082b86cc50d63c05f33f55166df2d?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/540/emacsen">emacsen</a><br/>
<span class="score" title="1191 reputation points"><span class="">1.2k</span></span><span title="16 badges"><span class="silver">●</span><span class="badgecount">16</span></span><span title="23 badges"><span class="bronze">●</span><span class="badgecount">23</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="emacsen has 4 accepted answers">13%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-5926">
<a name="5930"></a>
<div class="comment" id="comment-5930">
<div class="comment-score" id="post-5930-score"></div>
<div class="comment-text"><p>Is their much success offering bounties for features in Nominatim? In this case I'd rather pay someone else to implement the feature.</p></div>
<div class="comment-info" id="comment-5930-info">
<span class="comment-age">(21 Jun '11, 17:47)</span>
<a class="comment-user userinfo" href="/users/1586/justin-dearing">Justin Dearing</a>
</div>
</div>
<a name="5931"></a>
<div class="comment" id="comment-5931">
<div class="comment-score" id="post-5931-score"></div>
<div class="comment-text"><p>You can try, but generally OSM doesn't do "bounties" in that sense. Companies do hire OSM developers (MapQuest pays the Nominatim developer), but not always to work on OSM related activity. You can always get on the mailing lists and try, but I'd be surprised if people took you up on it for anything less than professional rate. The second solution of a custom instance would likely be the cheapest solution to your problem in that case.</p></div>
<div class="comment-info" id="comment-5931-info">
<span class="comment-age">(21 Jun '11, 18:27)</span>
<a class="comment-user userinfo" href="/users/540/emacsen">emacsen</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-5926">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-5926-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/5911/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="kRp96VUAMhQOSZvmHLFJN0K3Sx0T5dFG"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>