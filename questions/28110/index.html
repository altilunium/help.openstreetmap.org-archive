<meta charset="utf-8"/><link href="../style.css" rel="stylesheet" type="text/css"/><div id="CALeft"><center><a href="../"><img id="ll" src="https://help.openstreetmap.org/upfiles/osm_help_logo_6.png"/></a></center>
<div class="headNormal">
<h1><a href="/questions/28110/how-to-correctly-mark-the-independent-cities-of-virginia">How to correctly mark the Independent Cities of Virginia?</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/28110/up/" id="post-28110-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-28110-score" title="current number of votes">
    2
</div>
<a class="ajax-command post-vote down" href="/vote/28110/down/" id="post-28110-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/28110/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>I would like to use the data from Open Street Map to identify which county I am in, but I noticed something unusual with the Independent Cities of Virginia. Essentially, there are a few cities that are independent of counties, even if they are completely contained within a county. When I do a query (Via the Map Quest Geocoding API), it returns that I am in the surrounding county, and not the city. For instance, here is Augusta County, which contains two independent cities, Staunton and Waynesboro. I've seen this for a half dozen other independent cities, BTW.</p>
<p><img alt="enter image description here" src="http://i.stack.imgur.com/G4Vni.png"/></p>
<p>It's a bit tricky to see, but Staunton has a county boundary approximating the city boundaries. When I call Staunton, it correctly shows Staunton City as the county. When I look at Waynesboro, it stays it is in Augusta, not Waynesboro City. What I'm trying to do is to figure out how to make the appropriate correction. I can see a couple of possibilities, including:</p>
<ol>
<li>Somehow trace an interior boundary that matches the city of Waynesboro, and identify that county as Waynesboro City.</li>
<li>Somehow make the existing Waynesboro think it's a county.</li>
</ol>
<p>I'm not quite sure how either of those could be done, or which is the best, or even if there's a better solution all together. How can I make this correction?</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-county" href="/tags/county/" rel="tag" title="see questions tagged 'county'">county</a>
<a class="post-tag tag-link-admin_boundary" href="/tags/admin_boundary/" rel="tag" title="see questions tagged 'admin_boundary'">admin_boundary</a>
<a class="post-tag tag-link-virginia" href="/tags/virginia/" rel="tag" title="see questions tagged 'virginia'">virginia</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>14 Nov '13, 17:50</strong>
</p>
<img alt="kd7uiy's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/ada90dc82e9546879ac95847117d1a3e?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/7812/kd7uiy">kd7uiy</a><br/>
<span class="score" title="46 reputation points">46</span><span title="2 badges"><span class="badge1">●</span><span class="badgecount">2</span></span><span title="2 badges"><span class="silver">●</span><span class="badgecount">2</span></span><span title="6 badges"><span class="bronze">●</span><span class="badgecount">6</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="kd7uiy has no accepted answers">0%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/28110/">
                edited
                <strong>14 Nov '13, 18:52</strong>
</a>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-28110">
<a name="28112"></a>
<div class="comment" id="comment-28112">
<div class="comment-score" id="post-28112-score"></div>
<div class="comment-text"><p>I already tried to help him <a href="http://gis.stackexchange.com/questions/77447/how-to-correctly-set-the-independent-cities-of-virginia-in-open-street-map">here</a> but I'm not sure about the correct solution.</p></div>
<div class="comment-info" id="comment-28112-info">
<span class="comment-age">(14 Nov '13, 19:38)</span>
<a class="comment-user userinfo" href="/users/158/scai">scai ♦</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-28110">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-28110-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    2 Answers:
                    </div>
<div class="tabsA"><a href="/questions/28110/how-to-correctly-mark-the-independent-cities-of-virginia?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/28110/how-to-correctly-mark-the-independent-cities-of-virginia?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/28110/how-to-correctly-mark-the-independent-cities-of-virginia?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/28110/how-to-correctly-mark-the-independent-cities-of-virginia?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="28641"></a>
<div class="answer accepted-answer" id="answer-container-28641">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/28641/up/" id="post-28641-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-28641-score" title="current number of votes">
    4
</div>
<a class="ajax-command post-vote down" href="/vote/28641/down/" id="post-28641-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="accept-answer on" href="/accept_answer/28641/" rel="nofollow" title="kd7uiy has selected this answer as the correct answer">
</a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>A couple parts to make this happen: one, adjust the administrative level of Waynesboro to be county-equivalent.  That is, for the boundary=administrative that is around Waynesboro, set it to admin_level=6.  Then, select all of the ways that make up the relation that is the boundary of Waynesboro (they will all be in role "outer" for this one) and add them to the relation that is the boundary of Augusta County (and they will be in the role "inner" for this one).</p>
<p>I'll assume you know enough about OSM editors to do the first thing.  Editing relations is a little trickier; here's a quick runthrough for Potlatch2: first, find the relation number for Augusta County.  Do this by (in Potlatch2) clicking on some part of the boundary, click "Advanced", and then double-click the relations it's in until you find the one for Augusta County.  Write down the ID of this relation.  Then, click on some part of the Waynesboro boundary, click the downward arrow and "select all members" of the Waynesboro boundary relation.  Click "Add to", and in the ensuing popup, select the relation for Augusta County.  After it's added, make sure to designed the Role as "inner" for the ways that you've just added.</p>
<p>Hope this helps! </p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/28641/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>01 Dec '13, 09:10</strong>
</p>
<img alt="blahedo's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/4a4c8a91603aa21e05f5a441d5c13f26?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/4851/blahedo">blahedo</a><br/>
<span class="score" title="736 reputation points">736</span><span title="11 badges"><span class="badge1">●</span><span class="badgecount">11</span></span><span title="19 badges"><span class="silver">●</span><span class="badgecount">19</span></span><span title="28 badges"><span class="bronze">●</span><span class="badgecount">28</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="blahedo has 2 accepted answers">50%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-28641">
<a name="28724"></a>
<div class="comment" id="comment-28724">
<div class="comment-score" id="post-28724-score">1</div>
<div class="comment-text"><p>This did the trick! Truth be told, Stauton isn't set up either. I'm going to have to check all of the Independent Cities in Virginia carefully, but I think this will do the trick!</p></div>
<div class="comment-info" id="comment-28724-info">
<span class="comment-age">(03 Dec '13, 16:29)</span>
<a class="comment-user userinfo" href="/users/7812/kd7uiy">kd7uiy</a>
</div>
</div>
<a name="39071"></a>
<div class="comment" id="comment-39071">
<div class="comment-score" id="post-39071-score"></div>
<div class="comment-text"><p>For independent cities, should they have both an admin_level 8 and admin_level 6 boundary, or just the admin_level 6? St. Louis currently has both.</p></div>
<div class="comment-info" id="comment-39071-info">
<span class="comment-age">(05 Dec '14, 11:20)</span>
<a class="comment-user userinfo" href="/users/9234/brianegge">brianegge</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-28641">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-28641-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="28111"></a>
<div class="answer" id="answer-container-28111">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/28111/up/" id="post-28111-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-28111-score" title="current number of votes">
    2
</div>
<a class="ajax-command post-vote down" href="/vote/28111/down/" id="post-28111-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>So the city is a hole in the county? This is the same type of thing as a building with an atrium or empty space in the middle and can be described using a multi-polygon.</p>
<p>And, in general administrative boundaries should be multi-polygons already. If the county in question isn't then make it one with the boundary ways having a role of outer.</p>
<p>Then add the city boundary to the county as a "inner". That will punch a hole out of the county so things in the city are not also in the county.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/28111/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>14 Nov '13, 18:50</strong>
</p>
<img alt="n76's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/f60af53a4eba0c21f25c22674fb4a8cc?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/5918/n76">n76</a><br/>
<span class="score" title="10839 reputation points"><span class="">10.8k</span></span><span title="10 badges"><span class="badge1">●</span><span class="badgecount">10</span></span><span title="82 badges"><span class="silver">●</span><span class="badgecount">82</span></span><span title="172 badges"><span class="bronze">●</span><span class="badgecount">172</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="n76 has 48 accepted answers">17%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/28111/">
                edited
                <strong>14 Nov '13, 18:51</strong>
</a>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-28111">
<a name="28603"></a>
<div class="comment" id="comment-28603">
<div class="comment-score" id="post-28603-score">1</div>
<div class="comment-text"><p>While I understand the general concept of the answer to this question, I would appreciate more details as to how to make such things happen.</p></div>
<div class="comment-info" id="comment-28603-info">
<span class="comment-age">(29 Nov '13, 14:17)</span>
<a class="comment-user userinfo" href="/users/7812/kd7uiy">kd7uiy</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-28111">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-28111-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/28110/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="mhtPnU4zBUJG9uUOLbESM4G49bd43Uqf"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>