<meta charset="utf-8"/><link href="../style.css" rel="stylesheet" type="text/css"/><div id="CALeft"><center><a href="../"><img id="ll" src="https://help.openstreetmap.org/upfiles/osm_help_logo_6.png"/></a></center>
<div class="headNormal">
<h1><a href="/questions/38569/help-i-have-made-the-coastline-of-tonga-unrenderable">Help: I have made the coastline of Tonga unrenderable!</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/38569/up/" id="post-38569-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-38569-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/38569/down/" id="post-38569-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/38569/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>Last night I tried to get advanced by creating a series of relationships to better define a coastline and some corresponding tidal flats/mangroves and now none of it is rendering in the Mapnik. The area is here: <a href="http://www.openstreetmap.org/#map=15/-21.1465/-175.1545">http://www.openstreetmap.org/#map=15/-21.1465/-175.1545</a></p>
<p>I started by making a relation between the mainland and the nearby islet since they are locally regarded as one in the same, being separated only by the tidal mudflats. After this, I tried to replicate some tagging/relationships I had seen in Australia where one boundary of the mangroves is defined by the coastline way and the other by a wetland way. Somewhere along the way, this hasn't worked out properly and I'm not sure the right way to fix it and get the result I was looking for.</p>
<p>If someone can have a look at this for me and point out where I went wrong and how I can fix it I would be very happy.</p>
<p>Malo</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-tonga" href="/tags/tonga/" rel="tag" title="see questions tagged 'tonga'">tonga</a>
<a class="post-tag tag-link-wetlands" href="/tags/wetlands/" rel="tag" title="see questions tagged 'wetlands'">wetlands</a>
<a class="post-tag tag-link-coastline" href="/tags/coastline/" rel="tag" title="see questions tagged 'coastline'">coastline</a>
<a class="post-tag tag-link-tongatapu" href="/tags/tongatapu/" rel="tag" title="see questions tagged 'tongatapu'">tongatapu</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>15 Nov '14, 05:18</strong>
</p>
<img alt="Loau's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/ce32dca798cb9a859435d42700c4b880?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/10007/loau">Loau</a><br/>
<span class="score" title="11 reputation points">11</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">●</span><span class="badgecount">1</span></span><span title="2 badges"><span class="bronze">●</span><span class="badgecount">2</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Loau has no accepted answers">0%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-38569">
</div>
<div class="comment-tools" id="comment-tools-38569">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-38569-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    One Answer:
                    </div>
<div class="tabsA"><a href="/questions/38569/help-i-have-made-the-coastline-of-tonga-unrenderable?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/38569/help-i-have-made-the-coastline-of-tonga-unrenderable?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/38569/help-i-have-made-the-coastline-of-tonga-unrenderable?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/38569/help-i-have-made-the-coastline-of-tonga-unrenderable?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="38572"></a>
<div class="answer" id="answer-container-38572">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/38572/up/" id="post-38572-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-38572-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/38572/down/" id="post-38572-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>I have made an attempt at fixing the errors by reviewing the data and introducing a number of multipolygons, and removing some spurious multipolygon relations with JOSM validation errors (e.g. unclosed). I hope I did this correct, but it may take some while before the new rendering shows up and it can be verified. There were still a lot of JOSM validation errors for features on the Tonga island, a few of which I have fixed, but no errors for the coastline if I am right.</p>
<p>For the type of edits you attempt to do, you really need JOSM and its build in validator. In addition, if you want to "re-use" a coastline as part of a wetland, you will need to split the coastline where the wetland polygon outline touches the coastline (use the "P" letter shortcut for this, you need to select the two nodes first at both ends of the "wetland" outline where it touches the coastline, then hit "P" on your keyboard). You can then define multipolygons for BOTH the coastline AND the wetland, both of which should incorporate the single split line of the coastline.</p>
<p>After defining the multipolygon relations and adding the line elements to it, it is good practice to remove the tags from the outer ways, and only add them to the multipolygon. So the multipolygon should have the "natural=wetland", "wetland=tidalflat" tags, not the outer ways.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/38572/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>15 Nov '14, 09:06</strong>
</p>
<img alt="mboeringa's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/dc8a1ef54d3e25744ee52d1ad1459a81?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/9580/mboeringa">mboeringa</a><br/>
<span class="score" title="1542 reputation points"><span class="">1.5k</span></span><span title="2 badges"><span class="badge1">●</span><span class="badgecount">2</span></span><span title="15 badges"><span class="silver">●</span><span class="badgecount">15</span></span><span title="27 badges"><span class="bronze">●</span><span class="badgecount">27</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="mboeringa has 4 accepted answers">9%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/38572/">
                edited
                <strong>15 Nov '14, 13:43</strong>
</a>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-38572">
<a name="38573"></a>
<div class="comment" id="comment-38573">
<div class="comment-score" id="post-38573-score">2</div>
<div class="comment-text"><p>A quick reminder that coastline changes don't take effect as quickly as other ones. I believe they now update daily. You can check the land polygon dates at <a href="http://tile.openstreetmap.org/cgi-bin/debug">http://tile.openstreetmap.org/cgi-bin/debug</a> to see how recently they were updated (not sure how long before the time shown the files are generated though).</p></div>
<div class="comment-info" id="comment-38573-info">
<span class="comment-age">(15 Nov '14, 09:51)</span>
<a class="comment-user userinfo" href="/users/339/edloach">EdLoach ♦</a>
</div>
</div>
<a name="38589"></a>
<div class="comment" id="comment-38589">
<div class="comment-score" id="post-38589-score"></div>
<div class="comment-text"><p><a href="http://help.openstreetmap.org/users/339/edloach">@EdLoach</a>: from <a href="/questions/38437/lost-image-of-bengkalis-island">there</a> I know that it took from 11 Nov, 12:29 to about 15 Nov 13:45 to show a coastline change (on tiles zoom level 13+ – smaller is not updated yet).</p></div>
<div class="comment-info" id="comment-38589-info">
<span class="comment-age">(16 Nov '14, 00:39)</span>
<a class="comment-user userinfo" href="/users/5179/aseerel4c26">aseerel4c26 ♦</a>
</div>
</div>
<a name="38590"></a>
<div class="comment" id="comment-38590">
<div class="comment-score" id="post-38590-score"></div>
<div class="comment-text"><p>Thanks for the help. It might be time to upgrade to the more powerful editor in JOSM. The simplicity of iD got me into it in the first place.
According the the link <a href="http://help.openstreetmap.org/users/339/edloach">@EdLoach</a> it looks like coastlines haven't been rendered since Friday sometime, I'm still waiting for the island to return to the mapnik, but will advise when if it doesn't return. I must have made the changes right before render time since it disappeared pretty soon after.</p>
<p>Thanks again.</p>
<p>Malo.</p></div>
<div class="comment-info" id="comment-38590-info">
<span class="comment-age">(16 Nov '14, 03:43)</span>
<a class="comment-user userinfo" href="/users/10007/loau">Loau</a>
</div>
</div>
<a name="38738"></a>
<div class="comment" id="comment-38738">
<div class="comment-score" id="post-38738-score"></div>
<div class="comment-text"><p>Hi <a href="http://help.openstreetmap.org/users/9580/mboeringa">@mboeringa</a></p>
<p>I see your extra work to get the tags right and the coastline rendering, thanks very much. It was rendering properly at some of the larger zoom levels, I guess it's a matter of time before the others render properly now too.</p>
<p>Is it possible that coastlines made up of relations take significantly longer to render than those that are made up of just a closed way?</p>
<p>Malo.</p></div>
<div class="comment-info" id="comment-38738-info">
<span class="comment-age">(24 Nov '14, 05:43)</span>
<a class="comment-user userinfo" href="/users/10007/loau">Loau</a>
</div>
</div>
<a name="38757"></a>
<div class="comment" id="comment-38757">
<div class="comment-score" id="post-38757-score">1</div>
<div class="comment-text"><p>Malo,</p>
<p>Actually, I was starting to doubt my own work. At first, after my edits, I actually saw the remainders of the tiles showing the island disappearing... Only now, 8(!) days after edits, seem new tiles to come up at zoomlevels 13 and 14, like you also noted. So yes, I think we still need to wait longer for proper rendering. You may be right the coastlines based on relationships taking longer, but I am not sure, it may be just a cause of the general backlog in rendering.</p>
<p>Marco</p></div>
<div class="comment-info" id="comment-38757-info">
<span class="comment-age">(24 Nov '14, 20:51)</span>
<a class="comment-user userinfo" href="/users/9580/mboeringa">mboeringa</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-38572">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-38572-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/38569/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="xmbFxUEWL04JfbCKEXt80hLfDZgZWFbv"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>