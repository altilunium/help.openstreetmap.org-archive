<meta charset="utf-8"/><link href="../style.css" rel="stylesheet" type="text/css"/><div id="CALeft"><center><a href="../"><img id="ll" src="https://help.openstreetmap.org/upfiles/osm_help_logo_6.png"/></a></center>
<div class="headNormal">
<h1><a href="/questions/68121/running-tile-server-should-i-opt-for-more-cpu-or-ram">Running tile server - Should I opt for more CPU or RAM?</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/68121/up/" id="post-68121-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-68121-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/68121/down/" id="post-68121-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/68121/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>I am building a tile server that will be serving map tiles in Ontario, Canada only.  The PBF file is about 680MB.</p>
<p>I will be using DigitalOcean's droplets to host my tiles.  I have 2 options:</p>
<p>$40 Standard Droplet</p>
<ul>
<li>4 CPUs</li>
<li>8GB RAM</li>
</ul>
<p>$40 Optimized Droplet</p>
<ul>
<li>2 Dedicated CPUs</li>
<li>4GB RAM</li>
</ul>
<p>For serving map tiles in Ontario alone, should I go for more RAM, or superior processing power?  </p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-tiles" href="/tags/tiles/" rel="tag" title="see questions tagged 'tiles'">tiles</a>
<a class="post-tag tag-link-tileserver" href="/tags/tileserver/" rel="tag" title="see questions tagged 'tileserver'">tileserver</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>23 Feb '19, 20:53</strong>
</p>
<img alt="valachio's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/b1e3fbb6f31c5e0144e7b18fcd7d5d33?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/16323/valachio">valachio</a><br/>
<span class="score" title="41 reputation points">41</span><span title="8 badges"><span class="badge1">●</span><span class="badgecount">8</span></span><span title="9 badges"><span class="silver">●</span><span class="badgecount">9</span></span><span title="13 badges"><span class="bronze">●</span><span class="badgecount">13</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="valachio has no accepted answers">0%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/68121/">
                edited
                <strong>23 Feb '19, 20:54</strong>
</a>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-68121">
</div>
<div class="comment-tools" id="comment-tools-68121">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-68121-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    One Answer:
                    </div>
<div class="tabsA"><a href="/questions/68121/running-tile-server-should-i-opt-for-more-cpu-or-ram?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/68121/running-tile-server-should-i-opt-for-more-cpu-or-ram?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/68121/running-tile-server-should-i-opt-for-more-cpu-or-ram?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/68121/running-tile-server-should-i-opt-for-more-cpu-or-ram?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="68122"></a>
<div class="answer accepted-answer" id="answer-container-68122">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/68122/up/" id="post-68122-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-68122-score" title="current number of votes">
    2
</div>
<a class="ajax-command post-vote down" href="/vote/68122/down/" id="post-68122-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="accept-answer on" href="/accept_answer/68122/" rel="nofollow" title="valachio has selected this answer as the correct answer">
</a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>It's a bit of a "how long is a piece of string" question, because you don't say what sort of tiles you're hosting (e.g. vector or raster) and what map style, whether you're trying to keep it up to date, and how much traffic you expect.</p>
<p>To give an example, <a href="https://map.atownsend.org.uk/maps/map/map.html">this</a> server has a 1.1Gb .pbf loaded into it, has a probably more detailed (raster) map style than OSM Carto, and fitted nicely into a 4GB RAM, 2CPU, 100Gb SSD server before I upgraded.  It doesn't get much traffic, which may be relevant.  If you're rendering raster tiles using OSM's standard style I'd expect you'd fit into that spec (probably into the 80GB SSD that comes with your "standard" droplet) - choose fast disk over fast CPU.  $40 per month seems a bit on the high side compared to European providers, though - something like €9 should cover what you want.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/68122/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>23 Feb '19, 21:23</strong>
</p>
<img alt="SomeoneElse's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/0bf1aa22f7f5e045b0eb8beb79fe7907?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/387/someoneelse">SomeoneElse ♦</a><br/>
<span class="score" title="36866 reputation points"><span class="">36.9k</span></span><span title="71 badges"><span class="badge1">●</span><span class="badgecount">71</span></span><span title="370 badges"><span class="silver">●</span><span class="badgecount">370</span></span><span title="866 badges"><span class="bronze">●</span><span class="badgecount">866</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="SomeoneElse has 228 accepted answers">16%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-68122">
<a name="68123"></a>
<div class="comment" id="comment-68123">
<div class="comment-score" id="post-68123-score"></div>
<div class="comment-text"><p>Sorry about the lack of details.  I'm not experienced with operating map servers (I had no idea the difference between raster and vector tiles until you mentioned it).</p>
<p>My goal is to replicate the performance of Google Maps (as I am switching over from using Google Maps API).  So I will be using raster tiles along with satellite tiles (users will be able to switch between map &amp; satellite view).</p>
<p>Our site's current traffic is about 5,000 users per day, and about 8,000 sessions per day.</p>
<p>I plan to create custom styling as I am not a big fan of OSM's default style.</p>
<p>I have no issues paying a bit more every month as this map server is supported by a business.</p>
<p>The server you linked is quite nice.  It is basically what I'm looking for, except I just want the area of Ontario, Canada (about half the size of yours).</p></div>
<div class="comment-info" id="comment-68123-info">
<span class="comment-age">(23 Feb '19, 21:39)</span>
<a class="comment-user userinfo" href="/users/16323/valachio">valachio</a>
</div>
</div>
<a name="68124"></a>
<div class="comment" id="comment-68124">
<div class="comment-score" id="post-68124-score"></div>
<div class="comment-text"><p>By the way.  Was there a particular tutorial you used to build your map server?  I am using this one - <a href="https://switch2osm.org/manually-building-a-tile-server-16-04-2-lts/">https://switch2osm.org/manually-building-a-tile-server-16-04-2-lts/</a></p></div>
<div class="comment-info" id="comment-68124-info">
<span class="comment-age">(23 Feb '19, 21:40)</span>
<a class="comment-user userinfo" href="/users/16323/valachio">valachio</a>
</div>
</div>
<a name="68125"></a>
<div class="comment" id="comment-68125">
<div class="comment-score" id="post-68125-score">4</div>
<div class="comment-text"><p>Be aware that OSM does not have satellite imagery. You will either have to use tiles from a different server, or host them yourself; hosting high-resolution satellite imagery will likely use several 100 GB for Ontario.</p></div>
<div class="comment-info" id="comment-68125-info">
<span class="comment-age">(23 Feb '19, 21:47)</span>
<a class="comment-user userinfo" href="/users/104/frederik-ramm">Frederik Ramm ♦</a>
</div>
</div>
<a name="68126"></a>
<div class="comment" id="comment-68126">
<div class="comment-score" id="post-68126-score">2</div>
<div class="comment-text"><p>Pretty similar - I'm following <a href="https://wiki.openstreetmap.org/wiki/User:SomeoneElse/Ubuntu_1804_tileserver_load">this</a>, although obviously ignoring the virtualbox stuff as you don't need to worry about that with a cloud server.</p></div>
<div class="comment-info" id="comment-68126-info">
<span class="comment-age">(23 Feb '19, 21:51)</span>
<a class="comment-user userinfo" href="/users/387/someoneelse">SomeoneElse ♦</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-68122">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-68122-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/68121/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="xGkNybYXKAXFH6N2pxLBpNmnvfyYDv4T"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>