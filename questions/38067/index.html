<meta charset="utf-8"/><link href="../style.css" rel="stylesheet" type="text/css"/><div id="CALeft"><center><a href="../"><img id="ll" src="https://help.openstreetmap.org/upfiles/osm_help_logo_6.png"/></a></center>
<div class="headNormal">
<h1><a href="/questions/38067/how-get-all-postal-codes-of-a-city-with-nominatim">How get all postal codes of a city with nominatim?</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/38067/up/" id="post-38067-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-38067-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/38067/down/" id="post-38067-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/38067/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>Hi,
A big City can have more than one postal code. Which query can I use to get all postcodes of a given City back?
Thanks!</p>
<p><em>Addition:</em></p>
<p>As an <em>example</em> , I live in <em>Stuttgart/Germany</em> which has dozens of postal codes:</p>
<p>data from Germany Post Office webpage:</p>
<blockquote>
<p>Stuttgart (PLZ: 70173) </p>
<p>Name: Stuttgart<br/>
Postleitzahl: 70173<br/>
Bundesland: Baden-Württemberg<br/>
Typ: Stadt / Gemeinde<br/>
Geografische Position: 48.7666700 / 9.1833300<br/>
Regierungsbezirk: Stuttgart<br/>
Landkreis: Stadtkreis<br/>
Autokennzeichen: S<br/>
weitere Postleitzahlen: <strong>70173, 70174, 70176, 70178, 70180, 70182, 70184, 70186, 70188, 70190, 70191, 70192, 70193, 70195, 70197, 70199, 70327, 70329, 70372, 70374, 70378, 70435, 70437, 70439, 70469, 70476, 70499, 70563, 70565, 70567, 70569, 70597, 70599, 70619, 70629</strong> </p>
</blockquote>
<p>But for this query (below) , I receive only postcodes for only 8 suburbs of Stuttgart in XML: <a href="http://nominatim.openstreetmap.org/search/germany/stuttgart?format=xml&amp;polygon=0&amp;addressdetails=1">http://nominatim.openstreetmap.org/search/germany/stuttgart?format=xml&amp;polygon=0&amp;addressdetails=1</a></p>
<p>It would also be helpful, if I could get a list of streets, cause with a combination of City/street, I kann get the postcode.
Thanks</p>
<p><em>Adiition:</em>  I want a query with "<strong>NOMINATIM</strong>" online Format which gives me back data over <strong>XML</strong>. "<strong>SQL</strong>"- queries are irrelevant for me. </p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-city" href="/tags/city/" rel="tag" title="see questions tagged 'city'">city</a>
<a class="post-tag tag-link-nominatim" href="/tags/nominatim/" rel="tag" title="see questions tagged 'nominatim'">nominatim</a>
<a class="post-tag tag-link-postcodes" href="/tags/postcodes/" rel="tag" title="see questions tagged 'postcodes'">postcodes</a>
<a class="post-tag tag-link-query" href="/tags/query/" rel="tag" title="see questions tagged 'query'">query</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>29 Oct '14, 09:23</strong>
</p>
<img alt="Ali%20Sabahi's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/99ac5384624201c93306265a4cc20548?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/9913/ali-sabahi">Ali Sabahi</a><br/>
<span class="score" title="12 reputation points">12</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">●</span><span class="badgecount">1</span></span><span title="4 badges"><span class="bronze">●</span><span class="badgecount">4</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Ali Sabahi has no accepted answers">0%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/38067/">
                edited
                <strong>31 Oct '14, 14:54</strong>
</a>
</p>
<img alt="aseerel4c26's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/66f0dc05b44574e3894be07b0b37cf37?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/5179/aseerel4c26">aseerel4c26 ♦</a><br/>
<span class="score" title="32615 reputation points"><span class="">32.6k</span></span><span title="18 badges"><span class="badge1">●</span><span class="badgecount">18</span></span><span title="248 badges"><span class="silver">●</span><span class="badgecount">248</span></span><span title="554 badges"><span class="bronze">●</span><span class="badgecount">554</span></span></p>
</div>
</div>
<div class="comments-container" id="comments-container-38067">
</div>
<div class="comment-tools" id="comment-tools-38067">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-38067-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    4 Answers:
                    </div>
<div class="tabsA"><a href="/questions/38067/how-get-all-postal-codes-of-a-city-with-nominatim?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/38067/how-get-all-postal-codes-of-a-city-with-nominatim?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/38067/how-get-all-postal-codes-of-a-city-with-nominatim?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/38067/how-get-all-postal-codes-of-a-city-with-nominatim?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="38125"></a>
<div class="answer accepted-answer" id="answer-container-38125">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/38125/up/" id="post-38125-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-38125-score" title="current number of votes">
    2
</div>
<a class="ajax-command post-vote down" href="/vote/38125/down/" id="post-38125-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="accept-answer on" href="/accept_answer/38125/" rel="nofollow" title="Ali Sabahi has selected this answer as the correct answer">
</a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>User wambacher maintains a <a href="https://osm.wno-edv-service.de/pcboundaries/">website</a> , where you can download all postcode areas in Germany in a variety of formats. </p>
<p>Also look at this <a href="http://forum.openstreetmap.org/viewtopic.php?id=23238">tread</a> on the German forum</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/38125/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>30 Oct '14, 16:47</strong>
</p>
<img alt="escada's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/813a136afe7d4c95fd5bccdd78705e0e?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/5390/escada">escada</a><br/>
<span class="score" title="19043 reputation points"><span class="">19.0k</span></span><span title="16 badges"><span class="badge1">●</span><span class="badgecount">16</span></span><span title="166 badges"><span class="silver">●</span><span class="badgecount">166</span></span><span title="302 badges"><span class="bronze">●</span><span class="badgecount">302</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="escada has 97 accepted answers">21%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-38125">
</div>
<div class="comment-tools" id="comment-tools-38125">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-38125-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="38101"></a>
<div class="answer" id="answer-container-38101">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/38101/up/" id="post-38101-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-38101-score" title="current number of votes">
    4
</div>
<a class="ajax-command post-vote down" href="/vote/38101/down/" id="post-38101-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>First you need to realize that there is no gurantee that the postcodes are in OSM in the first place, this really depends on where you want to have the data for.</p>
<p>Further the information may be prsent in many different ways, non-exhaustive list:</p>
<ul>
<li>on objects with a place tag</li>
<li>on boundary polygons (dedicated and others)</li>
<li>in addresses (Karlsruher Schema)</li>
</ul>
<p>As you can see it really depends on what data is in use and available for the area in question. If you can give us an indication which city you are looking at, we can likely provide a more specific answer.</p>
<p><em>For your example of Stuttgart (Germany) and Nominatim:</em></p>
<p>Germany has complete data for postcode areas, see this forum thread for details: <a href="http://forum.openstreetmap.org/viewtopic.php?id=23238">http://forum.openstreetmap.org/viewtopic.php?id=23238</a></p>
<p>AFAIK there are various issues with using postcodes with nominatim, if you want to do queries based on the postcode areas I would suggest using the overpass api / overpass-turbo UI.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/38101/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>30 Oct '14, 08:03</strong>
</p>
<img alt="SimonPoole's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/ad2513d6f8e3d709d576ace900c12fa5?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/2053/simonpoole">SimonPoole ♦</a><br/>
<span class="score" title="44667 reputation points"><span class="">44.7k</span></span><span title="13 badges"><span class="badge1">●</span><span class="badgecount">13</span></span><span title="326 badges"><span class="silver">●</span><span class="badgecount">326</span></span><span title="701 badges"><span class="bronze">●</span><span class="badgecount">701</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="SimonPoole has 209 accepted answers">18%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/38101/">
                edited
                <strong>30 Oct '14, 11:04</strong>
</a>
</p>
<img alt="aseerel4c26's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/66f0dc05b44574e3894be07b0b37cf37?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/5179/aseerel4c26">aseerel4c26 ♦</a><br/>
<span class="score" title="32615 reputation points"><span class="">32.6k</span></span><span title="18 badges"><span class="badge1">●</span><span class="badgecount">18</span></span><span title="248 badges"><span class="silver">●</span><span class="badgecount">248</span></span><span title="554 badges"><span class="bronze">●</span><span class="badgecount">554</span></span></p>
</div>
</div>
<div class="comments-container" id="comments-container-38101">
<a name="38135"></a>
<div class="comment" id="comment-38135">
<div class="comment-score" id="post-38135-score">2</div>
<div class="comment-text"><p>OP cross-posted the same question in the German forum. See this link for some examples for an overpass api query:</p>
<p><a href="http://forum.openstreetmap.org/viewtopic.php?id=27518">http://forum.openstreetmap.org/viewtopic.php?id=27518</a></p></div>
<div class="comment-info" id="comment-38135-info">
<span class="comment-age">(30 Oct '14, 21:04)</span>
<a class="comment-user userinfo" href="/users/8708/mmd">mmd</a>
</div>
</div>
<a name="38146"></a>
<div class="comment" id="comment-38146">
<div class="comment-score" id="post-38146-score"></div>
<div class="comment-text"><p>Nominatim only gives back one answer as far as I know. Given any place in a city, there is only 1 valid postal code. That is what Nominatim does. The postal code you see is probably the one where the admin_center node of Stuttgart is located.
You will need to query for multiple points (one in each postal code area) or use a different tool.
You could retrieve this data via the Overpass API (sorry but no time right now to write detail about that)</p></div>
<div class="comment-info" id="comment-38146-info">
<span class="comment-age">(31 Oct '14, 08:43)</span>
<a class="comment-user userinfo" href="/users/5390/escada">escada</a>
</div>
</div>
<a name="38147"></a>
<div class="comment" id="comment-38147">
<div class="comment-score" id="post-38147-score">2</div>
<div class="comment-text"><p><a href="http://help.openstreetmap.org/users/9913/ali-sabahi">@Ali Sabahi</a> If you'd like your questions to be answered, it's best not to add them as "new answers" to an original question.  Edit the original question or add comments to it - that way all parts of your question are visible in one place.</p></div>
<div class="comment-info" id="comment-38147-info">
<span class="comment-age">(31 Oct '14, 09:03)</span>
<a class="comment-user userinfo" href="/users/387/someoneelse">SomeoneElse ♦</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-38101">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-38101-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="38105"></a>
<div class="answer answered-by-owner" id="answer-container-38105">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/38105/up/" id="post-38105-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-38105-score" title="current number of votes">
    -1
</div>
<a class="ajax-command post-vote down" href="/vote/38105/down/" id="post-38105-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>(added to the question above)</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/38105/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>30 Oct '14, 08:34</strong>
</p>
<img alt="Ali%20Sabahi's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/99ac5384624201c93306265a4cc20548?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/9913/ali-sabahi">Ali Sabahi</a><br/>
<span class="score" title="12 reputation points">12</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">●</span><span class="badgecount">1</span></span><span title="4 badges"><span class="bronze">●</span><span class="badgecount">4</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Ali Sabahi has no accepted answers">0%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/38105/">
                edited
                <strong>30 Oct '14, 11:02</strong>
</a>
</p>
<img alt="aseerel4c26's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/66f0dc05b44574e3894be07b0b37cf37?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/5179/aseerel4c26">aseerel4c26 ♦</a><br/>
<span class="score" title="32615 reputation points"><span class="">32.6k</span></span><span title="18 badges"><span class="badge1">●</span><span class="badgecount">18</span></span><span title="248 badges"><span class="silver">●</span><span class="badgecount">248</span></span><span title="554 badges"><span class="bronze">●</span><span class="badgecount">554</span></span></p>
</div>
</div>
<div class="comments-container" id="comments-container-38105">
</div>
<div class="comment-tools" id="comment-tools-38105">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-38105-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="38144"></a>
<div class="answer answered-by-owner" id="answer-container-38144">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/38144/up/" id="post-38144-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-38144-score" title="current number of votes">
    -1
</div>
<a class="ajax-command post-vote down" href="/vote/38144/down/" id="post-38144-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>Thanks, but I did not find there the answer I need. I want a query with "<strong>NOMINATIM</strong>" online Format which gives me back data over <strong>XML</strong>. In the mentioned thread, the "<strong>SQL</strong>"- queries were discussed, which are irrelevant for me. </p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/38144/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>31 Oct '14, 08:30</strong>
</p>
<img alt="Ali%20Sabahi's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/99ac5384624201c93306265a4cc20548?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/9913/ali-sabahi">Ali Sabahi</a><br/>
<span class="score" title="12 reputation points">12</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">●</span><span class="badgecount">1</span></span><span title="4 badges"><span class="bronze">●</span><span class="badgecount">4</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Ali Sabahi has no accepted answers">0%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/38144/">
                edited
                <strong>31 Oct '14, 08:32</strong>
</a>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-38144">
</div>
<div class="comment-tools" id="comment-tools-38144">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-38144-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/38067/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="p7aYTOOY7xRvd4RsH25wRSt0sguaeSlh"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>