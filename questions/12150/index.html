<meta charset="utf-8"/><link href="../style.css" rel="stylesheet" type="text/css"/><div id="CALeft"><center><a href="../"><img id="ll" src="https://help.openstreetmap.org/upfiles/osm_help_logo_6.png"/></a></center>
<div class="headNormal">
<h1><a href="/questions/12150/missing-house-numbers-in-local-nominatim-instance">Missing House Numbers in local Nominatim instance?</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/12150/up/" id="post-12150-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-12150-score" title="current number of votes">
    1
</div>
<a class="ajax-command post-vote down" href="/vote/12150/down/" id="post-12150-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/12150/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
   1
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>I downloaded a US State extract from CloudMade, imported into Nominatim, and found that house numbers are not recognized. </p>
<p>I don't understand why I am getting completely different results than nominatim.openstreetmap.org.</p>
<p>Would I get better results from a full planet OSM file? I kind of have cold feet with the experience so far from this small extract.</p>
<p>Thanks</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-house" href="/tags/house/" rel="tag" title="see questions tagged 'house'">house</a>
<a class="post-tag tag-link-nominatim" href="/tags/nominatim/" rel="tag" title="see questions tagged 'nominatim'">nominatim</a>
<a class="post-tag tag-link-cloudmade" href="/tags/cloudmade/" rel="tag" title="see questions tagged 'cloudmade'">cloudmade</a>
<a class="post-tag tag-link-number" href="/tags/number/" rel="tag" title="see questions tagged 'number'">number</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>19 Apr '12, 00:11</strong>
</p>
<img alt="Norm1's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/e17c2bfaed82349f7a355866ff24e4cf?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/3409/norm1">Norm1</a><br/>
<span class="score" title="126 reputation points">126</span><span title="4 badges"><span class="badge1">●</span><span class="badgecount">4</span></span><span title="5 badges"><span class="silver">●</span><span class="badgecount">5</span></span><span title="8 badges"><span class="bronze">●</span><span class="badgecount">8</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Norm1 has no accepted answers">0%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/12150/">
                edited
                <strong>19 Apr '12, 11:12</strong>
</a>
</p>
<img alt="SomeoneElse's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/0bf1aa22f7f5e045b0eb8beb79fe7907?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/387/someoneelse">SomeoneElse ♦</a><br/>
<span class="score" title="36866 reputation points"><span class="">36.9k</span></span><span title="71 badges"><span class="badge1">●</span><span class="badgecount">71</span></span><span title="370 badges"><span class="silver">●</span><span class="badgecount">370</span></span><span title="866 badges"><span class="bronze">●</span><span class="badgecount">866</span></span></p>
</div>
</div>
<div class="comments-container" id="comments-container-12150">
<a name="12185"></a>
<div class="comment" id="comment-12185">
<div class="comment-score" id="post-12185-score"></div>
<div class="comment-text"><p>My table <code>location_property_tiger</code> is empty, could that have anything to do with not finding house numbers? Where would that source data come from?</p></div>
<div class="comment-info" id="comment-12185-info">
<span class="comment-age">(19 Apr '12, 20:52)</span>
<a class="comment-user userinfo" href="/users/3409/norm1">Norm1</a>
</div>
</div>
<a name="12197"></a>
<div class="comment" id="comment-12197">
<div class="comment-score" id="post-12197-score"></div>
<div class="comment-text"><p>Maybe we need some testcases to see where the problem is.</p>
<p>And perhabs you can ask <a href="http://www.openstreetmap.org/user/lonvia">http://www.openstreetmap.org/user/lonvia</a> ... she seems to be involved in some way to Nominatim.</p></div>
<div class="comment-info" id="comment-12197-info">
<span class="comment-age">(20 Apr '12, 13:16)</span>
<a class="comment-user userinfo" href="/users/99/stephan75">stephan75</a>
</div>
</div>
<a name="12276"></a>
<div class="comment" id="comment-12276">
<div class="comment-score" id="post-12276-score"></div>
<div class="comment-text"><p>Thank you, I will reach out to lonvia.</p>
<p>On a side note, is anyone here running a copy of Nominatim? Is your table location_property_tiger empty?</p>
<p>I scoured through the source code of OSM and Nominatim and I don't see anything that is responsible for populating data for that table.</p></div>
<div class="comment-info" id="comment-12276-info">
<span class="comment-age">(23 Apr '12, 13:59)</span>
<a class="comment-user userinfo" href="/users/3409/norm1">Norm1</a>
</div>
</div>
<a name="12296"></a>
<div class="comment" id="comment-12296">
<div class="comment-score" id="post-12296-score"></div>
<div class="comment-text"><p>Here is a perfect example with missing house numbers:</p>
<p><a href="http://ec2-23-22-23-186.compute-1.amazonaws.com/search.php?q=19+gloria+lane%2C+fairfield+nj&amp;viewbox=-74.3%2C40.88%2C-74.29%2C40.87">http://ec2-23-22-23-186.compute-1.amazonaws.com/search.php?q=19+gloria+lane%2C+fairfield+nj&amp;viewbox=-74.3%2C40.88%2C-74.29%2C40.87</a></p>
<p><a href="http://nominatim.openstreetmap.org/search.php?q=19+gloria+lane%2C+fairfield+nj&amp;viewbox=-74.3%2C40.88%2C-74.29%2C40.87">http://nominatim.openstreetmap.org/search.php?q=19+gloria+lane%2C+fairfield+nj&amp;viewbox=-74.3%2C40.88%2C-74.29%2C40.87</a></p></div>
<div class="comment-info" id="comment-12296-info">
<span class="comment-age">(23 Apr '12, 17:37)</span>
<a class="comment-user userinfo" href="/users/3409/norm1">Norm1</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-12150">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-12150-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    One Answer:
                    </div>
<div class="tabsA"><a href="/questions/12150/missing-house-numbers-in-local-nominatim-instance?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/12150/missing-house-numbers-in-local-nominatim-instance?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/12150/missing-house-numbers-in-local-nominatim-instance?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/12150/missing-house-numbers-in-local-nominatim-instance?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="12303"></a>
<div class="answer accepted-answer" id="answer-container-12303">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/12303/up/" id="post-12303-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-12303-score" title="current number of votes">
    9
</div>
<a class="ajax-command post-vote down" href="/vote/12303/down/" id="post-12303-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="accept-answer on" href="/accept_answer/12303/" rel="nofollow" title="Norm1 has selected this answer as the correct answer">
</a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>In the US, the OSM instance of Nominatim uses TIGER address data to complement the still sparse OSM house number data. You can add TIGER data to your own Nominatim instance by following these steps:</p>
<ol>
<li>Get the <a href="ftp://ftp2.census.gov/geo/tiger/TIGER2012">TIGER 2012</a> data. You will need the EDGES files.</li>
<li>Extract the relevant data: <code>./utils/imports.php --parse-tiger-2011 &lt;tiger directory&gt;</code></li>
<li>Import the data into your Nominatim database: <code>./utils/setup.php --import-tiger-data</code></li>
</ol>
<p>Be warned that the import can take a very long time, especially if you are importing all of the US.</p>
<p>Note: answer updated for TIGER 2012 data.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/12303/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>23 Apr '12, 19:36</strong>
</p>
<img alt="lonvia's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/d888b712d85dee0aa304297f2dc697c7?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/2921/lonvia">lonvia</a><br/>
<span class="score" title="6213 reputation points"><span class="">6.2k</span></span><span title="2 badges"><span class="badge1">●</span><span class="badgecount">2</span></span><span title="57 badges"><span class="silver">●</span><span class="badgecount">57</span></span><span title="89 badges"><span class="bronze">●</span><span class="badgecount">89</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="lonvia has 43 accepted answers">40%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/12303/">
                edited
                <strong>17 Jul '13, 10:52</strong>
</a>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-12303">
<a name="12333"></a>
<div class="comment" id="comment-12333">
<div class="comment-score" id="post-12333-score"></div>
<div class="comment-text"><p>Cheers, lonvia. Your instructions were spot on!</p></div>
<div class="comment-info" id="comment-12333-info">
<span class="comment-age">(24 Apr '12, 14:35)</span>
<a class="comment-user userinfo" href="/users/3409/norm1">Norm1</a>
</div>
</div>
<a name="15466"></a>
<div class="comment" id="comment-15466">
<div class="comment-score" id="post-15466-score"></div>
<div class="comment-text"><p>Hello, I'm having this problem when I try to import tiger data by following the steps you mention. I've downloaded the edges from here <a href="ftp://ftp2.census.gov/geo/tiger/TIGER2011/EDGES/">ftp://ftp2.census.gov/geo/tiger/TIGER2011/EDGES/</a>
The command I use is ./utils/imports.php --parse-tiger-2011 EDGES/
I get the output of this sort:
  File "/Nominatim/utils/tigerAddressImport.py", line 50, in &lt;module&gt;
    import ogr
ImportError: No module named ogr
Failed parse (/root/tiger/ftp2.census.gov/geo/tiger/TIGER2011/EDGES/tl_2011_01001_edges.zip)
Any help you could give will be extremely appreciated!</p></div>
<div class="comment-info" id="comment-15466-info">
<span class="comment-age">(24 Aug '12, 09:04)</span>
<a class="comment-user userinfo" href="/users/4292/silviu_">silviu_</a>
</div>
</div>
<a name="15508"></a>
<div class="comment" id="comment-15508">
<div class="comment-score" id="post-15508-score"></div>
<div class="comment-text"><p>You need the <a href="http://pypi.python.org/pypi/GDAL">GDAL package for python</a>. In Ubuntu install it with <code>sudo apt-get install python-gdal</code>.</p></div>
<div class="comment-info" id="comment-15508-info">
<span class="comment-age">(25 Aug '12, 13:09)</span>
<a class="comment-user userinfo" href="/users/2921/lonvia">lonvia</a>
</div>
</div>
<a name="25845"></a>
<div class="comment" id="comment-25845">
<div class="comment-score" id="post-25845-score">1</div>
<div class="comment-text"><p>I am running this command  ./utils/imports.php --parse-tiger-2011 /osm/tiger_data/ but the process does not start and no output even.</p></div>
<div class="comment-info" id="comment-25845-info">
<span class="comment-age">(27 Aug '13, 10:37)</span>
<a class="comment-user userinfo" href="/users/7192/mezbaur">mezbaur</a>
</div>
</div>
<a name="25867"></a>
<div class="comment" id="comment-25867">
<div class="comment-score" id="post-25867-score">1</div>
<div class="comment-text"><p>Looks like the changes for the 2012 and 2013 editions haven't made it into the release yet. You need the import script from the latest git version. It is safe to simply clone the latest version temporarily and run the TIGER import from there.</p></div>
<div class="comment-info" id="comment-25867-info">
<span class="comment-age">(27 Aug '13, 19:12)</span>
<a class="comment-user userinfo" href="/users/2921/lonvia">lonvia</a>
</div>
</div>
<a name="33188"></a>
<div class="comment not_top_scorer" id="comment-33188">
<div class="comment-score" id="post-33188-score"></div>
<div class="comment-text"><p><a href="/users/7192/mezbaur"></a><a href="/users/7192/mezbaur">@mezbaur</a> I needed to put the edge zip file(s) in their own directory and pass that directory in as the argument. Hope that helps. Also you can get a specific county's EDGEs by going here <a href="http://www.census.gov/cgi-bin/geo/shapefiles2013/main.">http://www.census.gov/cgi-bin/geo/shapefiles2013/main.</a> Select "All Lines" from the drop down. Then choose the state/county.</p>
<p>Also note that this process took up a bunch of ram.</p>
<p>I imported it and it still seems to not be working</p></div>
<div class="comment-info" id="comment-33188-info">
<span class="comment-age">(14 May '14, 23:38)</span>
<a class="comment-user userinfo" href="/users/8854/drewlesueur">drewlesueur</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-12303">
<span class="comments-showing">
            showing 5 of 6
        </span>
<a class="show-all-comments-link" href="#">show 1 more comments</a>
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-12303-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/12150/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="IghcRWpwcRZQr76tXsmCl1lVi0XuRgjk"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>