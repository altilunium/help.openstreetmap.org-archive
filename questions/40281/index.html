<meta charset="utf-8"/><link href="../style.css" rel="stylesheet" type="text/css"/><div id="CALeft"><center><a href="../"><img id="ll" src="https://help.openstreetmap.org/upfiles/osm_help_logo_6.png"/></a></center>
<div class="headNormal">
<h1><a href="/questions/40281/building-numbers-list-on-street">Building numbers list on street</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/40281/up/" id="post-40281-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-40281-score" title="current number of votes">
    1
</div>
<a class="ajax-command post-vote down" href="/vote/40281/down/" id="post-40281-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/40281/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>What is the best way to get street name by part of street name and to get list of all building numbers on street. Which software and services need I to install on my own server? I want use it without connection to OSM servers. Is it possible to make it by Overpass Api or by Nominatim? How will queries look for Nominatim, Overpass API and PostgreSQL? Thank you.</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-building" href="/tags/building/" rel="tag" title="see questions tagged 'building'">building</a>
<a class="post-tag tag-link-search" href="/tags/search/" rel="tag" title="see questions tagged 'search'">search</a>
<a class="post-tag tag-link-street" href="/tags/street/" rel="tag" title="see questions tagged 'street'">street</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>13 Jan '15, 10:38</strong>
</p>
<img alt="yaahor's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/aeafd4156483ce12e60c02d426635abe?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/10281/yaahor">yaahor</a><br/>
<span class="score" title="61 reputation points">61</span><span title="4 badges"><span class="badge1">●</span><span class="badgecount">4</span></span><span title="5 badges"><span class="silver">●</span><span class="badgecount">5</span></span><span title="8 badges"><span class="bronze">●</span><span class="badgecount">8</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="yaahor has no accepted answers">0%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/40281/">
                edited
                <strong>14 Jan '15, 12:25</strong>
</a>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-40281">
<a name="40344"></a>
<div class="comment" id="comment-40344">
<div class="comment-score" id="post-40344-score"></div>
<div class="comment-text"><p>Can you explain what is the level and scale of your needs ? is it just locally or for an application (web, mobile) ? is it just for one town, for a country, the world ?</p></div>
<div class="comment-info" id="comment-40344-info">
<span class="comment-age">(14 Jan '15, 12:15)</span>
<a class="comment-user userinfo" href="/users/87/pieren">Pieren</a>
</div>
</div>
<a name="40345"></a>
<div class="comment" id="comment-40345">
<div class="comment-score" id="post-40345-score"></div>
<div class="comment-text"><p>It will be used on website. It is for one town (maybe in future for country).</p></div>
<div class="comment-info" id="comment-40345-info">
<span class="comment-age">(14 Jan '15, 12:23)</span>
<a class="comment-user userinfo" href="/users/10281/yaahor">yaahor</a>
</div>
</div>
<a name="40349"></a>
<div class="comment" id="comment-40349">
<div class="comment-score" id="post-40349-score"></div>
<div class="comment-text"><p>Then a local instance of nominatim can help you to find the full street name then you can retrieve the data yourself on your local copy of osm dataset. overpass is only usefull when you work online and don't want a local database.</p></div>
<div class="comment-info" id="comment-40349-info">
<span class="comment-age">(14 Jan '15, 13:54)</span>
<a class="comment-user userinfo" href="/users/87/pieren">Pieren</a>
</div>
</div>
<a name="40356"></a>
<div class="comment" id="comment-40356">
<div class="comment-score" id="post-40356-score"></div>
<div class="comment-text"><p>I thought <a href="http://wiki.openstreetmap.org/wiki/Overpass_API/install">http://wiki.openstreetmap.org/wiki/Overpass_API/install</a> allow install Overpass API locally. Did I err? I have understood how make my task using Overpass API. Nominatim can help me really? Can you write Nominatim query?</p></div>
<div class="comment-info" id="comment-40356-info">
<span class="comment-age">(14 Jan '15, 15:57)</span>
<a class="comment-user userinfo" href="/users/10281/yaahor">yaahor</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-40281">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-40281-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    2 Answers:
                    </div>
<div class="tabsA"><a href="/questions/40281/building-numbers-list-on-street?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/40281/building-numbers-list-on-street?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/40281/building-numbers-list-on-street?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/40281/building-numbers-list-on-street?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="40336"></a>
<div class="answer accepted-answer" id="answer-container-40336">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/40336/up/" id="post-40336-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-40336-score" title="current number of votes">
    3
</div>
<a class="ajax-command post-vote down" href="/vote/40336/down/" id="post-40336-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="accept-answer on" href="/accept_answer/40336/" rel="nofollow" title="yaahor has selected this answer as the correct answer">
</a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>Normally, you don't need a special software with spacial queries. If the street numbers are correctly tagged, the link between the number and its street is already in OSM. To simplify, currently they are two methods to link the street number of a building to its street (also <a href="http://wiki.openstreetmap.org/wiki/Key:addr">documented in the wiki</a>) (which method is used is a contributor decision):<br/>
 - two tags "addr:housenumber=&lt; a number&gt;" + "addr:street=&lt; the street name&gt;" set on the same OSM element, a node or a closed way (a polygon) or a relation (most probably a relation for a multipolygon)<br/>
 - one tag "addr:housenumber=&lt; a number&gt;" set on the OSM element, node or way like above, and  attached to a relation of type "<a href="http://wiki.openstreetmap.org/wiki/Relation:associatedStreet">associatedStreet</a>" with the role "house" and where the street name is the relation tag "name". The polyline(s) of the street itself is(are) also member of this relation with the role "street" (see the wiki). So, once you find an OSM node or way with a tag "addr:housenumber", you can check if it is part of a relation "associatedStreet" and get the related street.</p>
<p>Statistically, the second method with a relation is much less popular than the first (less intuitive and newcomers are relunctant to edit/create relations) and is present only on some areas (like in France), this depends on how the method is popularized locally. 
So basically, if you find a housenumber without one of the two methods listed above, we generally consider this as incomplete in OSM. But sSome people still consider that the street can be linked by the distance between the OSM element and the nearest street (way tagged "highway") but there is a large consensus to consider this as too vague/imprecise and leading to errors especially near intersections- Geofabrik is providing a slippy map, OSM Inspector, showing if the address can be linked to a street and by which method here : <a href="http://tools.geofabrik.de/osmi/">http://tools.geofabrik.de/osmi/</a></p>
<p>What you should do first is download the OSM data (or some sample) into JOSM and look up how addresses are tagged in your area of interest.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/40336/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>14 Jan '15, 09:50</strong>
</p>
<img alt="Pieren's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/0e92f2d89853fd4e04c4b40a921e519b?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/87/pieren">Pieren</a><br/>
<span class="score" title="9847 reputation points"><span class="">9.8k</span></span><span title="20 badges"><span class="badge1">●</span><span class="badgecount">20</span></span><span title="83 badges"><span class="silver">●</span><span class="badgecount">83</span></span><span title="157 badges"><span class="bronze">●</span><span class="badgecount">157</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Pieren has 34 accepted answers">15%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/40336/">
                edited
                <strong>14 Jan '15, 11:54</strong>
</a>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-40336">
</div>
<div class="comment-tools" id="comment-tools-40336">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-40336-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="40290"></a>
<div class="answer" id="answer-container-40290">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/40290/up/" id="post-40290-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-40290-score" title="current number of votes">
    1
</div>
<a class="ajax-command post-vote down" href="/vote/40290/down/" id="post-40290-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>There are many ways to do what you want. One way to load an <a href="http://download.geofabrik.de/">OSM file</a> into PostGIS with <a href="http://wiki.openstreetmap.org/wiki/Osm2pgsql">osm2pgsql</a>, and do some geo SQL queries on the results.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/40290/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>13 Jan '15, 14:14</strong>
</p>
<img alt="rorym's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/16e12e337f6edc3750681492656097ed?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/30/rorym">rorym</a><br/>
<span class="score" title="5358 reputation points"><span class="">5.4k</span></span><span title="14 badges"><span class="badge1">●</span><span class="badgecount">14</span></span><span title="49 badges"><span class="silver">●</span><span class="badgecount">49</span></span><span title="100 badges"><span class="bronze">●</span><span class="badgecount">100</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="rorym has 18 accepted answers">11%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-40290">
<a name="40346"></a>
<div class="comment" id="comment-40346">
<div class="comment-score" id="post-40346-score"></div>
<div class="comment-text"><p>Can you write example of query to DB?</p></div>
<div class="comment-info" id="comment-40346-info">
<span class="comment-age">(14 Jan '15, 13:05)</span>
<a class="comment-user userinfo" href="/users/10281/yaahor">yaahor</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-40290">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-40290-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/40281/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="f11mAiLnVYMFBDUS5BCvVxYqN2bDsR5o"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>