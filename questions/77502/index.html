<meta charset="utf-8"/><link href="../style.css" rel="stylesheet" type="text/css"/><div id="CALeft"><center><a href="../"><img id="ll" src="https://help.openstreetmap.org/upfiles/osm_help_logo_6.png"/></a></center>
<div class="headNormal">
<h1><a href="/questions/77502/set-a-relation-for-buses-to-circle-roundabout-before-taking-exit">Set a relation for buses to circle roundabout before taking exit</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/77502/up/" id="post-77502-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-77502-score" title="current number of votes">
    1
</div>
<a class="ajax-command post-vote down" href="/vote/77502/down/" id="post-77502-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/77502/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>A traffic sign seen a few times, just now again on a brand new one, where certain vehicles, bus or lorry, is required to circle the roundabout as the shortcut is too tight for these vehicles. They appear well before the shortcut in form of a visual path laid out to take for these. The shortcut I've tagged with bus=no already. How can this be expressed in a relation?
thx</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-bus" href="/tags/bus/" rel="tag" title="see questions tagged 'bus'">bus</a>
<a class="post-tag tag-link-roundabout" href="/tags/roundabout/" rel="tag" title="see questions tagged 'roundabout'">roundabout</a>
<a class="post-tag tag-link-shortcut" href="/tags/shortcut/" rel="tag" title="see questions tagged 'shortcut'">shortcut</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>11 Nov '20, 09:09</strong>
</p>
<img alt="SekeRob's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/ed39ace8cbefe3b5c45da98f60f5e34c?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/8468/sekerob">SekeRob</a><br/>
<span class="score" title="211 reputation points">211</span><span title="19 badges"><span class="badge1">●</span><span class="badgecount">19</span></span><span title="20 badges"><span class="silver">●</span><span class="badgecount">20</span></span><span title="27 badges"><span class="bronze">●</span><span class="badgecount">27</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="SekeRob has no accepted answers">0%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-77502">
</div>
<div class="comment-tools" id="comment-tools-77502">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-77502-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    3 Answers:
                    </div>
<div class="tabsA"><a href="/questions/77502/set-a-relation-for-buses-to-circle-roundabout-before-taking-exit?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/77502/set-a-relation-for-buses-to-circle-roundabout-before-taking-exit?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/77502/set-a-relation-for-buses-to-circle-roundabout-before-taking-exit?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/77502/set-a-relation-for-buses-to-circle-roundabout-before-taking-exit?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="77503"></a>
<div class="answer" id="answer-container-77503">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/77503/up/" id="post-77503-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-77503-score" title="current number of votes">
    2
</div>
<a class="ajax-command post-vote down" href="/vote/77503/down/" id="post-77503-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>You can use a <a href="https://wiki.openstreetmap.org/wiki/Relation:restriction">restriction relation</a>n where you set the shortcut as role <code>via</code>. But why do you see that being necessary? Isn't the <code>bus=no</code> sufficient?</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/77503/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>11 Nov '20, 09:30</strong>
</p>
<img alt="TZorn's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/ddebc8d5f4e0458413eacf65e36561a9?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/10133/tzorn">TZorn</a><br/>
<span class="score" title="12350 reputation points"><span class="">12.3k</span></span><span title="7 badges"><span class="badge1">●</span><span class="badgecount">7</span></span><span title="64 badges"><span class="silver">●</span><span class="badgecount">64</span></span><span title="225 badges"><span class="bronze">●</span><span class="badgecount">225</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="TZorn has 63 accepted answers">15%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-77503">
<a name="77504"></a>
<div class="comment" id="comment-77504">
<div class="comment-score" id="post-77504-score"></div>
<div class="comment-text"><p>The OSM simulator does not allow to check but for car, bicycle, foot, which do perfect on the shortcut/rotonda mapping introduced a few months ago, even grasps the steps which are still in construction pending railing installation. If able to emulate a bus, I'd be satisfied. Else, the question remains.</p></div>
<div class="comment-info" id="comment-77504-info">
<span class="comment-age">(11 Nov '20, 12:15)</span>
<a class="comment-user userinfo" href="/users/8468/sekerob">SekeRob</a>
</div>
</div>
<a name="77505"></a>
<div class="comment" id="comment-77505">
<div class="comment-score" id="post-77505-score">3</div>
<div class="comment-text"><p>What is "the OSM simulator"?</p></div>
<div class="comment-info" id="comment-77505-info">
<span class="comment-age">(11 Nov '20, 13:13)</span>
<a class="comment-user userinfo" href="/users/5/richard">Richard ♦</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-77503">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-77503-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="77508"></a>
<div class="answer" id="answer-container-77508">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/77508/up/" id="post-77508-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-77508-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/77508/down/" id="post-77508-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>The two examples I know of apply to all (motorised?) traffic, such as <a href="https://www.openstreetmap.org/relation/11528691">Madeley Road to Waterloo Street in Ironbridge</a> and <a href="https://www.openstreetmap.org/relation/1320565">Cowley Road to Iffley Road in Oxford</a> and both of these have been handled by standard no left turn restrictions (with via either as way or node), so as TZom suggests in their answer, you could just do similar with mention of restriction:bus as per the wiki documentation.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/77508/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>11 Nov '20, 14:08</strong>
</p>
<img alt="EdLoach's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/f25a8392e12ed696b16554b3d08e4e2b?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/339/edloach">EdLoach ♦</a><br/>
<span class="score" title="19478 reputation points"><span class="">19.5k</span></span><span title="16 badges"><span class="badge1">●</span><span class="badgecount">16</span></span><span title="156 badges"><span class="silver">●</span><span class="badgecount">156</span></span><span title="280 badges"><span class="bronze">●</span><span class="badgecount">280</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="EdLoach has 93 accepted answers">22%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-77508">
<a name="77517"></a>
<div class="comment" id="comment-77517">
<div class="comment-score" id="post-77517-score"></div>
<div class="comment-text"><p>Thx for the reply. I'll ponder on how to translate this to my current case. Meanwhile, I'll play by making the shortcut temporarily forbidden for cars and then use the simulator to see what route is spat out. I'm hoping it does what I'd expect of some navigator software, find a route. Of course bus / lorry drivers wont experience this as a first and circle around, but just like to dot the eye.
cheers</p></div>
<div class="comment-info" id="comment-77517-info">
<span class="comment-age">(11 Nov '20, 17:16)</span>
<a class="comment-user userinfo" href="/users/8468/sekerob">SekeRob</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-77508">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-77508-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="77657"></a>
<div class="answer answered-by-owner" id="answer-container-77657">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/77657/up/" id="post-77657-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-77657-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/77657/down/" id="post-77657-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>OK, so took time to revisit this roundabout to check if any concluding construction work had progressed... nada, as the adjacent ferrovia is still under redesign construction, including galleria segments, the steps are still fenced off. Tested the shortcut specifying no motor-vehicles and low and behold, the cars were rerouted via the roundabout in ID, but with an immediate turn right again via the roundabout, as tight a turn, which is not the prescribed route of looping before taking the turn.</p>
<p>Anyway, now got 3 rotondas with this feature, a sign laying out how a bus, hgv or both are to circle, so bus=no hgv=no only does not work, it has to be a restrictive relation, neither allowing the immediate turn right for buses/hgv via the rotonda. So to lay it out, the restriction already in place for the shortcut with bus/hgv=no on the regular route via the roundabout</p>
<p>1) first a 'no right turn' from &gt; via(way) &gt; to
2) The relation tagged with restriction:bus=no_right_turn, restriction=no_right_turn as per proposal by EdLoach</p>
<p>EdLoach's linked samples got me on the way, will see if the JOSM issue report starts protesting. Suppose I can test this by adding restriction:motorcar=no_right_turn and put from/to in the router to see if the full loop is taken. If not, I'm on my way and close the topic. </p>
<p>Apologies for the verbosity.</p>
<p>Edit: No, router still put it directly right bypassing the shortcut, latter part proper. Will wait a few day to see if router prog needs time to get the new instructions, certainly adding oneway front of station had no immediate effect, that is 6 hours later the ID routing still takes the way against the direction.</p>
<p>TBC.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/77657/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>21 Nov '20, 18:28</strong>
</p>
<img alt="SekeRob's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/ed39ace8cbefe3b5c45da98f60f5e34c?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/8468/sekerob">SekeRob</a><br/>
<span class="score" title="211 reputation points">211</span><span title="19 badges"><span class="badge1">●</span><span class="badgecount">19</span></span><span title="20 badges"><span class="silver">●</span><span class="badgecount">20</span></span><span title="27 badges"><span class="bronze">●</span><span class="badgecount">27</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="SekeRob has no accepted answers">0%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-77657">
</div>
<div class="comment-tools" id="comment-tools-77657">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-77657-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/77502/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="pbKuwYbqqIIQEvmwWUwf6tPSziO5p7Kr"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>