<meta charset="UTF-8"><link rel="stylesheet" type="text/css" href="../style.css"><div id="CALeft">
<div class="headNormal">
<h1><a href="/questions/53100/overpass-overpass-turbo-how-to-search-for-recent-changes-only">Overpass / Overpass turbo - how to search for recent changes only?</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/53100/up/" id="post-53100-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-53100-score" title="current number of votes">
    1
</div>
<a class="ajax-command post-vote down" href="/vote/53100/down/" id="post-53100-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/53100/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
   1
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>I'd like to look for recent nodes on exactly latitude -1.  That's something a bit like this:</p>
<pre><code>[out:json][timeout:25];
(
  node(-1.0,-180.0,-1.0,180.0);
);
// print results
out body;
&gt;;
out skel qt;
</code></pre>
<p>Which nearly works, except that it's not looking for recent nodes.  The documentation leads me to believe that something like</p>
<pre><code>[out:json][timeout:25];
(
  node(-1.0,-180.0,-1.0,180.0)._(changed:"2016-01-01T00:00:00Z");
);
// print results
out body;
&gt;;
out skel qt;
</code></pre>
<p>ought to work, but unfortunately that gives:</p>
<pre><code>An error occured during the execution of the overpass query! This is what overpass API returned:
runtime error: Query run out of memory using about 2048 MB of RAM.
</code></pre>
<p>Presumably, that is because the bounding box is counted as "large" (because it covers every latitude) rather than "small" (only one longitude) and therefore the "changed" part is being executed first, and obviously every node on the planet added this year results in an "out of memory" error.</p>
<p>Is there any way to rephrase this query to only return nodes in that bounding box that were modified this year?</p>
<p>(edit: spelling)</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-overpass" href="/tags/overpass/" rel="tag" title="see questions tagged 'overpass'">overpass</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>24 Nov '16, 18:12</strong>
</p>
<img alt="SomeoneElse's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/0bf1aa22f7f5e045b0eb8beb79fe7907?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/387/someoneelse">SomeoneElse ♦</a><br/>
<span class="score" title="36866 reputation points"><span class="">36.9k</span></span><span title="71 badges"><span class="badge1">●</span><span class="badgecount">71</span></span><span title="370 badges"><span class="silver">●</span><span class="badgecount">370</span></span><span title="866 badges"><span class="bronze">●</span><span class="badgecount">866</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="SomeoneElse has 228 accepted answers">16%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/53100/">
                edited
                <strong>24 Nov '16, 19:06</strong>
</a>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-53100">
</div>
<div class="comment-tools" id="comment-tools-53100">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-53100-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    One Answer:
                    </div>
<div class="tabsA"><a href="/questions/53100/overpass-overpass-turbo-how-to-search-for-recent-changes-only?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/53100/overpass-overpass-turbo-how-to-search-for-recent-changes-only?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/53100/overpass-overpass-turbo-how-to-search-for-recent-changes-only?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/53100/overpass-overpass-turbo-how-to-search-for-recent-changes-only?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="53102"></a>
<div class="answer accepted-answer" id="answer-container-53102">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/53102/up/" id="post-53102-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-53102-score" title="current number of votes">
    3
</div>
<a class="ajax-command post-vote down" href="/vote/53102/down/" id="post-53102-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="accept-answer on" href="/accept_answer/53102/" rel="nofollow" title="SomeoneElse has selected this answer as the correct answer">
</a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>Try using the <code>newer:</code> filter (instead of <code>changed:</code>)! -&gt; <a href="http://overpass-turbo.eu/s/kio">http://overpass-turbo.eu/s/kio</a></p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/53102/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>24 Nov '16, 18:55</strong>
</p>
<img alt="tyr_asd's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/eca34689e074411e0daca0d994f532b3?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/3005/tyr_asd">tyr_asd</a><br/>
<span class="score" title="1196 reputation points"><span class="">1.2k</span></span><span title="5 badges"><span class="badge1">●</span><span class="badgecount">5</span></span><span title="19 badges"><span class="silver">●</span><span class="badgecount">19</span></span><span title="27 badges"><span class="bronze">●</span><span class="badgecount">27</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="tyr_asd has 11 accepted answers">64%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-53102">
<a name="53103"></a>
<div class="comment" id="comment-53103">
<div class="comment-score" id="post-53103-score"></div>
<div class="comment-text"><p>Thanks - that works!</p></div>
<div class="comment-info" id="comment-53103-info">
<span class="comment-age">(24 Nov '16, 19:01)</span>
<a class="comment-user userinfo" href="/users/387/someoneelse">SomeoneElse ♦</a>
</div>
</div>
<a name="53106"></a>
<div class="comment" id="comment-53106">
<div class="comment-score" id="post-53106-score"></div>
<div class="comment-text"><p>Is there a logic to having to use "diff" before the actual query (in []) and "changed" at the level of the queried items (in () )?</p></div>
<div class="comment-info" id="comment-53106-info">
<span class="comment-age">(25 Nov '16, 08:45)</span>
<a class="comment-user userinfo" href="/users/10142/joost-schouppe">joost schouppe</a>
</div>
</div>
<a name="53127"></a>
<div class="comment" id="comment-53127">
<div class="comment-score" id="post-53127-score"></div>
<div class="comment-text"><p><a href="http://help.openstreetmap.org/users/2850/joostenmies">@joost</a>: Hmm, as far as I know, the operations of the two operations are actually quite different: <code>changed</code> is basically just a beefed-up version of the <code>newer</code> statement (but which is still a bit slower than that in many use cases). Whereas <code>[diff:…]</code> (and <code>[adiff:…]</code>) actually performs the following query twice and outputs only the difference between the two results (and also uses a different output format).</p></div>
<div class="comment-info" id="comment-53127-info">
<span class="comment-age">(26 Nov '16, 14:21)</span>
<a class="comment-user userinfo" href="/users/3005/tyr_asd">tyr_asd</a>
</div>
</div>
<a name="53135"></a>
<div class="comment" id="comment-53135">
<div class="comment-score" id="post-53135-score"></div>
<div class="comment-text"><p>OK thanks, just realized I've been using diff when I could have used the lighter changed or newer</p></div>
<div class="comment-info" id="comment-53135-info">
<span class="comment-age">(27 Nov '16, 08:55)</span>
<a class="comment-user userinfo" href="/users/10142/joost-schouppe">joost schouppe</a>
</div>
</div>
<a name="55172"></a>
<div class="comment" id="comment-55172">
<div class="comment-score" id="post-55172-score">1</div>
<div class="comment-text"><p>Just for completeness, an example combining with a bounding box:</p>
<pre><code>[out:json][timeout:25];
// gather results
(
  // query part for: “waterway=stream”
  //node["waterway"="stream"]({{bbox}});
  way["waterway"="stream"]({{bbox}})(newer:"2017-03-18T00:00:00Z");
  //relation["waterway"="stream"]({{bbox}});
);
// print results
out body;
&gt;;
out skel qt;
</code></pre></div>
<div class="comment-info" id="comment-55172-info">
<span class="comment-age">(18 Mar '17, 10:53)</span>
<a class="comment-user userinfo" href="/users/387/someoneelse">SomeoneElse ♦</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-53102">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-53102-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/53100/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="JISniIMbZanRyG6R624ANreNHSmZnwZ3"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>