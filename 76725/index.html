<meta charset="UTF-8"><link rel="stylesheet" type="text/css" href="../style.css"><div id="CALeft">
<div class="headNormal">
<h1><a href="/questions/76725/expected-topological-model">Expected Topological Model</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/76725/up/" id="post-76725-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-76725-score" title="current number of votes">
    1
</div>
<a class="ajax-command post-vote down" href="/vote/76725/down/" id="post-76725-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/76725/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>I am currently mapping a large university (amenity=university). JOSM detects errors (overlapped area) when wooded areas (natural=wood) overlap the university polygon. Only wood/university overlaps are shown as errors, there is no error over the segments of the wooded area that is outside the university. To avoid these errors, I see three possibilities. </p>
<ul>
<li>To exclude these elements from the
   polygon, even if they are actually
   owned by the university.</li>
<li>To split these elements at polygon’s
   boundary, using relations
   (multipolygons)</li>
<li>To do nothing.</li>
</ul>
<p>Which one is expected according to OSM best practices?
Thanks,</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-josm" href="/tags/josm/" rel="tag" title="see questions tagged 'josm'">josm</a>
<a class="post-tag tag-link-errors" href="/tags/errors/" rel="tag" title="see questions tagged 'errors'">errors</a>
<a class="post-tag tag-link-topology" href="/tags/topology/" rel="tag" title="see questions tagged 'topology'">topology</a>
<a class="post-tag tag-link-areas" href="/tags/areas/" rel="tag" title="see questions tagged 'areas'">areas</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>20 Sep '20, 16:44</strong>
</p>
<img alt="jfd553's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/a504353df13461ace2c733906a99ce16?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/9697/jfd553">jfd553</a><br/>
<span class="score" title="389 reputation points">389</span><span title="20 badges"><span class="badge1">●</span><span class="badgecount">20</span></span><span title="23 badges"><span class="silver">●</span><span class="badgecount">23</span></span><span title="32 badges"><span class="bronze">●</span><span class="badgecount">32</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="jfd553 has no accepted answers">0%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/76725/">
                edited
                <strong>20 Sep '20, 19:55</strong>
</a>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-76725">
<a name="76732"></a>
<div class="comment" id="comment-76732">
<div class="comment-score" id="post-76732-score">1</div>
<div class="comment-text"><p>Is it possible to link to the area so that people can have a look at exactly what the error is?  </p>
<p>It sounds like a false positive, and if that's the case I'd definitely report it on JOSM's trac.  For info, I've always found the JOSM devs to be extremely helpful and responsive to things raised with them in this way.</p></div>
<div class="comment-info" id="comment-76732-info">
<span class="comment-age">(20 Sep '20, 20:06)</span>
<a class="comment-user userinfo" href="/users/387/someoneelse">SomeoneElse ♦</a>
</div>
</div>
<a name="76746"></a>
<div class="comment" id="comment-76746">
<div class="comment-score" id="post-76746-score"></div>
<div class="comment-text"><p>Just to be clear, is the validator reporting these as errors or warnings? I don't think I've seen overlapping areas reported as errors in the past. If they are now, it could be a bug.</p></div>
<div class="comment-info" id="comment-76746-info">
<span class="comment-age">(21 Sep '20, 17:44)</span>
<a class="comment-user userinfo" href="/users/8189/alester">alester</a>
</div>
</div>
<a name="76893"></a>
<div class="comment" id="comment-76893">
<div class="comment-score" id="post-76893-score"></div>
<div class="comment-text"><p>Validator reports the errors as "Other-Overlapping Areas". So it may just be a "Have a look" message.</p></div>
<div class="comment-info" id="comment-76893-info">
<span class="comment-age">(29 Sep '20, 20:24)</span>
<a class="comment-user userinfo" href="/users/9697/jfd553">jfd553</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-76725">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-76725-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    2 Answers:
                    </div>
<div class="tabsA"><a href="/questions/76725/expected-topological-model?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/76725/expected-topological-model?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/76725/expected-topological-model?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/76725/expected-topological-model?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="76744"></a>
<div class="answer accepted-answer" id="answer-container-76744">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/76744/up/" id="post-76744-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-76744-score" title="current number of votes">
    4
</div>
<a class="ajax-command post-vote down" href="/vote/76744/down/" id="post-76744-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="accept-answer on" href="/accept_answer/76744/" rel="nofollow" title="jfd553 has selected this answer as the correct answer">
</a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>My basic answer is 3) "do nothing", such cases are quite commmon in OSM and therefore need to be considered by data consumers. </p>
<p>Longer answer below.</p>
<p>There is no need in OSM mapping for a single polygon reflecting landuse/landcover in any given area. The reasons for this are many:</p>
<ul>
<li>Woods, lakes, meadows, residential areas all exist in university, school and hospital campuses. These are either not, or unlikely to be, errors. I would regard the JOSM validation rules to be incorrect in these situations.</li>
<li>Individual polygons will be created by different mappers at different times with different levels of knowledge of OSM, time available to add data, expectations of how the data will be used, quality of imagery at the time the polygon was mapped (which may be vastly different now).</li>
<li>Small polygons with a different class within a larger polygon are very common and entirely reasonable way of mapping the data. The main OSM map produced using CartoCSS makes a number of assumptions based on area and tag to decide which ones should be rendered on top of others. These algorithms work very well. (One exception is in the area you mention, where a small wood overlaps a larger feature, see <a href="https://github.com/gravitystorm/openstreetmap-carto/issues/2641">https://github.com/gravitystorm/openstreetmap-carto/issues/2641</a> for discussion).</li>
</ul>
<p>If you want a tesselated layer consisting of a contiguous set of polygons you need to post-process OSM data. You may need something like the CartoCSS algorithm, although in practice I have found a simple hierarchy of tags can work well (slide 16 <a href="https://www.slideshare.net/SK53/38-jerry-cloughurbanatlassk53">here</a>). My approach (slide 24 in previous link) involved progressive spatial unions and clipping according to the hierarchy I used. The main complication was dealing with invalid geometries at all stages of the process.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/76744/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>21 Sep '20, 14:39</strong>
</p>
<img alt="SK53's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/06cd84075f1adc2870ad102c7233e661?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/647/sk53">SK53 ♦</a><br/>
<span class="score" title="28084 reputation points"><span class="">28.1k</span></span><span title="48 badges"><span class="badge1">●</span><span class="badgecount">48</span></span><span title="268 badges"><span class="silver">●</span><span class="badgecount">268</span></span><span title="433 badges"><span class="bronze">●</span><span class="badgecount">433</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="SK53 has 121 accepted answers">22%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-76744">
</div>
<div class="comment-tools" id="comment-tools-76744">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-76744-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="76726"></a>
<div class="answer" id="answer-container-76726">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/76726/up/" id="post-76726-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-76726-score" title="current number of votes">
    1
</div>
<a class="ajax-command post-vote down" href="/vote/76726/down/" id="post-76726-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>Not sure why amenity would conflict with woodlands and bodies of water, so I assume the issue is nested landuse tagging. Which is one reason that I avoid using landuse for things like wooded areas and bodies of water. I prefer using natural tags. Actually, I prefer landcover tagging (are those trees there "naturally" or because of some human reason? Don't know, don't care, but they are there thus landcover rather than natural). But that is poorly supported so I generally dual tag for natural and landcover.</p>
<p>If something is really a land use, like maybe a reservoir, in the middle of another land use, then make the larger one a multi-polygon if it isn't already. Then make the smaller contained land use an inner polygon.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/76726/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>20 Sep '20, 18:16</strong>
</p>
<img alt="n76's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/f60af53a4eba0c21f25c22674fb4a8cc?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/5918/n76">n76</a><br/>
<span class="score" title="10839 reputation points"><span class="">10.8k</span></span><span title="10 badges"><span class="badge1">●</span><span class="badgecount">10</span></span><span title="82 badges"><span class="silver">●</span><span class="badgecount">82</span></span><span title="172 badges"><span class="bronze">●</span><span class="badgecount">172</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="n76 has 48 accepted answers">17%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-76726">
<a name="76730"></a>
<div class="comment" id="comment-76730">
<div class="comment-score" id="post-76730-score"></div>
<div class="comment-text"><p>Wooded areas are labelled as natural=wood, water as natural=water. Only sections of wooded areas that overlap the amenity=university are identified as errors.</p></div>
<div class="comment-info" id="comment-76730-info">
<span class="comment-age">(20 Sep '20, 19:26)</span>
<a class="comment-user userinfo" href="/users/9697/jfd553">jfd553</a>
</div>
</div>
<a name="76735"></a>
<div class="comment" id="comment-76735">
<div class="comment-score" id="post-76735-score"></div>
<div class="comment-text"><p>Are you sure you haven't accidentally added a wood tag to the university?</p></div>
<div class="comment-info" id="comment-76735-info">
<span class="comment-age">(20 Sep '20, 23:55)</span>
<a class="comment-user userinfo" href="/users/4426/insertuser">InsertUser</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-76726">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-76726-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/76725/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="llNM9SuO0Wi2N7lYl5oEVkZBIYAC89ZK"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>