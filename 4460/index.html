<meta charset="UTF-8"><link rel="stylesheet" type="text/css" href="../style.css"><div id="CALeft">
<div class="headNormal">
<h1><a href="/questions/4460/should-the-way-based-polygon-for-a-city-be-tagged-with-both-placecity-and-boundaryadministrativeadmin_level8">Should the way-based polygon for a city be tagged with both place=city and boundary=administrative+admin_level=8?</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/4460/up/" id="post-4460-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-4460-score" title="current number of votes">
    1
</div>
<a class="ajax-command post-vote down" href="/vote/4460/down/" id="post-4460-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/4460/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p><strong>Summary</strong></p>
<p>Some objects, such as cities, are tagged with both place=* and boundary=administrative+admin_level=*. Should it be one or the other, and if so, which one, or is there a conceivable benefit for having both sets of tags?</p>
<p><strong>Detailed problem description</strong></p>
<p>This is a Nominatim related question. I don't think I will ever run out of those.</p>
<p>Here's the outline polygon for my favorite city: <a href="http://www.openstreetmap.org/browse/way/33261354">http://www.openstreetmap.org/browse/way/33261354</a></p>
<p>It's tagged with every possible key and it may be a case of TMI (too much information):</p>
<p>boundary = administrative<br/>
admin_level = 8<br/>
border_type = city<br/>
name = Irvine<br/>
place = city<br/>
place_name = Irvine</p>
<p>plus a full complement of is_in tags (which may or may not be needed depending on who you ask) and the usual tiger: schema tags.</p>
<p>I don't know if place_name and border_type tags are of any consequence. However, I believe that because it is tagged as both a place=city and boundary=administrative + admin_level=8, Nominatim ends up importing it twice as two separate places, and it bothers me. Check it out:</p>
<p><a href="http://open.mapquestapi.com/nominatim/v1/details.php?place_id=36822949">Irvine as admin boundary polygon</a><br/>
<a href="http://open.mapquestapi.com/nominatim/v1/details.php?place_id=36822841">Irvine as place polygon</a></p>
<p>Both point to the same OSM polygon.</p>
<p>I assume Nominatim has its reason for importing OSM places and admin boundaries separately. I am guessing it does <em>not</em> expect the same object to be tagged as both. What ends up happening, if you look at the children, is that, as far as Nominatim is concerned, one "Irvine" is a parent of the zip codes, most neighborhoods, streets, parks, etc., while the "other Irvine" is a parent of small, but not insignificant number of neighborhoods, shopping plazas, streets, etc.</p>
<p>In practical terms, when Nominatim returns a search result set or does reverse geocoding, it is going to list any street or park as being in "Irvine". Whether its one "Irvine" or the "other Irvine" is not that important to the end user, but you have to agree that the situation is pretty clumsy and is rife with potential for data integrity problems (in Nominatim, that is).</p>
<p>The fact that there is also a "third Irvine"</p>
<p><a href="http://open.mapquestapi.com/nominatim/v1/details.php?place_id=215314">Irvine as node</a></p>
<p>represented by a node tagged with place=city, with its own subset of children that are missing from either of the other two Irvines, is a whole other story.</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-nominatim" href="/tags/nominatim/" rel="tag" title="see questions tagged 'nominatim'">nominatim</a>
<a class="post-tag tag-link-administrative" href="/tags/administrative/" rel="tag" title="see questions tagged 'administrative'">administrative</a>
<a class="post-tag tag-link-places" href="/tags/places/" rel="tag" title="see questions tagged 'places'">places</a>
<a class="post-tag tag-link-tagging" href="/tags/tagging/" rel="tag" title="see questions tagged 'tagging'">tagging</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>14 Apr '11, 00:46</strong>
</p>
<img alt="ponzu's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/c23c2891306229bb036de7ce63bb8c9b?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/831/ponzu">ponzu</a><br>
<span class="score" title="2104 reputation points"><span class="">2.1k</span></span><span title="49 badges"><span class="badge1">●</span><span class="badgecount">49</span></span><span title="64 badges"><span class="silver">●</span><span class="badgecount">64</span></span><span title="83 badges"><span class="bronze">●</span><span class="badgecount">83</span></span><br>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="ponzu has no accepted answers">0%</span>
</br></br></p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/4460/">
                edited
                <strong>20 Apr '11, 01:20</strong>
</a>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-4460">
<a name="4472"></a>
<div class="comment" id="comment-4472">
<div class="comment-score" id="post-4472-score"></div>
<div class="comment-text"><p>Hey, this sounds quite similar to my recent question: <a href="http://help.openstreetmap.org/questions/4068/when-does-it-make-sense-to-use-place-on-an-area">http://help.openstreetmap.org/questions/4068/when-does-it-make-sense-to-use-place-on-an-area</a> Good that there's some more discussion on where the <code>place</code> tag is appropriate.</p></div>
<div class="comment-info" id="comment-4472-info">
<span class="comment-age">(14 Apr '11, 11:07)</span>
<a class="comment-user userinfo" href="/users/666/sleske">sleske</a>
</div>
</div>
<a name="4494"></a>
<div class="comment" id="comment-4494">
<div class="comment-score" id="post-4494-score"></div>
<div class="comment-text"><p>Similar, yet different. You ask when to use one set of tags vs. the other. I ask if it;s ever a good idea to use both. I am slowly arriving at a conclusion that there isn't, albeit without any input from the gurus.</p></div>
<div class="comment-info" id="comment-4494-info">
<span class="comment-age">(14 Apr '11, 19:22)</span>
<a class="comment-user userinfo" href="/users/831/ponzu">ponzu</a>
</div>
</div>
<a name="4510"></a>
<div class="comment" id="comment-4510">
<div class="comment-score" id="post-4510-score"></div>
<div class="comment-text"><p>Why didn't you guys tell me that my links don't work (because of the escaped underscore?) Let me update them and see if the question gets an actual answer.</p></div>
<div class="comment-info" id="comment-4510-info">
<span class="comment-age">(14 Apr '11, 23:28)</span>
<a class="comment-user userinfo" href="/users/831/ponzu">ponzu</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-4460">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-4460-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    One Answer:
                    </div>
<div class="tabsA"><a href="/questions/4460/should-the-way-based-polygon-for-a-city-be-tagged-with-both-placecity-and-boundaryadministrativeadmin_level8?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/4460/should-the-way-based-polygon-for-a-city-be-tagged-with-both-placecity-and-boundaryadministrativeadmin_level8?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/4460/should-the-way-based-polygon-for-a-city-be-tagged-with-both-placecity-and-boundaryadministrativeadmin_level8?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/4460/should-the-way-based-polygon-for-a-city-be-tagged-with-both-placecity-and-boundaryadministrativeadmin_level8?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="4461"></a>
<div class="answer" id="answer-container-4461">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/4461/up/" id="post-4461-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-4461-score" title="current number of votes">
    1
</div>
<a class="ajax-command post-vote down" href="/vote/4461/down/" id="post-4461-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>Check out the "As Areas" section in the wiki page for <a href="http://wiki.openstreetmap.org/wiki/Key:place">place</a>. One suggestion there is to mark a node as the "centre" of the city (where the name will go) with place=city. Create a boundary=administrative relation for the perimeter (with the appropriate admin level), and make the node a member of the relation with role=admin_centre. See also the <a href="http://wiki.openstreetmap.org/wiki/Relation:boundary">Relation:boundary</a> page.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/4461/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>14 Apr '11, 02:43</strong>
</p>
<img alt="Ebenezer's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/f075add936ab95d2d368f2e48f5ddc22?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/603/ebenezer">Ebenezer</a><br>
<span class="score" title="948 reputation points">948</span><span title="2 badges"><span class="badge1">●</span><span class="badgecount">2</span></span><span title="11 badges"><span class="silver">●</span><span class="badgecount">11</span></span><span title="21 badges"><span class="bronze">●</span><span class="badgecount">21</span></span><br>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Ebenezer has 2 accepted answers">9%</span>
</br></br></p>
</div>
</div>
<div class="comments-container" id="comments-container-4461">
<a name="4462"></a>
<div class="comment" id="comment-4462">
<div class="comment-score" id="post-4462-score"></div>
<div class="comment-text"><p>Yeah, I have seen those. The "As areas" best practice is actually a pretty poor piece of advice written without any thought of what having a place node and an admin boundary for the same city, county, etc. object will do to Nominatim searches. I have researched and talked about this issue extensively over the past two days. The consensus today is to <em>delete</em> the place node when a polygon is available, not <em>add</em> one. Adding a node to a relation with a "label" role is a swell idea, but it is not currently supported by renderers.</p></div>
<div class="comment-info" id="comment-4462-info">
<span class="comment-age">(14 Apr '11, 03:39)</span>
<a class="comment-user userinfo" href="/users/831/ponzu">ponzu</a>
</div>
</div>
<a name="33568"></a>
<div class="comment" id="comment-33568">
<div class="comment-score" id="post-33568-score"></div>
<div class="comment-text"><p><em>Adding a node to a relation with a "label" role is a swell idea, but it is not currently supported by renderers.</em></p>
<p>True, but doesn't that mean the correct course would be 'add nodes with no tags but with role=label', and lean on render developers to support that?</p>
<p>Particularly since "delete the place node when a polygon is available, not add one" seems to be the best/accepted practice, and in that case, most renderers show <em>nothing at all</em> on a map for a border relation without a place node -- right?</p></div>
<div class="comment-info" id="comment-33568-info">
<span class="comment-age">(30 May '14, 22:03)</span>
<a class="comment-user userinfo" href="/users/8947/skybunny">Skybunny</a>
</div>
</div>
<a name="33572"></a>
<div class="comment" id="comment-33572">
<div class="comment-score" id="post-33572-score"></div>
<div class="comment-text"><p>Note that this is a pretty old discussion. One of the Nominatim maintainers recently wrote (here? talk@?) that it is <strong>not</strong> a good idea to remove the place node if there is a boundary.</p></div>
<div class="comment-info" id="comment-33572-info">
<span class="comment-age">(31 May '14, 04:42)</span>
<a class="comment-user userinfo" href="/users/2933/cartinus">cartinus</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-4461">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-4461-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/4460/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="pIAuGf3xrDUth2EkvkSF9VQ51XKmUD2j"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>