<meta charset="UTF-8"><link rel="stylesheet" type="text/css" href="../style.css"><div id="CALeft">
<div class="headNormal">
<h1><a href="/questions/62048/return-all-elements-associated-with-address-overpass-api">Return all elements associated with address - Overpass API</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/62048/up/" id="post-62048-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-62048-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/62048/down/" id="post-62048-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/62048/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>Hi All, </p>
<p>I am quite new to OSM and am looking for help regarding gettting all the elements assoicated with a particular address using the Overpass API. So far I have managed to get the house number, street name and city of a particular area, however when I search a specific address on Nominatim, I see other elements associated with the address that are not appearing in my query. Certain elements associated with the address are tagged under place and boundary and I would like them included as a full address as listed under the address table in the following link - <a href="https://nominatim.openstreetmap.org/details.php?place_id=137891179">https://nominatim.openstreetmap.org/details.php?place_id=137891179</a></p>
<p>Any help would be greatly appreciated. </p>
<p>Thank you in advance </p>
<p>EDIT: Current (badly written) query: </p>
<p>[out:csv(::"id","addr:housenumber","addr:street","addr:postcode","addr:city", relation, "boundary:administrative")][timeout:25]
[bbox:{{bbox}}];
(</p>
<p>node["addr:housenumber"];
  way["addr:housenumber"];
  relation["addr:housenumber"];</p>
<p>/<em>
  node[name];
  way[name];
  relation[name];</em>/</p>
<p>node[place];
  way[place];
  relation[place];</p>
<p>node["boundary:administrative"];
  way["boundary = administrative"];
  relation["boundary = administrative"];
);
// print results
out body;</p>
<blockquote>
<p>;out skel qt;</p>
</blockquote>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-overpass" href="/tags/overpass/" rel="tag" title="see questions tagged 'overpass'">overpass</a>
<a class="post-tag tag-link-address" href="/tags/address/" rel="tag" title="see questions tagged 'address'">address</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>11 Feb '18, 11:04</strong>
</p>
<img alt="rThornton93's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/16a12e32ee0676ade5093f70a39d893e?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/14739/rthornton93">rThornton93</a><br/>
<span class="score" title="11 reputation points">11</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">●</span><span class="badgecount">1</span></span><span title="3 badges"><span class="bronze">●</span><span class="badgecount">3</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="rThornton93 has no accepted answers">0%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/62048/">
                edited
                <strong>11 Feb '18, 11:41</strong>
</a>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-62048">
</div>
<div class="comment-tools" id="comment-tools-62048">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-62048-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    2 Answers:
                    </div>
<div class="tabsA"><a href="/questions/62048/return-all-elements-associated-with-address-overpass-api?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/62048/return-all-elements-associated-with-address-overpass-api?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/62048/return-all-elements-associated-with-address-overpass-api?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/62048/return-all-elements-associated-with-address-overpass-api?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="62049"></a>
<div class="answer" id="answer-container-62049">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/62049/up/" id="post-62049-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-62049-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/62049/down/" id="post-62049-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>Nominatim can offer the full address hierarchy because it computes it upon loading the data into the database. Overpass, on the other hand, has to try and resolve your queries ("what admin_level=2 boundary is this location in") at runtime and hence takes vastly more computing resources. Even if you find the query to do this, running it more than once or twice a day would really consider abuse of the Overpass platform given that Nomniatim is so much more efficient in giving you the response you are looking for. </p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/62049/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>11 Feb '18, 13:56</strong>
</p>
<img alt="Frederik%20Ramm's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/a2b38d937e70ab39d895d17da0dd1ba4?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/104/frederik-ramm">Frederik Ramm ♦</a><br/>
<span class="score" title="82494 reputation points"><span class="">82.5k</span></span><span title="92 badges"><span class="badge1">●</span><span class="badgecount">92</span></span><span title="720 badges"><span class="silver">●</span><span class="badgecount">720</span></span><span title="1273 badges"><span class="bronze">●</span><span class="badgecount">1273</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Frederik Ramm has 417 accepted answers">23%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-62049">
<a name="62050"></a>
<div class="comment" id="comment-62050">
<div class="comment-score" id="post-62050-score"></div>
<div class="comment-text"><p>Hi Frederik, </p>
<p>Thank you for your prompt response. Based on what you have said, would it be possible for me to get the information I need by querying Nomniatim directly - if this is even possible?</p>
<p>Thank you in advance for your help.</p></div>
<div class="comment-info" id="comment-62050-info">
<span class="comment-age">(11 Feb '18, 14:49)</span>
<a class="comment-user userinfo" href="/users/14739/rthornton93">rThornton93</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-62049">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-62049-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="62051"></a>
<div class="answer" id="answer-container-62051">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/62051/up/" id="post-62051-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-62051-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/62051/down/" id="post-62051-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>You can retrieve boundaries from Overpass-API using the <a href="https://wiki.openstreetmap.org/wiki/Overpass_API/Overpass_QL#Query_for_areas_.28is_in.29">is_in</a> query, but Overpass API does not support annotating the individual addresses with the information. So you'd end up implementing that aspect of Nominatim locally.</p>
<p>Nominatim has an <a href="https://help.openstreetmap.org/questions/62048/return-all-elements-associated-with-address-overpass-api">api for retrieving the address information for a given coordinate</a>. You'd have to call that api for each location you wanted information about. Make sure to follow the <a href="https://operations.osmfoundation.org/policies/nominatim/">use policy</a> if you use the public server.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/62051/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>11 Feb '18, 21:02</strong>
</p>
<img alt="maxerickson's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/c860445e868ebb21da141635a4aa7b06?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/10973/maxerickson">maxerickson</a><br/>
<span class="score" title="12700 reputation points"><span class="">12.7k</span></span><span title="10 badges"><span class="badge1">●</span><span class="badgecount">10</span></span><span title="83 badges"><span class="silver">●</span><span class="badgecount">83</span></span><span title="176 badges"><span class="bronze">●</span><span class="badgecount">176</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="maxerickson has 93 accepted answers">32%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-62051">
</div>
<div class="comment-tools" id="comment-tools-62051">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-62051-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/62048/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="vNlYMyviQtVZYjYguEqaFZwdsEYF1KKb"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>