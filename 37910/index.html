<meta charset="UTF-8"><link rel="stylesheet" type="text/css" href="../style.css"><div id="CALeft">
<div class="headNormal">
<h1><a href="/questions/37910/adding-check-boxes-to-my-own-josm-custom-preset">adding check boxes to my own JOSM custom preset</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/37910/up/" id="post-37910-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-37910-score" title="current number of votes">
    4
</div>
<a class="ajax-command post-vote down" href="/vote/37910/down/" id="post-37910-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/37910/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
   1
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>I am working on a preset to apply to fuel stations. I want to use check boxes to enter data values for certain keys, for example, </p>
<pre><code>&lt;check key="fuel:gasoline_95" text="Gas 95" default="off" delete_if_empty="true"  /&gt;
</code></pre>
<p>What I would like is for the tag value to be set to "no" if the check box is unchecked and "yes" if the check box is checked. I tried removing the delete_if_empty="true" phrase but it had no effect at all. Neither did changing "true" to "false". The only behavior I observe is that the key doesn't appear if the box is left unchecked.</p>
<p>Is there a way to do this?
Thanks....</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-josm" href="/tags/josm/" rel="tag" title="see questions tagged 'josm'">josm</a>
<a class="post-tag tag-link-preset" href="/tags/preset/" rel="tag" title="see questions tagged 'preset'">preset</a>
<a class="post-tag tag-link-check_box" href="/tags/check_box/" rel="tag" title="see questions tagged 'check_box'">check_box</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>24 Oct '14, 03:10</strong>
</p>
<img alt="AlaskaDave's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/04dddf6f5ffde333747d385af3ce5829?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/5016/alaskadave">AlaskaDave</a><br/>
<span class="score" title="5415 reputation points"><span class="">5.4k</span></span><span title="76 badges"><span class="badge1">●</span><span class="badgecount">76</span></span><span title="107 badges"><span class="silver">●</span><span class="badgecount">107</span></span><span title="164 badges"><span class="bronze">●</span><span class="badgecount">164</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="AlaskaDave has 17 accepted answers">16%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/37910/">
                edited
                <strong>24 Oct '14, 13:23</strong>
</a>
</p>
<img alt="aseerel4c26's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/66f0dc05b44574e3894be07b0b37cf37?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/5179/aseerel4c26">aseerel4c26 ♦</a><br/>
<span class="score" title="32615 reputation points"><span class="">32.6k</span></span><span title="18 badges"><span class="badge1">●</span><span class="badgecount">18</span></span><span title="248 badges"><span class="silver">●</span><span class="badgecount">248</span></span><span title="554 badges"><span class="bronze">●</span><span class="badgecount">554</span></span></p>
</div>
</div>
<div class="comments-container" id="comments-container-37910">
</div>
<div class="comment-tools" id="comment-tools-37910">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-37910-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    One Answer:
                    </div>
<div class="tabsA"><a href="/questions/37910/adding-check-boxes-to-my-own-josm-custom-preset?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/37910/adding-check-boxes-to-my-own-josm-custom-preset?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/37910/adding-check-boxes-to-my-own-josm-custom-preset?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/37910/adding-check-boxes-to-my-own-josm-custom-preset?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="37960"></a>
<div class="answer accepted-answer" id="answer-container-37960">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/37960/up/" id="post-37960-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-37960-score" title="current number of votes">
    2
</div>
<a class="ajax-command post-vote down" href="/vote/37960/down/" id="post-37960-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="accept-answer on" href="/accept_answer/37960/" rel="nofollow" title="AlaskaDave has selected this answer as the correct answer">
</a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>You need to change it as follows :
</p><pre>&lt;check key="fuel:gasoline_95" text="Gas 95" default="off" value_on="yes" value_off="no"/&gt;
</pre><p></p>
<p>The problem might be that you are not using the value_on and value_off. You can see the supported directives in the default preset file that comes along with JOSM. The default preset xml file is available at : <a href="http://josm.openstreetmap.de/svn/trunk/data/defaultpresets.xml">http://josm.openstreetmap.de/svn/trunk/data/defaultpresets.xml</a> Alternatively you can extract the defaultpresets.xml from the data folder in the JOSM JAR file.</p>
<p>I have written a Linux shell script to create the JOSM presets from text files a while back. You can find it here : <a href="https://github.com/primejyothi/JOSMPresetBuilder">https://github.com/primejyothi/JOSMPresetBuilder</a></p>
<p>Hope this helps.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/37960/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>26 Oct '14, 06:28</strong>
</p>
<img alt="primej's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/94b5bf3dcc698b1a4051d49f3204996e?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/8383/primej">primej</a><br/>
<span class="score" title="106 reputation points">106</span><span title="1 badges"><span class="silver">●</span><span class="badgecount">1</span></span><span title="4 badges"><span class="bronze">●</span><span class="badgecount">4</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="primej has 2 accepted answers">100%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/37960/">
                edited
                <strong>26 Oct '14, 06:48</strong>
</a>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-37960">
<a name="37961"></a>
<div class="comment" id="comment-37961">
<div class="comment-score" id="post-37961-score">1</div>
<div class="comment-text"><p>Yes, that works almost perfectly. I say that because in testing my new preset, I learned that there are not two states for a checkbox but three. Checked, unchecked and, for lack of a better term, cleared. When the preset is first called all boxes are a light blue color. If I clear the checkbox by clicking on it until the blue color changes to white,  the resultant tag will be set to "no". If I tick it, the tag will be "yes", as expected. If I do nothing, that is I do not tick it and I do not clear it, the tag does not get applied to the selection at all.</p></div>
<div class="comment-info" id="comment-37961-info">
<span class="comment-age">(26 Oct '14, 07:37)</span>
<a class="comment-user userinfo" href="/users/5016/alaskadave">AlaskaDave</a>
</div>
</div>
<a name="37962"></a>
<div class="comment" id="comment-37962">
<div class="comment-score" id="post-37962-score">1</div>
<div class="comment-text"><p>To continue:</p>
<p>Cycling through the clicks on a first call of the preset,  the first click turns the check mark on and sets the tag to "yes",  the next click clears the check mark and sets the tag to "no, the next resets the blue color to the box and causes the tag to not appear at all.</p>
<p>At any rate, thanks for the great answer. I have adjusted my presets and they are working MUCH better than before. I have your preset builder already but haven't fooled with it enough to know if it will help me or hinder me as yet &lt;g&gt;</p></div>
<div class="comment-info" id="comment-37962-info">
<span class="comment-age">(26 Oct '14, 07:38)</span>
<a class="comment-user userinfo" href="/users/5016/alaskadave">AlaskaDave</a>
</div>
</div>
<a name="37963"></a>
<div class="comment" id="comment-37963">
<div class="comment-score" id="post-37963-score"></div>
<div class="comment-text"><p><a href="http://help.openstreetmap.org/users/5016/alaskadave">@AlaskaDave</a>, you are welcome, glad that I could help you.
Your comments made me curious and looked through the defaultpresets.xml and found that the option disable_off for check box controls whether the tag to be present or not. If you set disable_off to true, the tag will not show up when it is unset. Setting it to true will cause to go through the cycles you mentioned in your first comment.</p></div>
<div class="comment-info" id="comment-37963-info">
<span class="comment-age">(26 Oct '14, 07:58)</span>
<a class="comment-user userinfo" href="/users/8383/primej">primej</a>
</div>
</div>
<a name="37964"></a>
<div class="comment" id="comment-37964">
<div class="comment-score" id="post-37964-score"></div>
<div class="comment-text"><p>Actually, it seems that adding disable_off  to the control prevents setting the tag to "no". You can either set it to "yes" or if you leave it unset, the tag doesn't get applied. Unless I'm not understanding you perfectly.</p>
<p>I like the ability to have a tag set to "no", e.g. , when there is no diesel fuel at a particular station. Before I could either set fuel:diesel to "yes" or say nothing about diesel at all. Thanks to your original answer, I can have it three ways.</p>
<p>Please strike the word "almost" from my first comment above. &lt;g&gt;</p></div>
<div class="comment-info" id="comment-37964-info">
<span class="comment-age">(26 Oct '14, 08:22)</span>
<a class="comment-user userinfo" href="/users/5016/alaskadave">AlaskaDave</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-37960">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-37960-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/37910/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="h673ZCqHpEztBNaOPcNpV1vVQX29vcEy"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>