<meta charset="UTF-8"><link rel="stylesheet" type="text/css" href="../style.css"><div id="CALeft">
<div class="headNormal">
<h1><a href="/questions/3049/how-to-correct-waterways-intersecting-roads-without-a-junction-node">How To Correct Waterways Intersecting Roads Without A Junction Node?</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/3049/up/" id="post-3049-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-3049-score" title="current number of votes">
    5
</div>
<a class="ajax-command post-vote down" href="/vote/3049/down/" id="post-3049-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/3049/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
   1
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>I'm looking at <a href="http://keepright.ipax.at">http://keepright.ipax.at</a> and trying to correct some of the problems in my area. The majority seem to be "This highway intersects the waterway but there is no junction node". This seems to me to be correct as, unless the waterway routinely flows across the road (a ford!) there is no junction. The renderer seems to draw the road over the waterway in the ones I've looked at so far.</p>
<p>How do you think I should I fix this?<br/>
a) Tell keepright that it's a false positive and to ignore it?<br/>
b) Give the waterway a layer of -1?<br/>
c) Add a junction node but mark it as tunnel=culvert layer=-1 However in some cases I imagine that there is probably a bridge but the mapper has failed to note this in OSM so this is not the most viable/accurate option.<br/>
d) Go and check each one out individually, and then...?</p>
<p>I favour option b.</p>
<p>What say you?</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-waterway" href="/tags/waterway/" rel="tag" title="see questions tagged 'waterway'">waterway</a>
<a class="post-tag tag-link-tag" href="/tags/tag/" rel="tag" title="see questions tagged 'tag'">tag</a>
<a class="post-tag tag-link-keepright" href="/tags/keepright/" rel="tag" title="see questions tagged 'keepright'">keepright</a>
<a class="post-tag tag-link-highway" href="/tags/highway/" rel="tag" title="see questions tagged 'highway'">highway</a>
<a class="post-tag tag-link-intersection" href="/tags/intersection/" rel="tag" title="see questions tagged 'intersection'">intersection</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>15 Feb '11, 02:01</strong>
</p>
<img alt="vagabond's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/956d6fda0f51e8001832540fa2c716a5?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/351/vagabond">vagabond</a><br>
<span class="score" title="195 reputation points">195</span><span title="4 badges"><span class="badge1">●</span><span class="badgecount">4</span></span><span title="5 badges"><span class="silver">●</span><span class="badgecount">5</span></span><span title="10 badges"><span class="bronze">●</span><span class="badgecount">10</span></span><br>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="vagabond has no accepted answers">0%</span>
</br></br></p>
</div>
</div>
<div class="comments-container" id="comments-container-3049">
<a name="3129"></a>
<div class="comment" id="comment-3129">
<div class="comment-score" id="post-3129-score">1</div>
<div class="comment-text"><p>I would avoid setting layer tags unless you have multiple bridges, or multiple tunnels crossing.  Otherwise, let the renderers sort it out, they're pretty good about being able to tell that a tunnel is below the surface, the surface is the surface, and bridges are above the surface.  You only really need "layer" tags when you have situations like double-decker bridges on a divided highway, motorway interchanges, major subway stations, and the like, where multiple of the same kind of thing (multiple bridges, multiple tunnels) cross each other.</p></div>
<div class="comment-info" id="comment-3129-info">
<span class="comment-age">(17 Feb '11, 06:12)</span>
<a class="comment-user userinfo" href="/users/132/baloo-uriza">Baloo Uriza</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-3049">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-3049-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    5 Answers:
                    </div>
<div class="tabsA"><a href="/questions/3049/how-to-correct-waterways-intersecting-roads-without-a-junction-node?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/3049/how-to-correct-waterways-intersecting-roads-without-a-junction-node?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/3049/how-to-correct-waterways-intersecting-roads-without-a-junction-node?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/3049/how-to-correct-waterways-intersecting-roads-without-a-junction-node?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="3050"></a>
<div class="answer" id="answer-container-3050">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/3050/up/" id="post-3050-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-3050-score" title="current number of votes">
    15
</div>
<a class="ajax-command post-vote down" href="/vote/3050/down/" id="post-3050-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>Why mark it as a false positive when it isn't?</p>
<p>Tunnels should not be marked as a junction nodes, but as ways. See: <a href="http://wiki.openstreetmap.org/wiki/Tunnel">Key:tunnel</a> </p>
<p>I would suggest d). If the waterway flows in a culvert then enter it as a culvert. If the way runs over a bridge, then enter it as a bridge. If it's a ford, then enter it as a ford. If it's an aqueduct, then enter it as an aqueduct, etc, etc..</p>
<p>I advice against filling the OSM database with guesses just to make our debugging tools happy. The tools are there to help us find issues where we may need to collect more fact.</p>
<p>By the way I'm more worried about how the routing softwares handle those issues, than the prevalence of a minor artefact in a rendered map intended for the human eye. A strict routing software might refuse to route your wheelchair via the faintly defined crossing with the river.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/3050/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>15 Feb '11, 02:52</strong>
</p>
<img alt="gnurk's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/c2a980da3fdfa1ee2659ad70d1e21f31?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/652/gnurk">gnurk</a><br>
<span class="score" title="6114 reputation points"><span class="">6.1k</span></span><span title="10 badges"><span class="badge1">●</span><span class="badgecount">10</span></span><span title="60 badges"><span class="silver">●</span><span class="badgecount">60</span></span><span title="96 badges"><span class="bronze">●</span><span class="badgecount">96</span></span><br>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="gnurk has 18 accepted answers">15%</span>
</br></br></p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/3050/">
                edited
                <strong>15 Feb '11, 02:53</strong>
</a>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-3050">
<a name="3084"></a>
<div class="comment" id="comment-3084">
<div class="comment-score" id="post-3084-score">2</div>
<div class="comment-text"><p>Definitely "d".  If you've not been to the location, you don't know what's there, do you?</p></div>
<div class="comment-info" id="comment-3084-info">
<span class="comment-age">(15 Feb '11, 19:38)</span>
<a class="comment-user userinfo" href="/users/387/someoneelse">SomeoneElse ♦</a>
</div>
</div>
<a name="3111"></a>
<div class="comment" id="comment-3111">
<div class="comment-score" id="post-3111-score">1</div>
<div class="comment-text"><p>If the waterway and the highway don't actually cross (due to one being on a bridge or the other in a culvert), is an intersection node actually necessary?  My understanding is that such a waterway-highway joined node would be indicative of a ford or a boat ramp, where one could potentially turn off the highway and use the waterway as a route if they were operating an amphibious vehicle or not adverse to swimming...</p></div>
<div class="comment-info" id="comment-3111-info">
<span class="comment-age">(16 Feb '11, 17:06)</span>
<a class="comment-user userinfo" href="/users/132/baloo-uriza">Baloo Uriza</a>
</div>
</div>
<a name="3122"></a>
<div class="comment" id="comment-3122">
<div class="comment-score" id="post-3122-score">2</div>
<div class="comment-text"><p>Ways crossing on different layers should not have a common junction node. Otherwise KeepRight will write messages like "This node is a junction of ways on different layers" and "Connected ways should be on the same layer. Crossings on intermediate nodes of ways on different layers are obviously wrong. Junctions on end-nodes of ways on different layers are also deprecated, but common practice. So you may ignore this part of the check and switch them off separately. Please note that bridges are set to layer +1, and tunnels to -1, anything else to layer 0 implicitly if no layer tag is present."</p></div>
<div class="comment-info" id="comment-3122-info">
<span class="comment-age">(16 Feb '11, 20:03)</span>
<a class="comment-user userinfo" href="/users/652/gnurk">gnurk</a>
</div>
</div>
<a name="3136"></a>
<div class="comment" id="comment-3136">
<div class="comment-score" id="post-3136-score"></div>
<div class="comment-text"><p>Yeah, I've found setting the layer tag for those three levels generally does more harm than good in most cases.</p></div>
<div class="comment-info" id="comment-3136-info">
<span class="comment-age">(17 Feb '11, 19:08)</span>
<a class="comment-user userinfo" href="/users/132/baloo-uriza">Baloo Uriza</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-3050">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-3050-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="3131"></a>
<div class="answer" id="answer-container-3131">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/3131/up/" id="post-3131-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-3131-score" title="current number of votes">
    2
</div>
<a class="ajax-command post-vote down" href="/vote/3131/down/" id="post-3131-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>Go and survey the place and map what is actually there.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/3131/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>17 Feb '11, 12:28</strong>
</p>
<img alt="ChrisH's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/b906204accce0fd58bc408b22bae01f2?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/34/chrish">ChrisH</a><br/>
<span class="score" title="4075 reputation points"><span class="">4.1k</span></span><span title="13 badges"><span class="badge1">●</span><span class="badgecount">13</span></span><span title="42 badges"><span class="silver">●</span><span class="badgecount">42</span></span><span title="62 badges"><span class="bronze">●</span><span class="badgecount">62</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="ChrisH has 11 accepted answers">15%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-3131">
</div>
<div class="comment-tools" id="comment-tools-3131">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-3131-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="3051"></a>
<div class="answer" id="answer-container-3051">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/3051/up/" id="post-3051-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-3051-score" title="current number of votes">
    1
</div>
<a class="ajax-command post-vote down" href="/vote/3051/down/" id="post-3051-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>I would recommend option C or D:</p>
<ul>
<li>a: is not technically a false positive</li>
<li>b: In the past there have been those who go through and made mass "corrections" to waterways having just a layer of -1, on the basis that it's a "Ground level feature".   (Which I disagree with)</li>
<li>c: You are correct - most are culverts, but many will be bridges</li>
<li>d: Just leave them since there is no immediate harm to routing, etc; correct them as they are surveyed.</li>
</ul>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/3051/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>15 Feb '11, 02:56</strong>
</p>
<img alt="Mike%20N's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/1dd5f61a81b99dd54ec6f33d96aa38b2?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/21/mike-n">Mike N</a><br/>
<span class="score" title="2926 reputation points"><span class="">2.9k</span></span><span title="2 badges"><span class="badge1">●</span><span class="badgecount">2</span></span><span title="22 badges"><span class="silver">●</span><span class="badgecount">22</span></span><span title="54 badges"><span class="bronze">●</span><span class="badgecount">54</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Mike N has 16 accepted answers">17%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/3051/">
                edited
                <strong>15 Feb '11, 02:57</strong>
</a>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-3051">
<a name="3110"></a>
<div class="comment" id="comment-3110">
<div class="comment-score" id="post-3110-score"></div>
<div class="comment-text"><p>Some of the ways I've been mapping are tracks and trails across moors and many of these will indeed be fords and therefore pukka intersections.</p>
<p>Many thanks for the responses.</p></div>
<div class="comment-info" id="comment-3110-info">
<span class="comment-age">(16 Feb '11, 17:00)</span>
<a class="comment-user userinfo" href="/users/351/vagabond">vagabond</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-3051">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-3051-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="7324"></a>
<div class="answer" id="answer-container-7324">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/7324/up/" id="post-7324-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-7324-score" title="current number of votes">
    1
</div>
<a class="ajax-command post-vote down" href="/vote/7324/down/" id="post-7324-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>I agree with Paul Johnson, the only nodes where roads/rail should intersect water would be fords (or boat ramps), everything else they should be unattached</p>
<p>There is of course the odd time where the river (canal, ditch) is actually on a bridge.</p>
<p>Of course there is also THIS... canal crosses a river, and Interstate 10 crosses both.  Of course it doesn't render accurately.
<a href="http://www.openstreetmap.org/?lat=30.04535&amp;lon=-94.149314&amp;zoom=18&amp;layers=M">http://www.openstreetmap.org/?lat=30.04535&amp;lon=-94.149314&amp;zoom=18&amp;layers=M</a></p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/7324/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>25 Aug '11, 23:47</strong>
</p>
<img alt="Sundance's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/f6827fbcbfc77428dfb7f8743ab775db?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/1774/sundance">Sundance</a><br/>
<span class="score" title="467 reputation points">467</span><span title="5 badges"><span class="silver">●</span><span class="badgecount">5</span></span><span title="11 badges"><span class="bronze">●</span><span class="badgecount">11</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Sundance has one accepted answer">3%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/7324/">
                edited
                <strong>25 Aug '11, 23:48</strong>
</a>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-7324">
<a name="7328"></a>
<div class="comment" id="comment-7328">
<div class="comment-score" id="post-7328-score"></div>
<div class="comment-text"><p>You are not entirely right. Osmarender renders it correctly (the bridges).<br/>
More importantly it does not seem to be mapped right. The river with riverbanks should have a single way for the flow inside (one that corresponds to the river network topology. And the same goes for the canal. It should be drawn as one waterway=canal only, perhaps bound in natural=water area. If you go east along the canal you get to pipes that are likely used to transfer the canal water over the river, but is not mapped at all and the second river/canal is also not...<br/>
+1 for the nice example</p></div>
<div class="comment-info" id="comment-7328-info">
<span class="comment-age">(26 Aug '11, 00:13)</span>
<a class="comment-user userinfo" href="/users/1619/lm_1">LM_1</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-7324">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-7324-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="7320"></a>
<div class="answer" id="answer-container-7320">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/7320/up/" id="post-7320-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-7320-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/7320/down/" id="post-7320-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>I recommend not taking KeepRight too seriously here. Just turn off the <em>waterway/highway</em> checkbox and be happy:</p>
<ul>
<li>The rendering tools do a fine job of
   drawing this case.</li>
<li>The routing tools
   are not confused either way.</li>
<li>The
   solutions are often worse than the
   problem.</li>
</ul>
<p>If you feel compelled to act, and you know which streams cross at the same level as the road, you can create a junction node and tag it: <a href="http://wiki.openstreetmap.org/wiki/Key:ford">http://wiki.openstreetmap.org/wiki/Key:ford</a>.
In times of high water knowing which road crossings are definitely wet can be helpful.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/7320/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>25 Aug '11, 19:51</strong>
</p>
<img alt="Bryce%20C%20Nesbitt's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/372fabe5d3962d54b0c9474e35a05359?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/667/bryce-c-nesbitt">Bryce C Nesbitt</a><br>
<span class="score" title="345 reputation points">345</span><span title="5 badges"><span class="badge1">●</span><span class="badgecount">5</span></span><span title="11 badges"><span class="silver">●</span><span class="badgecount">11</span></span><span title="17 badges"><span class="bronze">●</span><span class="badgecount">17</span></span><br>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Bryce C Nesbitt has no accepted answers">0%</span>
</br></br></p>
</div>
</div>
<div class="comments-container" id="comments-container-7320">
<a name="26521"></a>
<div class="comment" id="comment-26521">
<div class="comment-score" id="post-26521-score"></div>
<div class="comment-text"><p>To bad you can't turn off the waterway/highway checking in JOSM. The error messages complaining about crossing ways when there is a way on a bridge over a river are a constant frustration to this user.</p></div>
<div class="comment-info" id="comment-26521-info">
<span class="comment-age">(20 Sep '13, 04:44)</span>
<a class="comment-user userinfo" href="/users/5016/alaskadave">AlaskaDave</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-7320">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-7320-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/3049/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="Oa1X7sb7AhDdv96NTqUfqBBq9CjMMVc5"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>