<meta charset="UTF-8"><link rel="stylesheet" type="text/css" href="../style.css"><div id="CALeft">
<div class="headNormal">
<h1><a href="/questions/40118/editing-large-structures-in-josm-splitting-relations">Editing large structures in JOSM: splitting relations</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/40118/up/" id="post-40118-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-40118-score" title="current number of votes">
    1
</div>
<a class="ajax-command post-vote down" href="/vote/40118/down/" id="post-40118-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/40118/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>In a <a href="http://help.openstreetmap.org/questions/40093/how-to-edit-large-structures">recent question</a>, heunigreenfreak asked how to edit large structures. He is using the iD editor with which it's not really possible. Respondents suggested he use JOSM, which is much more capable. I have been using JOSM for quite a while and feel fairly comfortable with it but yet am unsure about the best way to do what  heunigreenfreak asked. In particular, there is a very large multipolygon  (natural=wood) in northern Thailand that has grown to include 769 members. It has many "outer" segments and many "inner" segments. When one is modifying it, adding inner regions for example,  one <em>should first</em> download the entire structure, a task that leaves plenty of time for a long coffee break. (id:<a href="http://www.openstreetmap.org/relation/1599039">1599039</a>). Its become very unwieldy and I would like to break it into several smaller parts, say along river valleys or highways, areas that are not actually wooded.</p>
<p>So how does one go about splitting such a large structure in JOSM? It cannot be entirely seen in one normal download and worse, because of its size any edits run the risk of encountering conflicts if such editing isn't done in a short time frame. Resolving potentially numerous conflicts is what keeps me from trying this on my own. </p>
<p>Anybody care to provide a step-by-step guide to splitting large areas in JOSM? </p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-large" href="/tags/large/" rel="tag" title="see questions tagged 'large'">large</a>
<a class="post-tag tag-link-josm" href="/tags/josm/" rel="tag" title="see questions tagged 'josm'">josm</a>
<a class="post-tag tag-link-splitting" href="/tags/splitting/" rel="tag" title="see questions tagged 'splitting'">splitting</a>
<a class="post-tag tag-link-relations" href="/tags/relations/" rel="tag" title="see questions tagged 'relations'">relations</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>08 Jan '15, 00:36</strong>
</p>
<img alt="AlaskaDave's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/04dddf6f5ffde333747d385af3ce5829?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/5016/alaskadave">AlaskaDave</a><br/>
<span class="score" title="5415 reputation points"><span class="">5.4k</span></span><span title="76 badges"><span class="badge1">●</span><span class="badgecount">76</span></span><span title="107 badges"><span class="silver">●</span><span class="badgecount">107</span></span><span title="164 badges"><span class="bronze">●</span><span class="badgecount">164</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="AlaskaDave has 17 accepted answers">16%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/40118/">
                edited
                <strong>10 Jan '15, 10:06</strong>
</a>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-40118">
<a name="40120"></a>
<div class="comment" id="comment-40120">
<div class="comment-score" id="post-40120-score"></div>
<div class="comment-text"><p>meta: If your question is "step-by-step guide to splitting large areas in JOSM", I think it would be better to title it that way, don't you think?  And a general best-practise question would deserve another question.</p></div>
<div class="comment-info" id="comment-40120-info">
<span class="comment-age">(08 Jan '15, 01:27)</span>
<a class="comment-user userinfo" href="/users/5179/aseerel4c26">aseerel4c26 ♦</a>
</div>
</div>
<a name="40121"></a>
<div class="comment" id="comment-40121">
<div class="comment-score" id="post-40121-score">1</div>
<div class="comment-text"><p>Perhaps it would but the question that inspired mine has that title and I was intending for user heunigreenfreak to notice it. It's a general title for what I want to know.</p>
<p>As for the second part of your reply, I don't know the difference between asking for help and asking for a "best practices" tutorial. All I know is that I can't proceed without some help.</p></div>
<div class="comment-info" id="comment-40121-info">
<span class="comment-age">(08 Jan '15, 02:06)</span>
<a class="comment-user userinfo" href="/users/5016/alaskadave">AlaskaDave</a>
</div>
</div>
<a name="40133"></a>
<div class="comment" id="comment-40133">
<div class="comment-score" id="post-40133-score"></div>
<div class="comment-text"><p><a href="http://help.openstreetmap.org/users/5016/alaskadave">@AlaskaDave</a>: with "general best-practise question" I meant a question which does not focus on a specific sub-topic of working with "large structures" (like your question here does).</p></div>
<div class="comment-info" id="comment-40133-info">
<span class="comment-age">(08 Jan '15, 11:29)</span>
<a class="comment-user userinfo" href="/users/5179/aseerel4c26">aseerel4c26 ♦</a>
</div>
</div>
<a name="40160"></a>
<div class="comment not_top_scorer" id="comment-40160">
<div class="comment-score" id="post-40160-score"></div>
<div class="comment-text"><p>Just to make sure, are you downloading the entire area (Download from OSM) or just the relation and its members (Download object)? I'm not sure what you meant by "It cannot be entirely seen in one normal download."</p></div>
<div class="comment-info" id="comment-40160-info">
<span class="comment-age">(08 Jan '15, 19:59)</span>
<a class="comment-user userinfo" href="/users/2041/paul_012">Paul_012</a>
</div>
</div>
<a name="40174"></a>
<div class="comment" id="comment-40174">
<div class="comment-score" id="post-40174-score">1</div>
<div class="comment-text"><p><a href="http://help.openstreetmap.org/users/2041/paul_012">@Paul_012</a>
That's a great help. I made a few changes using that technique just now but  it raises new questions. I have not been able to download the "entire relation" because it seems to be composed of  many individual smaller relations. The id I gave in the original post, 1599039, is only one piece of the giant one. When splitting other portions of the giant, how can I be sure I'm not splitting a "shared" way, that is, one shared by two or more pieces of the puzzle? </p>
<p>I find it difficult to even describe the problem in words LOL. Perhaps there is a "parent relation" - if so, I cannot find it.</p></div>
<div class="comment-info" id="comment-40174-info">
<span class="comment-age">(09 Jan '15, 01:43)</span>
<a class="comment-user userinfo" href="/users/5016/alaskadave">AlaskaDave</a>
</div>
</div>
<a name="40179"></a>
<div class="comment" id="comment-40179">
<div class="comment-score" id="post-40179-score">1</div>
<div class="comment-text"><p><a href="http://help.openstreetmap.org/users/5016/alaskadave"></a><a href="http://help.openstreetmap.org/users/5016/alaskadave">@AlaskaDave</a>: <a href="//www.openstreetmap.org/relation/1599039">relation 1599039</a> has no "parent relation" – otherwise it would be listed at the bottom of the linked data page with the text "Part of Relation xxxx".</p>
<p>Alternatively, you could also see this in JOSM if you select the relation in the <a href="https://josm.openstreetmap.de/wiki/Help/Dialog/TagsMembership">TagsMembership</a> dialog (see the example image on the docu page). This way you also find out to which "pieces of the puzzle" a "shared" way belongs (select the way to be inspected before, of course).</p></div>
<div class="comment-info" id="comment-40179-info">
<span class="comment-age">(09 Jan '15, 13:00)</span>
<a class="comment-user userinfo" href="/users/5179/aseerel4c26">aseerel4c26 ♦</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-40118">
<span class="comments-showing">
            showing 5 of 6
        </span>
<a class="show-all-comments-link" href="#">show 1 more comments</a>
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-40118-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    One Answer:
                    </div>
<div class="tabsA"><a href="/questions/40118/editing-large-structures-in-josm-splitting-relations?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/40118/editing-large-structures-in-josm-splitting-relations?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/40118/editing-large-structures-in-josm-splitting-relations?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/40118/editing-large-structures-in-josm-splitting-relations?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="40136"></a>
<div class="answer" id="answer-container-40136">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/40136/up/" id="post-40136-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-40136-score" title="current number of votes">
    2
</div>
<a class="ajax-command post-vote down" href="/vote/40136/down/" id="post-40136-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>If there are no common attributes of the areas (for example a name or similar) there is nothing stoping you from moving individual outer polygons to their own multi-polygons (with any enclosed inner polygons), or even better (if small enough and no holes) to normal polygons.</p>
<p>Doing this has a minimal risk of causing conflcts and is simple to carry out without causing the need for artificial breaks.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/40136/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>08 Jan '15, 11:51</strong>
</p>
<img alt="SimonPoole's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/ad2513d6f8e3d709d576ace900c12fa5?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/2053/simonpoole">SimonPoole ♦</a><br/>
<span class="score" title="44667 reputation points"><span class="">44.7k</span></span><span title="13 badges"><span class="badge1">●</span><span class="badgecount">13</span></span><span title="326 badges"><span class="silver">●</span><span class="badgecount">326</span></span><span title="701 badges"><span class="bronze">●</span><span class="badgecount">701</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="SimonPoole has 209 accepted answers">18%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-40136">
<a name="40147"></a>
<div class="comment" id="comment-40147">
<div class="comment-score" id="post-40147-score">1</div>
<div class="comment-text"><p>Thanks for your suggestions. I couldn't begin to figure out which inner multipolygon belongs with which outer one. This thing is a monster! 325 km north to south and 150 km wide.</p>
<p>I'm whittling away at it by combining inner polygons that delimit a major highway one at a time. When I reach the outer edges, I'll be in a better place to split it.</p></div>
<div class="comment-info" id="comment-40147-info">
<span class="comment-age">(08 Jan '15, 13:16)</span>
<a class="comment-user userinfo" href="/users/5016/alaskadave">AlaskaDave</a>
</div>
</div>
<a name="40148"></a>
<div class="comment" id="comment-40148">
<div class="comment-score" id="post-40148-score"></div>
<div class="comment-text"><p>It's too big for even mapki to process at the moment!:</p>
<p><a href="http://osm.mapki.com/history/relation.php?id=1599039">http://osm.mapki.com/history/relation.php?id=1599039</a></p>
<p>Further to what Simon says above, if you're working on a section at the edge of it I'd artificially split the bit that you're working on into a new outer polygon (with new ways separating it from the rest of the monster if needed), then make sure each new relation has only the correct inners for it (and not the other one).</p></div>
<div class="comment-info" id="comment-40148-info">
<span class="comment-age">(08 Jan '15, 13:33)</span>
<a class="comment-user userinfo" href="/users/387/someoneelse">SomeoneElse ♦</a>
</div>
</div>
<a name="40150"></a>
<div class="comment" id="comment-40150">
<div class="comment-score" id="post-40150-score">1</div>
<div class="comment-text"><p>I can see your problem, however there do seem to be natural features, for example I just saw a river that is not in OSM on the imagery, that should make the monster easier to break up at obviously places.</p></div>
<div class="comment-info" id="comment-40150-info">
<span class="comment-age">(08 Jan '15, 13:44)</span>
<a class="comment-user userinfo" href="/users/2053/simonpoole">SimonPoole ♦</a>
</div>
</div>
<a name="40187"></a>
<div class="comment" id="comment-40187">
<div class="comment-score" id="post-40187-score">2</div>
<div class="comment-text"><p>The project I had envisioned is simply too complex for me at this point. Some of the ways are part of the Burma-Thailand border, some have roles in two or more relations. Grrrrr....</p>
<p>However, I have learned a bit from fooling around. Adding and removing ways from relations is easier than it was before. As I split out areas that are not wooded (creating &amp; expanding inners) I had to redefine certain inner ways as outers to make the resultant multipolygon correct. I will continue working at it piecemeal and eventually maybe the overall task will become clearer.</p>
<p>Thanks for your comments.</p></div>
<div class="comment-info" id="comment-40187-info">
<span class="comment-age">(10 Jan '15, 10:05)</span>
<a class="comment-user userinfo" href="/users/5016/alaskadave">AlaskaDave</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-40136">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-40136-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/40118/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="fk6EQWEvPa7gh7IWswRbv9044tfQKJ07"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>