<meta charset="utf-8"/><link href="../style.css" rel="stylesheet" type="text/css"/><div id="CALeft"><center><a href="../"><img id="ll" src="https://help.openstreetmap.org/upfiles/osm_help_logo_6.png"/></a></center>
<div class="headNormal">
<h1><a href="/questions/19497/turn-restriction-fine-points">Turn restriction fine points</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/19497/up/" id="post-19497-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-19497-score" title="current number of votes">
    2
</div>
<a class="ajax-command post-vote down" href="/vote/19497/down/" id="post-19497-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/19497/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>Take a look at <a href="http://www.openstreetmap.org/browse/relation/2732863">relation 2732863</a>. I added the turn restriction but do not completely understand how it works despite reading all the available help I could find.</p>
<p>The restriction is only_right_turn when approaching the intersection from the south. The way forward (north) is blocked by a barrier and the road you're turning onto is one way going east to west. However, if coming from the north the restriction changes to only_right_turn. The same barrier is there to block southerly travel and the same east-west, one-way road forces the right turn.</p>
<p>Therefore the same intersection has two distinct turn restrictions depending on the direction of approach. But how does one specify that? </p>
<p>In the wiki I read about From: and To: members of a relation but can't figure out how to assign those roles to the ways in my turn restriction dialog in either Potlatch or JOSM.</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-turn" href="/tags/turn/" rel="tag" title="see questions tagged 'turn'">turn</a>
<a class="post-tag tag-link-relations" href="/tags/relations/" rel="tag" title="see questions tagged 'relations'">relations</a>
<a class="post-tag tag-link-roles" href="/tags/roles/" rel="tag" title="see questions tagged 'roles'">roles</a>
<a class="post-tag tag-link-restriction" href="/tags/restriction/" rel="tag" title="see questions tagged 'restriction'">restriction</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>31 Jan '13, 16:32</strong>
</p>
<img alt="AlaskaDave's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/04dddf6f5ffde333747d385af3ce5829?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/5016/alaskadave">AlaskaDave</a><br/>
<span class="score" title="5415 reputation points"><span class="">5.4k</span></span><span title="76 badges"><span class="badge1">●</span><span class="badgecount">76</span></span><span title="107 badges"><span class="silver">●</span><span class="badgecount">107</span></span><span title="164 badges"><span class="bronze">●</span><span class="badgecount">164</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="AlaskaDave has 17 accepted answers">16%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/19497/">
                edited
                <strong>01 Feb '13, 09:25</strong>
</a>
</p>
<img alt="scai's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/52d3234f3be58156770e8a91d575bfbd?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/158/scai">scai ♦</a><br/>
<span class="score" title="33317 reputation points"><span class="">33.3k</span></span><span title="21 badges"><span class="badge1">●</span><span class="badgecount">21</span></span><span title="309 badges"><span class="silver">●</span><span class="badgecount">309</span></span><span title="459 badges"><span class="bronze">●</span><span class="badgecount">459</span></span></p>
</div>
</div>
<div class="comments-container" id="comments-container-19497">
</div>
<div class="comment-tools" id="comment-tools-19497">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-19497-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    One Answer:
                    </div>
<div class="tabsA"><a href="/questions/19497/turn-restriction-fine-points?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/19497/turn-restriction-fine-points?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/19497/turn-restriction-fine-points?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/19497/turn-restriction-fine-points?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="19498"></a>
<div class="answer" id="answer-container-19498">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/19498/up/" id="post-19498-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-19498-score" title="current number of votes">
    2
</div>
<a class="ajax-command post-vote down" href="/vote/19498/down/" id="post-19498-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>You'll have to split Tha Phae Road at the intersection node and create two separate turn restriction relations. The one for the south approach (only_left_turn) would have the southward road (Kamphaeng Din), the intersection node and the westward Tha Phae Road as relation members. Kamphaeng Din Road will have the "from" role, the intersection node the "via" role, and the westward road the "to" role. </p>
<p>Conversely, the north approach will have an only_right_turn relation, with Ratchawong Road having the "from" role. The intersection node and the westward Tha Phae Road will thus be members of both relations.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/19498/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>31 Jan '13, 17:01</strong>
</p>
<img alt="Paul_012's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/3e4de1232f3377cc783012d889d0375c?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/2041/paul_012">Paul_012</a><br/>
<span class="score" title="686 reputation points">686</span><span title="13 badges"><span class="badge1">●</span><span class="badgecount">13</span></span><span title="17 badges"><span class="silver">●</span><span class="badgecount">17</span></span><span title="31 badges"><span class="bronze">●</span><span class="badgecount">31</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Paul_012 has one accepted answer">33%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/19498/">
                edited
                <strong>31 Jan '13, 17:06</strong>
</a>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-19498">
<a name="19501"></a>
<div class="comment" id="comment-19501">
<div class="comment-score" id="post-19501-score">1</div>
<div class="comment-text"><p>Or, looking at Bing, you could split the northern way to have oneway slip roads into and out of it, and the road from the south then won't join the way to the north and everything will be controlled by the oneway sections and not need any turn restriction relations.</p></div>
<div class="comment-info" id="comment-19501-info">
<span class="comment-age">(31 Jan '13, 17:55)</span>
<a class="comment-user userinfo" href="/users/339/edloach">EdLoach ♦</a>
</div>
</div>
<a name="19503"></a>
<div class="comment" id="comment-19503">
<div class="comment-score" id="post-19503-score"></div>
<div class="comment-text"><p><a href="/users/339/edloach">@EdLoach</a> - that sounds like a good and easy fix for this particular intersection. But I want to learn how to do this for the more general cases I'm likely to encounter in the future.</p>
<p><a href="/users/5153/paul">@Paul</a> - okay, fine. So how do I assign those roles? The Potlatch advanced Turn Restriction dialogs are confusing to say the least and JOSM isn't much better.</p>
<p>Thanks for your time.</p></div>
<div class="comment-info" id="comment-19503-info">
<span class="comment-age">(01 Feb '13, 01:16)</span>
<a class="comment-user userinfo" href="/users/5016/alaskadave">AlaskaDave</a>
</div>
</div>
<a name="19504"></a>
<div class="comment" id="comment-19504">
<div class="comment-score" id="post-19504-score">3</div>
<div class="comment-text"><ul>
<li><a href="http://wiki.openstreetmap.org/wiki/JOSM_Relations_and_Turn_Based_Restrictions">Howto in Josm</a></li>
<li><a href="http://wiki.openstreetmap.org/wiki/Potlatch_2/restrictions">Howto in Potlatch2</a></li>
</ul>
<p>If anything on those pages is not clear, please tell us what that is, so they can be improved.</p></div>
<div class="comment-info" id="comment-19504-info">
<span class="comment-age">(01 Feb '13, 06:37)</span>
<a class="comment-user userinfo" href="/users/2933/cartinus">cartinus</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-19498">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-19498-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/19497/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="chFVlEs1HuySdIVfhGIQ2qzbMno174O2"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>