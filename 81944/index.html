<meta charset="UTF-8"><link rel="stylesheet" type="text/css" href="../style.css"><div id="CALeft">
<div class="headNormal">
<h1><a href="/questions/81944/local-overpass-server-not-generating-areas">Local Overpass Server not Generating Areas</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/81944/up/" id="post-81944-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-81944-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/81944/down/" id="post-81944-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/81944/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>Some areas are not generating on my local overpass server. This results in queries using "is_in" and "map_to_area" not giving the proper results. One such area is the area corresponding to <a href="https://www.openstreetmap.org/relation/2195081#map=9/12.1803/-84.0289">this</a> relation (Nicaragua province, NI-AS). Running an "is_in" query with features inside of this province does not return the area, and "map_to_area" using that relation does not return an area either.</p>
<p>The area creation script ran without error and there's many other areas that are working fine, so I'm lost as to why this area would not exist for me. I don't think this is due to any broken geometry of the relation either, since it does not show up as such. </p>
<p>I've tried re-running the area creation script and downloading an extract of Nicaragua and applying it to the database, neither of which did anything. Here's the query that I've been running as I've tried to fix this (gives proper results using a public server but no results on my private one):
</p><pre>nwr["ISO3166-2"="NI-AS"];
map_to_area;
out geom;
</pre><p></p>
<p>Any help would be appreciated, thank you!</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-overpass" href="/tags/overpass/" rel="tag" title="see questions tagged 'overpass'">overpass</a>
<a class="post-tag tag-link-database" href="/tags/database/" rel="tag" title="see questions tagged 'database'">database</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>24 Sep '21, 21:34</strong>
</p>
<img alt="nbreden's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/90c1a2a6f8b3789f0622ae27f3d92bd6?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/20341/nbreden">nbreden</a><br/>
<span class="score" title="26 reputation points">26</span><span title="6 badges"><span class="badge1">●</span><span class="badgecount">6</span></span><span title="6 badges"><span class="silver">●</span><span class="badgecount">6</span></span><span title="10 badges"><span class="bronze">●</span><span class="badgecount">10</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="nbreden has no accepted answers">0%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-81944">
</div>
<div class="comment-tools" id="comment-tools-81944">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-81944-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    One Answer:
                    </div>
<div class="tabsA"><a href="/questions/81944/local-overpass-server-not-generating-areas?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/81944/local-overpass-server-not-generating-areas?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/81944/local-overpass-server-not-generating-areas?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/81944/local-overpass-server-not-generating-areas?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="81952"></a>
<div class="answer" id="answer-container-81952">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/81952/up/" id="post-81952-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-81952-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/81952/down/" id="post-81952-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>It's unclear what your problem is. What output are you expecting, &amp; what are you receiving?</p>
<pre><code>area["ISO3166-2"="NI-AS"];
out geom;
</code></pre>
<p>and</p>
<pre><code>rel["ISO3166-2"="NI-AS"];
map_to_area;
out geom;
</code></pre>
<p>both return the data below, as expected, using OPT.</p>
<p><img alt="alt text" src="https://help.openstreetmap.org/upfiles/Capture_ImTZKN2.JPG"/></p>
<p>This returns the geometry</p>
<pre><code>rel["ISO3166-2"="NI-AS"];
out geom;
</code></pre>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/81952/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>25 Sep '21, 15:40</strong>
</p>
<img alt="DaveF's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/c9c8b421ad22f51ddd62f23413717036?s=32&amp;d=identicon&amp;r=g" width="32">
<p><a href="/users/1532/davef">DaveF</a><br/>
<span class="score" title="3264 reputation points"><span class="">3.3k</span></span><span title="84 badges"><span class="badge1">●</span><span class="badgecount">84</span></span><span title="98 badges"><span class="silver">●</span><span class="badgecount">98</span></span><span title="133 badges"><span class="bronze">●</span><span class="badgecount">133</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="DaveF has 17 accepted answers">16%</span>
</p>
</img></div>
</div>
<div class="comments-container" id="comments-container-81952">
<a name="81985"></a>
<div class="comment" id="comment-81985">
<div class="comment-score" id="post-81985-score"></div>
<div class="comment-text"><p>Sorry if it was unclear, I'm saying that the above queries return <em>nothing</em> on my local server and I don't know how to fix it. The reason for this, I assume, is that the area for NI-AS does not exist on my local server.</p></div>
<div class="comment-info" id="comment-81985-info">
<span class="comment-age">(27 Sep '21, 16:56)</span>
<a class="comment-user userinfo" href="/users/20341/nbreden">nbreden</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-81952">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-81952-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/81944/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="snHMwuHT2NvkkTUe6q7KIUNkW2SbNADW"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>