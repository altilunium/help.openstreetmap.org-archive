<meta charset="UTF-8"><link rel="stylesheet" type="text/css" href="../style.css"><div id="CALeft">
<div class="headNormal">
<h1><a href="/questions/56035/router-gives-wrong-directions">Router gives wrong directions</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/56035/up/" id="post-56035-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-56035-score" title="current number of votes">
    1
</div>
<a class="ajax-command post-vote down" href="/vote/56035/down/" id="post-56035-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/56035/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>If one tries this <a href="http://www.openstreetmap.org/directions?engine=osrm_car&amp;route=58.8809%2C5.6254%3B58.9864%2C6.1886#map=11/58.9027/5.9254">routing from SVG airport to Preikestolen</a>, a popular tourist attraction in Norway the router is very misleading.  </p>
<p>From this picture one can see that the router tries to navigate south of the fjord (marked in blue) and I marked the expected road in red marker and the expected footpath from there with yellow marker.</p>
<p><img alt="Routing from OSM.org" src="https://help.openstreetmap.org/upfiles/Screenshot_from_2017-05-04_20-02-56.png"/> </p>
<p>Is there a way to tag to help the router here? <br/>
Or is this a bug in the Open Source Routing Machine?</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-osrm" href="/tags/osrm/" rel="tag" title="see questions tagged 'osrm'">osrm</a>
<a class="post-tag tag-link-norway" href="/tags/norway/" rel="tag" title="see questions tagged 'norway'">norway</a>
<a class="post-tag tag-link-routing" href="/tags/routing/" rel="tag" title="see questions tagged 'routing'">routing</a>
<a class="post-tag tag-link-tagging" href="/tags/tagging/" rel="tag" title="see questions tagged 'tagging'">tagging</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>04 May '17, 19:10</strong>
</p>
<img alt="FredrikLindseth's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/f882e7865ffe23339fbaa71c9f576065?s=32&amp;d=identicon&amp;r=g" width="32">
<p><a href="/users/11464/fredriklindseth">FredrikLindseth</a><br>
<span class="score" title="815 reputation points">815</span><span title="13 badges"><span class="badge1">●</span><span class="badgecount">13</span></span><span title="24 badges"><span class="silver">●</span><span class="badgecount">24</span></span><span title="35 badges"><span class="bronze">●</span><span class="badgecount">35</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="FredrikLindseth has 2 accepted answers">13%</span>
</br></p>
</img></div>
</div>
<div class="comments-container" id="comments-container-56035">
</div>
<div class="comment-tools" id="comment-tools-56035">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-56035-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    3 Answers:
                    </div>
<div class="tabsA"><a href="/questions/56035/router-gives-wrong-directions?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/56035/router-gives-wrong-directions?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/56035/router-gives-wrong-directions?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/56035/router-gives-wrong-directions?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="56037"></a>
<div class="answer accepted-answer" id="answer-container-56037">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/56037/up/" id="post-56037-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-56037-score" title="current number of votes">
    4
</div>
<a class="ajax-command post-vote down" href="/vote/56037/down/" id="post-56037-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="accept-answer on" href="/accept_answer/56037/" rel="nofollow" title="FredrikLindseth has selected this answer as the correct answer">
</a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>The OSRM instance used by the Openstreetmap.org site only does vehicle routing. Since it looks like the end of the road on the south side is a bit closer to the destination than the end of the road on the north side, it's probably routing as close as it can by road and then leaving the rest up to the user to figure out. This leads to a wildly-incorrect result in this scenario as you've demonstrated.</p>
<p>Unfortunately, I'm not sure there's anything that could be done to the tagging to fix OSRM's routing in this case. OSRM would need to be modified to be able to route on trails to get a more useful result.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/56037/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>04 May '17, 20:49</strong>
</p>
<img alt="alester's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/087bb38ba920baadf1df9dfc473208ec?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/8189/alester">alester</a><br/>
<span class="score" title="6631 reputation points"><span class="">6.6k</span></span><span title="2 badges"><span class="badge1">●</span><span class="badgecount">2</span></span><span title="66 badges"><span class="silver">●</span><span class="badgecount">66</span></span><span title="100 badges"><span class="bronze">●</span><span class="badgecount">100</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="alester has 37 accepted answers">28%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/56037/">
                edited
                <strong>04 May '17, 20:52</strong>
</a>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-56037">
</div>
<div class="comment-tools" id="comment-tools-56037">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-56037-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="56042"></a>
<div class="answer" id="answer-container-56042">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/56042/up/" id="post-56042-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-56042-score" title="current number of votes">
    2
</div>
<a class="ajax-command post-vote down" href="/vote/56042/down/" id="post-56042-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>Currently all routers accessible via openstreetmap.org are restricted to one specific mode of transportation. If you want to use multiple modes of transportation then you have to calculate multiple individual routes. Example: <a href="https://www.openstreetmap.org/directions?engine=osrm_car&amp;route=58.8809%2C5.6254%3B58.9914%2C6.1396">Car route up to the nearest road of your destination</a>, <a href="https://www.openstreetmap.org/directions?engine=graphhopper_foot&amp;route=58.9937%2C6.1391%3B58.9864%2C6.1886">foot route from this road to your destination</a>.</p>
<p>To improve this behavior we have to improve the routing engines, not the map data.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/56042/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>05 May '17, 08:34</strong>
</p>
<img alt="scai's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/52d3234f3be58156770e8a91d575bfbd?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/158/scai">scai ♦</a><br/>
<span class="score" title="33317 reputation points"><span class="">33.3k</span></span><span title="21 badges"><span class="badge1">●</span><span class="badgecount">21</span></span><span title="309 badges"><span class="silver">●</span><span class="badgecount">309</span></span><span title="459 badges"><span class="bronze">●</span><span class="badgecount">459</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="scai has 168 accepted answers">23%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-56042">
</div>
<div class="comment-tools" id="comment-tools-56042">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-56042-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="56038"></a>
<div class="answer" id="answer-container-56038">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/56038/up/" id="post-56038-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-56038-score" title="current number of votes">
    1
</div>
<a class="ajax-command post-vote down" href="/vote/56038/down/" id="post-56038-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>I agree with Alester answer. If you move the end marker only two hundred meters NW the route will be recalculated to your expected red route.. Initially I thought there was a problem with the mapping which i would have tested by doing this:-
I would test it section by section by putting start( green) end (red) flags on smaller legs of the expected route. You should be able to pinpoint where the problem is. Next check for unconnected nodes, followed by Tags. Changing the routing choice between car, foot and bike may also give clues the problem, if it works for bike or foot the way could be connected ok but the ways do not allow cars, but that could be tagged correctly, that will need checking.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/56038/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>04 May '17, 22:41</strong>
</p>
<img alt="andy%20mackey's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/efa7ca36d4499200879223dc5ad5ecac?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/644/andy-mackey">andy mackey</a><br/>
<span class="score" title="13238 reputation points"><span class="">13.2k</span></span><span title="87 badges"><span class="badge1">●</span><span class="badgecount">87</span></span><span title="143 badges"><span class="silver">●</span><span class="badgecount">143</span></span><span title="285 badges"><span class="bronze">●</span><span class="badgecount">285</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="andy mackey has 37 accepted answers">4%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/56038/">
                edited
                <strong>04 May '17, 23:15</strong>
</a>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-56038">
</div>
<div class="comment-tools" id="comment-tools-56038">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-56038-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/56035/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="ckbhsXBSVLIcop1fMJBgySnhnUQfIO35"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>