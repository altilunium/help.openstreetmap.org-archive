<meta charset="UTF-8"><link rel="stylesheet" type="text/css" href="../style.css"><div id="CALeft">
<div class="headNormal">
<h1><a href="/questions/52780/erroneous-version-mismatch">Erroneous version mismatch?</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/52780/up/" id="post-52780-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-52780-score" title="current number of votes">
    2
</div>
<a class="ajax-command post-vote down" href="/vote/52780/down/" id="post-52780-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/52780/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>Hi all,</p>
<p>I was just trying to upload some changes in Myanmar and got the following error message (in Potlatch &amp; iD):</p>
<p><em>A server error occurred. Do you want to retry? (The server said: Version mismatch: Provided 3, server had: 4 of Way 380539838)</em></p>
<p>This way however was not changed by anyone else at the same time. So I don't know why this message appears. Could it be, that this way consists of too many nodes already?</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-error" href="/tags/error/" rel="tag" title="see questions tagged 'error'">error</a>
<a class="post-tag tag-link-mismatch" href="/tags/mismatch/" rel="tag" title="see questions tagged 'mismatch'">mismatch</a>
<a class="post-tag tag-link-server" href="/tags/server/" rel="tag" title="see questions tagged 'server'">server</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>01 Nov '16, 22:55</strong>
</p>
<img alt="rene78's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/a6e2839b04b99e35e45d64fe66b9a500?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/1829/rene78">rene78</a><br/>
<span class="score" title="700 reputation points">700</span><span title="29 badges"><span class="badge1">●</span><span class="badgecount">29</span></span><span title="33 badges"><span class="silver">●</span><span class="badgecount">33</span></span><span title="42 badges"><span class="bronze">●</span><span class="badgecount">42</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="rene78 has no accepted answers">0%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/52780/">
                edited
                <strong>02 Nov '16, 08:10</strong>
</a>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-52780">
</div>
<div class="comment-tools" id="comment-tools-52780">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-52780-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    3 Answers:
                    </div>
<div class="tabsA"><a href="/questions/52780/erroneous-version-mismatch?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/52780/erroneous-version-mismatch?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/52780/erroneous-version-mismatch?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/52780/erroneous-version-mismatch?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="52785"></a>
<div class="answer accepted-answer" id="answer-container-52785">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/52785/up/" id="post-52785-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-52785-score" title="current number of votes">
    9
</div>
<a class="ajax-command post-vote down" href="/vote/52785/down/" id="post-52785-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="accept-answer on" href="/accept_answer/52785/" rel="nofollow" title="rene78 has selected this answer as the correct answer">
</a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>I read on a mailing list that there is a problem with replication of the data from the master database to the slaves. When you upload data it goes to the master database. When you read data it comes from the slave database. When there is a replication problem, the data on the slave databases might be out of date. A newer version might be available on the master database, but you are downloading an old version from the slave.</p>
<p>Just be patient until the operations team has solved the problem. The problem might have been solved by the time I am writing this.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/52785/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>02 Nov '16, 06:40</strong>
</p>
<img alt="escada's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/813a136afe7d4c95fd5bccdd78705e0e?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/5390/escada">escada</a><br/>
<span class="score" title="19043 reputation points"><span class="">19.0k</span></span><span title="16 badges"><span class="badge1">●</span><span class="badgecount">16</span></span><span title="166 badges"><span class="silver">●</span><span class="badgecount">166</span></span><span title="302 badges"><span class="bronze">●</span><span class="badgecount">302</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="escada has 97 accepted answers">21%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-52785">
<a name="52791"></a>
<div class="comment" id="comment-52791">
<div class="comment-score" id="post-52791-score">1</div>
<div class="comment-text"><p>Thanks for the hint. I personally would like to see a small notification somewhere on osm.org to inform about technical issues. Then I would only edit after the problems are solved and don't waste time.</p></div>
<div class="comment-info" id="comment-52791-info">
<span class="comment-age">(02 Nov '16, 08:13)</span>
<a class="comment-user userinfo" href="/users/1829/rene78">rene78</a>
</div>
</div>
<a name="52793"></a>
<div class="comment" id="comment-52793">
<div class="comment-score" id="post-52793-score">3</div>
<div class="comment-text"><p>while it is not on the home page (openstreetmap.org), there is a link to <a href="https://wiki.openstreetmap.org/wiki/Platform_Status">https://wiki.openstreetmap.org/wiki/Platform_Status</a> on the homepage of the wiki.</p></div>
<div class="comment-info" id="comment-52793-info">
<span class="comment-age">(02 Nov '16, 09:00)</span>
<a class="comment-user userinfo" href="/users/5390/escada">escada</a>
</div>
</div>
<a name="52801"></a>
<div class="comment" id="comment-52801">
<div class="comment-score" id="post-52801-score"></div>
<div class="comment-text"><p>Thanks for the tip, , it would be nice to have a specific page to go to if we suspect issues to see if there are indeed issues happening. Like an outage reporting page.</p></div>
<div class="comment-info" id="comment-52801-info">
<span class="comment-age">(02 Nov '16, 16:07)</span>
<a class="comment-user userinfo" href="/users/9886/sunfishtommy">Sunfishtommy</a>
</div>
</div>
<a name="52802"></a>
<div class="comment" id="comment-52802">
<div class="comment-score" id="post-52802-score">2</div>
<div class="comment-text"><p><a href="http://help.openstreetmap.org/users/9886/sunfishtommy">@sunfishtommy</a> I'd suggest asking in #osm-dev on IRC.  That's where the most up-to-date information will be.</p></div>
<div class="comment-info" id="comment-52802-info">
<span class="comment-age">(02 Nov '16, 16:44)</span>
<a class="comment-user userinfo" href="/users/387/someoneelse">SomeoneElse ♦</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-52785">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-52785-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="52782"></a>
<div class="answer" id="answer-container-52782">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/52782/up/" id="post-52782-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-52782-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/52782/down/" id="post-52782-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>I am experiencing a very similar problem on JOSM.  I download something from the server then make a coupe changes then try to re upload and it says I have version 2 and the object is now on version 4.  I update data but it does not detect a mismatch.  none of this makes sense, as I literally just downloaded from the server one or 2 minutes before.  I was heavily editing one area, and it appears that the data i am uploading to the server is not matching what i am downloading from the server a immediately after.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/52782/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>02 Nov '16, 03:39</strong>
</p>
<img alt="Sunfishtommy's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/57d91a34d5000cb058777743aa82dc24?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/9886/sunfishtommy">Sunfishtommy</a><br/>
<span class="score" title="111 reputation points">111</span><span title="7 badges"><span class="badge1">●</span><span class="badgecount">7</span></span><span title="9 badges"><span class="silver">●</span><span class="badgecount">9</span></span><span title="13 badges"><span class="bronze">●</span><span class="badgecount">13</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Sunfishtommy has no accepted answers">0%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/52782/">
                edited
                <strong>02 Nov '16, 03:44</strong>
</a>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-52782">
</div>
<div class="comment-tools" id="comment-tools-52782">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-52782-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="60318"></a>
<div class="answer" id="answer-container-60318">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/60318/up/" id="post-60318-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-60318-score" title="current number of votes">
    -1
</div>
<a class="ajax-command post-vote down" href="/vote/60318/down/" id="post-60318-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>I'm seeing the same problem: a conflict which seems to be wrong (server version is 3, my version is 4). I'm not convinced by the above explanation: The data I'm editing was touched for two years ... and when I choose "synchronize", I do not get an edit (I expect "synchronize" would be done from the master server, not the slave in the above scenario ...</p>
<p>Any ideas to get around this, and how I can upload my data??</p>
<p>thanks, nounours77</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/60318/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>26 Oct '17, 22:10</strong>
</p>
<img alt="nounours77's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/67327b555c1f73ebc587d6c2756722ef?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/4376/nounours77">nounours77</a><br/>
<span class="score" title="27 reputation points">27</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">●</span><span class="badgecount">1</span></span><span title="5 badges"><span class="bronze">●</span><span class="badgecount">5</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="nounours77 has no accepted answers">0%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-60318">
<a name="60319"></a>
<div class="comment" id="comment-60319">
<div class="comment-score" id="post-60319-score"></div>
<div class="comment-text"><p>The slave server is the download server.  Syncing data uses the same process as downloading data so syncing data will still be coming from the slave server and will not fix any problems you have with mismatched data.  The best thing you can do is just wait.  the more you try to upload while the slave server is out of date the more errors and problems you are going to make.  if you just wait a couple hours and then try to sync the data again it should work.  As the guy mentioned above just be patient.  Just save the data you have and attempt a sync and up load later.</p></div>
<div class="comment-info" id="comment-60319-info">
<span class="comment-age">(26 Oct '17, 22:28)</span>
<a class="comment-user userinfo" href="/users/9886/sunfishtommy">Sunfishtommy</a>
</div>
</div>
<a name="60320"></a>
<div class="comment" id="comment-60320">
<div class="comment-score" id="post-60320-score"></div>
<div class="comment-text"><p>Thanks for your explanation. Still, I do not think it's a problem that goes away. I'm maintaining this data in another database, and nobody else (normally) touches it. All my data does not sync. It did two years ago, but the last attempts were all failing. I'm currently suspecting that something in the JOSM data format has changed, e.g. that not only the version number, but e.g. the date is checked, which wasn't before, and therefore it's rejected. Is there any place where I can learn more about the .osm format used for JSOM files? I did not find.</p></div>
<div class="comment-info" id="comment-60320-info">
<span class="comment-age">(26 Oct '17, 22:34)</span>
<a class="comment-user userinfo" href="/users/4376/nounours77">nounours77</a>
</div>
</div>
<a name="60321"></a>
<div class="comment" id="comment-60321">
<div class="comment-score" id="post-60321-score"></div>
<div class="comment-text"><p>OK. SOLVED!!! My problem has nothing to do with the above: I manually increased the version - I thought I must give a higher version after the update. So I said "4", while the actual version is "3". Reading carefully my own manual, I realized that the uploaded data must have the SAME version as the downloaded. Stupid me... but well ... the error message is a bit misleading. Thanks, Sunfishtommy for your help and sorry for bothering.</p></div>
<div class="comment-info" id="comment-60321-info">
<span class="comment-age">(26 Oct '17, 22:47)</span>
<a class="comment-user userinfo" href="/users/4376/nounours77">nounours77</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-60318">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-60318-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/52780/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="xXGc8Ikcy99Feyd1NridTcWnTUOQLDBe"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>