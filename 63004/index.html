<meta charset="UTF-8"><link rel="stylesheet" type="text/css" href="../style.css"><div id="CALeft">
<div class="headNormal">
<h1><a href="/questions/63004/rendering-tiles-of-specific-state">Rendering tiles of specific state</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/63004/up/" id="post-63004-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-63004-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/63004/down/" id="post-63004-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/63004/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>The basic starting guides kind of left me with a couple of doubts</p>
<ol>
<li>You import the full north american pbf</li>
<li>We can't zoom further than 13 on any zone because the tiles don't seem to have been rendered</li>
</ol>
<p>Do we have to run render_list to get more zoom levels?</p>
<p>Can we render zoom levels of a specific state? Is this the command?</p>
<p>osm2pgsql -s -C 3000 -d gis -U gis --prefix MI -S default.style -e 12-20 MI.osm</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-render_list" href="/tags/render_list/" rel="tag" title="see questions tagged 'render_list'">render_list</a>
<a class="post-tag tag-link-zoomlevel" href="/tags/zoomlevel/" rel="tag" title="see questions tagged 'zoomlevel'">zoomlevel</a>
<a class="post-tag tag-link-tiles" href="/tags/tiles/" rel="tag" title="see questions tagged 'tiles'">tiles</a>
<a class="post-tag tag-link-tileserver" href="/tags/tileserver/" rel="tag" title="see questions tagged 'tileserver'">tileserver</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>15 Apr '18, 19:24</strong>
</p>
<img alt="gfitz's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/7dc2ca85ad0fdecfb5c66a390b83180a?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/14985/gfitz">gfitz</a><br/>
<span class="score" title="46 reputation points">46</span><span title="3 badges"><span class="badge1">●</span><span class="badgecount">3</span></span><span title="4 badges"><span class="silver">●</span><span class="badgecount">4</span></span><span title="7 badges"><span class="bronze">●</span><span class="badgecount">7</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="gfitz has no accepted answers">0%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/63004/">
                edited
                <strong>30 Jun '18, 12:13</strong>
</a>
</p>
<img alt="aseerel4c26's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/66f0dc05b44574e3894be07b0b37cf37?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/5179/aseerel4c26">aseerel4c26 ♦</a><br/>
<span class="score" title="32615 reputation points"><span class="">32.6k</span></span><span title="18 badges"><span class="badge1">●</span><span class="badgecount">18</span></span><span title="248 badges"><span class="silver">●</span><span class="badgecount">248</span></span><span title="554 badges"><span class="bronze">●</span><span class="badgecount">554</span></span></p>
</div>
</div>
<div class="comments-container" id="comments-container-63004">
<a name="63005"></a>
<div class="comment" id="comment-63005">
<div class="comment-score" id="post-63005-score"></div>
<div class="comment-text"><p>It's not actually clear from the question so far what you're actually trying to do - maybe add a bit more detail about what problems you're hitting?</p>
<p>For the avoidance of doubt if you follow <a href="https://switch2osm.org/manually-building-a-tile-server-16-04-2-lts/">https://switch2osm.org/manually-building-a-tile-server-16-04-2-lts/</a> you'll get a tile server that renders tiles on demand.  If you want to manually render tiles you can use "render_list" (and you might find <a href="https://wiki.openstreetmap.org/wiki/User:SomeoneElse/Ubuntu_1804_tileserver_load#Force_Rendering_Tiles">https://wiki.openstreetmap.org/wiki/User:SomeoneElse/Ubuntu_1804_tileserver_load#Force_Rendering_Tiles</a> to help with that), but be aware that if you force render high zooms you will get a <em>lot</em> of very empty tiles.</p></div>
<div class="comment-info" id="comment-63005-info">
<span class="comment-age">(15 Apr '18, 19:41)</span>
<a class="comment-user userinfo" href="/users/387/someoneelse">SomeoneElse ♦</a>
</div>
</div>
<a name="63006"></a>
<div class="comment" id="comment-63006">
<div class="comment-score" id="post-63006-score"></div>
<div class="comment-text"><p>Already did all that through the apt-get package for 14.04 that loads all the planet and then we imported the entire north american PBF. It doesn't load further than zoom level 13. And render_list has been running for days.</p></div>
<div class="comment-info" id="comment-63006-info">
<span class="comment-age">(15 Apr '18, 20:42)</span>
<a class="comment-user userinfo" href="/users/14985/gfitz">gfitz</a>
</div>
</div>
<a name="63007"></a>
<div class="comment" id="comment-63007">
<div class="comment-score" id="post-63007-score"></div>
<div class="comment-text"><blockquote>
<p>Already did all that through the apt-get package for 14.04</p>
</blockquote>
<p>One big caveat - the "with packages" instructions use lots of quite old software versions.  I wouldn't personally recommend it, although on 14.04 it should still work (though you may hit old bugs later on).</p>
<blockquote>
<p>that loads all the planet</p>
</blockquote>
<p>To be clear, you can load any data you want at that stage.  I'd personally suggest something much smaller while ensuring that the process works.</p>
<blockquote>
<p>It doesn't load further than zoom level 13</p>
</blockquote>
<p>I'm guessing here that you mean "the data loads OK but when I manually run render_list it doesn't get further than zoom level 13".</p>
<p>To re-ask my original question - what are you actually trying to do?</p></div>
<div class="comment-info" id="comment-63007-info">
<span class="comment-age">(15 Apr '18, 22:23)</span>
<a class="comment-user userinfo" href="/users/387/someoneelse">SomeoneElse ♦</a>
</div>
</div>
<a name="63009"></a>
<div class="comment" id="comment-63009">
<div class="comment-score" id="post-63009-score"></div>
<div class="comment-text"><p>Is render running? 
Restart it and post the useful output of:
    grep syslog | grep renderd</p></div>
<div class="comment-info" id="comment-63009-info">
<span class="comment-age">(16 Apr '18, 05:12)</span>
<a class="comment-user userinfo" href="/users/5587/yvecai">yvecai</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-63004">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-63004-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    One Answer:
                    </div>
<div class="tabsA"><a href="/questions/63004/rendering-tiles-of-specific-state?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/63004/rendering-tiles-of-specific-state?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/63004/rendering-tiles-of-specific-state?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/63004/rendering-tiles-of-specific-state?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="63008"></a>
<div class="answer accepted-answer" id="answer-container-63008">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/63008/up/" id="post-63008-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-63008-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/63008/down/" id="post-63008-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="accept-answer on" href="/accept_answer/63008/" rel="nofollow" title="gfitz has selected this answer as the correct answer">
</a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>I suspect that what you're trying to do here is to:</p>
<ul>
<li>load data into a database</li>
<li>Render tiles up to a particular zoom level in a particular geographical area from that data</li>
</ul>
<p>In order to load data I'd suggest following <a href="https://switch2osm.org/manually-building-a-tile-server-16-04-2-lts/">this</a> for Ubuntu 16.04 or <a href="https://switch2osm.org/manually-building-a-tile-server-18-04-lts/">this</a> for 18.04.  I wouldn't suggest anything older because:</p>
<ul>
<li>The ubuntu version it needs will be out of support soon</li>
<li>The packages used (mod_tile, osm2pgsql etc.) are quite old and you'll be limited in terms of what map styles you can use because of that.</li>
</ul>
<p>If you want a US state, I'd suggest that you get data for the state you want from <a href="http://download.geofabrik.de/north-america.html">here</a>.  You can pick a <a href="http://download.geofabrik.de/north-america/us/rhode-island.html">small one</a> for testing.</p>
<p>Once loaded, you'll have a database and a tile server but no map tiles yet.  You can let map tiles render "on the fly" as people try and access them (but this will initially be slow) or you can use something like "<code>render_list</code>" (part of mod_tile) to render all tiles worldwide at certain zoom levels.</p>
<p>However, if you're only interested in tiles for a US state rendering all tiles worldwide (most of which will be empty) is pretty wasteful.  <a href="https://wiki.openstreetmap.org/wiki/User:SomeoneElse/Ubuntu_1804_tileserver_load#Force_Rendering_Tiles">This link</a> explains how to render tiles for a particular area only.  The example given there renders zoom 11 tiles for the UK only; for your US state you'd need to find the min and max lat and lon values and min and max zoom levels and amend the example command line given to match.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/63008/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>15 Apr '18, 22:37</strong>
</p>
<img alt="SomeoneElse's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/0bf1aa22f7f5e045b0eb8beb79fe7907?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/387/someoneelse">SomeoneElse ♦</a><br/>
<span class="score" title="36866 reputation points"><span class="">36.9k</span></span><span title="71 badges"><span class="badge1">●</span><span class="badgecount">71</span></span><span title="370 badges"><span class="silver">●</span><span class="badgecount">370</span></span><span title="866 badges"><span class="bronze">●</span><span class="badgecount">866</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="SomeoneElse has 228 accepted answers">16%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-63008">
<a name="63186"></a>
<div class="comment" id="comment-63186">
<div class="comment-score" id="post-63186-score"></div>
<div class="comment-text"><p>Alright now. Followed that guide. /0/0/0.png is returning a pic of the world. After a few 404s tho. Also loaded the entire north american continent. Now leafletjs returns 404 on the pngs it's trying to fetch.</p></div>
<div class="comment-info" id="comment-63186-info">
<span class="comment-age">(27 Apr '18, 05:15)</span>
<a class="comment-user userinfo" href="/users/14985/gfitz">gfitz</a>
</div>
</div>
<a name="63188"></a>
<div class="comment" id="comment-63188">
<div class="comment-score" id="post-63188-score"></div>
<div class="comment-text"><p>Sorry the path was /hot/x/y/z.png. My bad</p></div>
<div class="comment-info" id="comment-63188-info">
<span class="comment-age">(27 Apr '18, 05:30)</span>
<a class="comment-user userinfo" href="/users/14985/gfitz">gfitz</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-63008">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-63008-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/63004/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="3BtOPdJcfzzq6EvG7ktsshEbRJlRIf65"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>