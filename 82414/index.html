<meta charset="UTF-8"><link rel="stylesheet" type="text/css" href="../style.css"><div id="CALeft">
<div class="headNormal">
<h1><a href="/questions/82414/best-way-to-filter-data-by-street-width">Best way to filter data by street width?</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/82414/up/" id="post-82414-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-82414-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/82414/down/" id="post-82414-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/82414/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>I'm new to working with OSM data and there seem to be a few different ways to download it. I'm looking to download road vector data (ideally globally but a small region works as well) filtered by width such that only large roads wider than a certain threshold (like highways) are included. Which is the best option for this -- the Overpass API? Others?</p>
<p>Thoughts on how to write the query for this are greatly appreciated.</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-filter" href="/tags/filter/" rel="tag" title="see questions tagged 'filter'">filter</a>
<a class="post-tag tag-link-width" href="/tags/width/" rel="tag" title="see questions tagged 'width'">width</a>
<a class="post-tag tag-link-download" href="/tags/download/" rel="tag" title="see questions tagged 'download'">download</a>
<a class="post-tag tag-link-road" href="/tags/road/" rel="tag" title="see questions tagged 'road'">road</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>29 Oct '21, 20:22</strong>
</p>
<img alt="krt333's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/91145d5cf6d21231451e6e4a78b846cf?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/20979/krt333">krt333</a><br/>
<span class="score" title="11 reputation points">11</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">●</span><span class="badgecount">1</span></span><span title="2 badges"><span class="bronze">●</span><span class="badgecount">2</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="krt333 has no accepted answers">0%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-82414">
<a name="82415"></a>
<div class="comment" id="comment-82415">
<div class="comment-score" id="post-82415-score">1</div>
<div class="comment-text"><p>I don't know how to help you with your query but as a long-time OSM mapper, I can say that most highways in OSM don't have a defined width associated with them. That is, most of the mappers I know don't use the tag width=*. It's a level of detail that isn't critical for the type of mapping many of us do.</p>
<p>So, while you will certainly get some help in developing a working query here, I doubt whether it will be very useful.</p></div>
<div class="comment-info" id="comment-82415-info">
<span class="comment-age">(29 Oct '21, 21:05)</span>
<a class="comment-user userinfo" href="/users/5016/alaskadave">AlaskaDave</a>
</div>
</div>
<a name="82423"></a>
<div class="comment" id="comment-82423">
<div class="comment-score" id="post-82423-score">1</div>
<div class="comment-text"><p><em>"such that only large roads wider than a certain threshold (like highways) are included"</em> makes me wonder if you are not in fact looking for a highway classification. At least in more developed regions there is a quite differentiated system of highway classification mapped in OSM. Probably your best bet is to filter by the <a href="https://wiki.openstreetmap.org/wiki/Key:highway"><code>highway</code></a> tag then.</p></div>
<div class="comment-info" id="comment-82423-info">
<span class="comment-age">(30 Oct '21, 13:15)</span>
<a class="comment-user userinfo" href="/users/10133/tzorn">TZorn</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-82414">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-82414-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    One Answer:
                    </div>
<div class="tabsA"><a href="/questions/82414/best-way-to-filter-data-by-street-width?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/82414/best-way-to-filter-data-by-street-width?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/82414/best-way-to-filter-data-by-street-width?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/82414/best-way-to-filter-data-by-street-width?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="82420"></a>
<div class="answer" id="answer-container-82420">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/82420/up/" id="post-82420-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-82420-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/82420/down/" id="post-82420-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p><code>width=</code> is not usually tagged, although one may easily measure it on imagery. Even if it is, there are many measures of it (ie whether to include parking and hard shoulder), that not even the uncommonly (at this scale) used <code>width:carriageway=</code> may be reliable enough. Width of carriageway (meaning the traveled lanes only) for a certain number of lanes (lanes=) depends on the design speed (reflected in the legal <code>maxspeed=</code> in operation). The entire roadway (whole paved area) needs to include hard shoulder, which although often assumed in highway=motorway (will need to exclude those without by <code>shoulder!=no</code>) may be under-tagged in other roads as <code>shoulder=</code>. You may also want to think about whether to include short sections of widening for turn lanes at intersections if this detail is present at your country being worked on, or evaluate a continuous length of main lanes only (this is better pre-processed afterwards I guess, as an outsider).  </p>
<p>Overpass is obviously easier when working with small areas, or if you don't want to download and set up a local data file. The Overpass query would include combinations of <code>[highway=motorway]</code> (think you want to separately query for <code>=trunk</code> and <code>=primary</code> using different criteria), <code>(if:t[lanes]&gt;=3)</code>, <code>(if:t[maxspeed]&gt;=100)</code> (need to use <code>(if:number(t[maxspeed])&gt;65)</code> for mph units in USA), etc.</p>
<p>One official blog post: <a href="https://dev.overpass-api.de/blog/numbers.html">https://dev.overpass-api.de/blog/numbers.html</a> </p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/82420/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>30 Oct '21, 08:04</strong>
</p>
<img alt="Kovoschiz's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/76ffbb56c811e8a8ccdd4c28f122399f?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/16887/kovoschiz">Kovoschiz</a><br/>
<span class="score" title="2434 reputation points"><span class="">2.4k</span></span><span title="3 badges"><span class="badge1">●</span><span class="badgecount">3</span></span><span title="11 badges"><span class="silver">●</span><span class="badgecount">11</span></span><span title="47 badges"><span class="bronze">●</span><span class="badgecount">47</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Kovoschiz has 22 accepted answers">16%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/82420/">
                edited
                <strong>30 Oct '21, 08:10</strong>
</a>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-82420">
</div>
<div class="comment-tools" id="comment-tools-82420">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-82420-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/82414/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="Hueb2r4DeF2kRYyZudQSY1zkLLd1Bjku"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>