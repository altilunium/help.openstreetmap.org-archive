<meta charset="utf-8"/><link href="../style.css" rel="stylesheet" type="text/css"/><div id="CALeft"><center><a href="../"><img id="ll" src="https://help.openstreetmap.org/upfiles/osm_help_logo_6.png"/></a></center>
<div class="headNormal">
<h1><a href="/questions/42134/save-address-and-name-in-relation">Save address and name in relation?</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/42134/up/" id="post-42134-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-42134-score" title="current number of votes">
    2
</div>
<a class="ajax-command post-vote down" href="/vote/42134/down/" id="post-42134-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/42134/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>Is it the right way to add the address and name of an object to the relation? Or should it be added to the outline of a building (which is part of the relation)?</p>
<p>See for example this relation: <a href="https://www.openstreetmap.org/relation/2921268">https://www.openstreetmap.org/relation/2921268</a></p>
<p>I cannot find this building with Nominatim search via the name of the object (which is Markthalle VII) or the address (saved in the relation). Why? Is this a bug of Nominatim or bad tagging?</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-address" href="/tags/address/" rel="tag" title="see questions tagged 'address'">address</a>
<a class="post-tag tag-link-outline" href="/tags/outline/" rel="tag" title="see questions tagged 'outline'">outline</a>
<a class="post-tag tag-link-relations" href="/tags/relations/" rel="tag" title="see questions tagged 'relations'">relations</a>
<a class="post-tag tag-link-name" href="/tags/name/" rel="tag" title="see questions tagged 'name'">name</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>06 Apr '15, 03:09</strong>
</p>
<img alt="erik's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/793c9f0cfb9f3cc6001d73f127644c67?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/5517/erik">erik</a><br/>
<span class="score" title="558 reputation points">558</span><span title="15 badges"><span class="badge1">●</span><span class="badgecount">15</span></span><span title="22 badges"><span class="silver">●</span><span class="badgecount">22</span></span><span title="34 badges"><span class="bronze">●</span><span class="badgecount">34</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="erik has one accepted answer">9%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/42134/">
                edited
                <strong>06 Apr '15, 03:11</strong>
</a>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-42134">
</div>
<div class="comment-tools" id="comment-tools-42134">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-42134-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    2 Answers:
                    </div>
<div class="tabsA"><a href="/questions/42134/save-address-and-name-in-relation?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/42134/save-address-and-name-in-relation?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/42134/save-address-and-name-in-relation?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/42134/save-address-and-name-in-relation?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="42147"></a>
<div class="answer accepted-answer" id="answer-container-42147">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/42147/up/" id="post-42147-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-42147-score" title="current number of votes">
    1
</div>
<a class="ajax-command post-vote down" href="/vote/42147/down/" id="post-42147-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="accept-answer on" href="/accept_answer/42147/" rel="nofollow" title="erik has selected this answer as the correct answer">
</a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>When using a type=building relation, you should still put the name and all other building-related tags – especially building=yes, but also the address – on the outline. This helps applications with no building:part support to correctly interpret the data. Note that this is different from the treatment of multipolygons, where tags <em>should</em> go to the relation instead of the outer way.</p>
<p>So in your example, you should move the tags from the relation to the outline. The building relation is not strictly necessary here (it is only required if there are ambiguities otherwise), so whether you keep it is a matter of personal preference.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/42147/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>06 Apr '15, 17:40</strong>
</p>
<img alt="Tordanik's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/0626be5f46f32fce501353e8a5ec399c?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/14/tordanik">Tordanik</a><br/>
<span class="score" title="11998 reputation points"><span class="">12.0k</span></span><span title="15 badges"><span class="badge1">●</span><span class="badgecount">15</span></span><span title="106 badges"><span class="silver">●</span><span class="badgecount">106</span></span><span title="147 badges"><span class="bronze">●</span><span class="badgecount">147</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Tordanik has 58 accepted answers">35%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-42147">
</div>
<div class="comment-tools" id="comment-tools-42147">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-42147-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="42136"></a>
<div class="answer" id="answer-container-42136">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/42136/up/" id="post-42136-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-42136-score" title="current number of votes">
    1
</div>
<a class="ajax-command post-vote down" href="/vote/42136/down/" id="post-42136-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>I don't know if it makes any difference but instead of having the relation tagged as type=building I thought it should be tagged as type=multipolygon and building=yes</p>
<p>There is a multiple part building in my area tagged with type=multipolygon and building=yes with the addr:<em>=</em> in the relation which Nominatim finds.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/42136/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>06 Apr '15, 03:30</strong>
</p>
<img alt="n76's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/f60af53a4eba0c21f25c22674fb4a8cc?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/5918/n76">n76</a><br/>
<span class="score" title="10839 reputation points"><span class="">10.8k</span></span><span title="10 badges"><span class="badge1">●</span><span class="badgecount">10</span></span><span title="82 badges"><span class="silver">●</span><span class="badgecount">82</span></span><span title="172 badges"><span class="bronze">●</span><span class="badgecount">172</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="n76 has 48 accepted answers">17%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-42136">
<a name="42148"></a>
<div class="comment" id="comment-42148">
<div class="comment-score" id="post-42148-score">1</div>
<div class="comment-text"><p>Multipolygon relations are not intended as a collection of objects (in this case, building parts). They simply represent an area, and are semantically identical to an area represented by a closed way. This is a common misunderstanding for some reason.</p></div>
<div class="comment-info" id="comment-42148-info">
<span class="comment-age">(06 Apr '15, 17:42)</span>
<a class="comment-user userinfo" href="/users/14/tordanik">Tordanik</a>
</div>
</div>
<a name="42149"></a>
<div class="comment" id="comment-42149">
<div class="comment-score" id="post-42149-score"></div>
<div class="comment-text"><p>The samples near me are buildings with an inner courtyard so there are two ways one an "outer" and the other an "inner". I believe a multi-polygon is needed for that. Until looking at the example in the question I had not seen a relation used just to gather a number of building ways together.</p></div>
<div class="comment-info" id="comment-42149-info">
<span class="comment-age">(06 Apr '15, 18:29)</span>
<a class="comment-user userinfo" href="/users/5918/n76">n76</a>
</div>
</div>
<a name="42150"></a>
<div class="comment" id="comment-42150">
<div class="comment-score" id="post-42150-score"></div>
<div class="comment-text"><p>Ok, in that case a multipolygon relation is of course appropriate. However, this is a different situation than what we have here.</p></div>
<div class="comment-info" id="comment-42150-info">
<span class="comment-age">(06 Apr '15, 18:34)</span>
<a class="comment-user userinfo" href="/users/14/tordanik">Tordanik</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-42136">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-42136-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/42134/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="WYiiNwhYQ0MT4HfSLinh7vqoVNgkTRN5"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>