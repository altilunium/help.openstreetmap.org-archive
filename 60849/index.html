<meta charset="utf-8"/><link href="../style.css" rel="stylesheet" type="text/css"/><div id="CALeft"><center><a href="../"><img id="ll" src="https://help.openstreetmap.org/upfiles/osm_help_logo_6.png"/></a></center>
<div class="headNormal">
<h1><a href="/questions/60849/ptv2-neue-komplizierte-relation">PTv2 - neue, komplizierte Relation</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/60849/up/" id="post-60849-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-60849-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/60849/down/" id="post-60849-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/60849/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>Hallo,</p>
<p>Ich bin in Bezug OSM noch ein "bisschen grün hinter den Ohren", dennoch fasziniert mich das Ganze sehr. Deshalb möchte ich eine kleine Herausforderung annehmen - habe aber Angst dass ich dabei mehr kaputt mache als Nutzen bringe - nämlich mit folgenden Problem:</p>
<p>Ich möchte den öffentlichen Verkehr bei mir Zuhause PTv2-tauglich machen. Dort gibt es die Bus-Linie 4421 (<a href="https://www.openstreetmap.org/relation/5967412#map=12/46.7869/12.5836">Relation 5967412</a>). Die besteht nicht aus einer klassischen Route (hin und retour), sondern setzt sich aus mehren "Teil-Linien" zusammen, welche dann auch noch unterschiedliche Routen wählen - schwer zu beschreiben, siehe den Fahrplan:</p>
<p><a href="https://www.vvt.at/page.cfm?sessionID=0&amp;requestID=&amp;language=de&amp;selectAssignedStops=0&amp;command=&amp;mode=line&amp;net=&amp;opBranch=&amp;execInst=normal&amp;itdLPxx_showHelp=&amp;vpath=timetables/mehr-auskunft/line_timetables&amp;withoutTrains=0&amp;lsShowTrainsExplicit=1&amp;lineName=4421">Fahrplan VVT Linie 4421</a></p>
<p>In der derzeit existierenden Relation sind sämtliche Haltestellen und Strecken aufgenommen. Wie man sieht kann man hier nicht so einfach sagen wie die Hin- und die Rückfahrt aussieht. Laut meinem Verständnis muss für PTv2 aber die Haltestellen geordnet und pro Richtung eine eigene Relation erstellt werden. Dann kommt hinzu, dass zu unterschiedlichen Zeiten die Busse unterschiedliche Stopps auslassen und unterschiedliche Strecken verwenden - wie gesagt: höchst kompliziert;</p>
<p>Folgende Lösungsmöglichkeiten habe ich mir als Amateur durchgedacht:</p>
<ol>
<li>Ich versehe die bestehende Relation mit den tags die daraus eben PTv2 machen - wird bestimmt nicht funktionieren, es gibt ja nicht einmal eine logische Reihenfolge der Bushaltestellen....;</li>
<li>Ich "erarbeite" mir sämtliche Routenkonstellationen heraus - schaff ich nicht, ist mir derzeit noch zu komplex;</li>
<li>Ich rühre die bestehende Relation nicht an, sondern erstelle neue Relationen, wobei ich dabei auch nur "einzelne Busstrecken" generiere, die gesamte Linie 4421 schaffe ich aber nicht - diese Option schließe ich aber kategorisch aus: ich will keine halben Sachen machen, entweder ganz oder gar nicht;</li>
<li>Ich lass es überhaupt sein - nochmals: ich will nichts kaputt mach oder Fehler verursachen;</li>
</ol>
<p>Vielleicht kann mir jemand behilflich sein, Tipps geben, etc. Ich bin aber auch nicht beleidigt wenn Erfahrene sagen, dass ich die Finger davon lassen soll.</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-public-transport" href="/tags/public-transport/" rel="tag" title="see questions tagged 'public-transport'">public-transport</a>
<a class="post-tag tag-link-relations" href="/tags/relations/" rel="tag" title="see questions tagged 'relations'">relations</a>
<a class="post-tag tag-link-lang-de" href="/tags/lang-de/" rel="tag" title="see questions tagged 'lang-de'">lang-de</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>29 Nov '17, 03:24</strong>
</p>
<img alt="-ckb-'s gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/188d306df4597e4102384a3a18bedeec?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/14267/-ckb-">-ckb-</a><br/>
<span class="score" title="36 reputation points">36</span><span title="3 badges"><span class="badge1">●</span><span class="badgecount">3</span></span><span title="3 badges"><span class="silver">●</span><span class="badgecount">3</span></span><span title="6 badges"><span class="bronze">●</span><span class="badgecount">6</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="-ckb- has no accepted answers">0%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/60849/">
                edited
                <strong>29 Nov '17, 03:33</strong>
</a>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-60849">
<a name="60881"></a>
<div class="comment" id="comment-60881">
<div class="comment-score" id="post-60881-score"></div>
<div class="comment-text"><p>Ich kenne mich mit PTv2 nicht genügend aus, aber abgesehen davon ist es überhaupt kein Problem in OSM "halbe Sachen" zu machen solange sie korrekt sind. OSM besteht quasi aus halben Sachen, ansonsten wäre die Karte am ersten Tag leer und am zweiten Tag vollendet gewesen ;) Von daher kannst du dich ruhig an die neuen Relationen wagen, solange es hinterher nicht schlechter als vorher ist.</p></div>
<div class="comment-info" id="comment-60881-info">
<span class="comment-age">(30 Nov '17, 08:03)</span>
<a class="comment-user userinfo" href="/users/158/scai">scai ♦</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-60849">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-60849-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    One Answer:
                    </div>
<div class="tabsA"><a href="/questions/60849/ptv2-neue-komplizierte-relation?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/60849/ptv2-neue-komplizierte-relation?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/60849/ptv2-neue-komplizierte-relation?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/60849/ptv2-neue-komplizierte-relation?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="60886"></a>
<div class="answer accepted-answer" id="answer-container-60886">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/60886/up/" id="post-60886-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-60886-score" title="current number of votes">
    2
</div>
<a class="ajax-command post-vote down" href="/vote/60886/down/" id="post-60886-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="accept-answer on" href="/accept_answer/60886/" rel="nofollow" title="-ckb- has selected this answer as the correct answer">
</a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>Hallo -ckb-,</p>
<p>bei Buslinien im ländlichen Raum muss man irgendwo eine Grenze ziehen. Je mehr Relationen man anlegt, desto mehr Relationen müssen gepflegt werden. Im Fernverkehrsnetz der Deutschen Bahn, das zwar einen Taktfahrplan hat, aber dennoch morgens und abends zusätzliche Halte und Umwege hat, werden i.d.R. nur eine oder zwei Varianten pro Richtung erfasst.</p>
<p>Wo man die Grenze zieht muss jeder Mapper für sich festlegen. Ich persönlich würde mich auf die Fahrtvarianten beschränken, die mehrmals täglich bedient werden. Kurse, die zur Bedienung von Schulen an Schultagen Umwege fahren, sind weniger wichtig. Varianten, die verkürzte Formen anderer Varianten sind, kann man in meinen Augen auch weglassen. Wenn eine verkürzte Variante sich am Ende ihres Weges unterscheidet, weil sie in die Wendeschleife einfährt, die lange Variante jedoch auf der Hauptstraße bleibt, ist das in meinen Augen keine separate Routenrelation wert.</p>
<p>Für die Fahrten Richtung Lienz würde ich folgende Varianten in folgender Reihenfolge erfassen (absteigend nach Wichtigkeit geordnet):</p>
<ol>
<li>Arnsbach Staatsgrenze—Silian Marktplatz–Panzendorf–Abfaltersbach–Mittelwald–Thal Bhf.–Leisach-Gries–Lienz Bhf.–Lienz Schillerstr.–Lienz-Peggetz Fa. Liebherr. Arnsbach Staatsgrenze–Lienz Bhf. wird viermal täglich in dieser Form bedient. Hinzu kommen mindestens drei Kurse, die erst in Silian Marktplatz beginnnen und von denen einen morgens weiter bis zum Werkstor der Firma Liebherr fährt. Noch ein weiterer beginnt erst in Panzendorf.</li>
<li>Abfaltersbach Gemeindeamt–Anras Asch–Anras Abzw St. Justina</li>
<li>wie 1., aber mit der Schleife über Lienz Klösterle und ohne den Abschnitt Arnsbach Staatsgrenze–Silian Marktplatz.</li>
<li>Variante aus Nr. 2 verlängern zu Abfaltersbach Gemeindeamt–…–Mittewald–Leisach-Gries–Lienz Bhf. </li>
<li>Assling Oberassling–Thal Bhf.–Leisach-Gries–Lienz Bhf.–Lienz Klösterle–Lienz Bhf.–Lienz Schillerstr.–Lienz-Peggetz Fa. Liebherr (vier Kurse an Schultagen, einer nur bis Thal Bhf., zwei nur bis Lienz Bhf.)</li>
<li>Anras Asch–Anras Abzw St. Justina–Assling Oberassling–Assling Bannberg–Leisach-Gries–Lienz Bhf. (an Schultagen zweimal, in den Ferien einmal)</li>
<li>Leisach-Gries–Lienz Bhf.–Gaimberg Zettersfeldbahn</li>
</ol>
<p>Das sind die Varianten für die Fahrtrichtung Arnsbach–Lienz. Für die Gegenrichtung musst du auch solche Typen aus dem Fahrplan ableiten. Die von mir vorgeschlagene Mappingreihenfolge wäre dann 1. Punkt der obigen Liste, 1. Punkte der Gegenrichtung, 2. Punkt der obigen Liste, 2. Punkt der Gegenrichtung usw.</p>
<p>Man kann sich eine solche Prioritätenliste aufstellen, indem man den Buchfahrplan, den du verlinkt hast, zur Hand nimmt und jeden Kurs einer Variante zu ordnet. Lass dich nicht von den in der Tabelle abgedruckten Fahrten der Linie 960X Innsbruck–Lienz verwirren.</p>
<p>Zu deinen Fragen im Speziellen:</p>
<p>-ckb- schrieb:</p>
<blockquote>
<p>Ich versehe die bestehende Relation mit den tags die daraus eben PTv2 machen - wird bestimmt nicht funktionieren, es gibt ja nicht einmal eine logische Reihenfolge der Bushaltestellen....;</p>
</blockquote>
<p>Eine reine Änderung der Tags genügt nicht. Der Aufbau der Relationen bedarf tiefgreifender Veränderungen.</p>
<p>-ckb- schrieb:</p>
<blockquote>
<p>Ich rühre die bestehende Relation nicht an, sondern erstelle neue Relationen, wobei ich dabei auch nur "einzelne Busstrecken" generiere, die gesamte Linie 4421 schaffe ich aber nicht - diese Option schließe ich aber kategorisch aus: ich will keine halben Sachen machen, entweder ganz oder gar nicht;</p>
</blockquote>
<p>In meinen Augen ist es gerechtfertigt, die alte Relationen durch Sortieren der Mitgliederliste (inkl. Ausmisten) und Ändern der Tags in die Relation für Punkt 1 zu überführen, wenn du gleichzeitig noch die Gegenrichtung anlegst.</p>
<p>-ckb- schrieb:</p>
<blockquote>
<p>Vielleicht kann mir jemand behilflich sein, Tipps geben, etc. Ich bin aber auch nicht beleidigt wenn Erfahrene sagen, dass ich die Finger davon lassen soll.</p>
</blockquote>
<p>Jeder hat mal klein angefangen und ohne etwas Mut kommt man im Leben nicht weiter. Es ist am Anfang ein forderndes Thema, bis du den Punkt erreicht hast, an dem du es verstanden hast.</p>
<p>Im <a href="https://forum.openstreetmap.org/viewforum.php?id=14">deutschen OSM-Forum</a> (nicht im österreichischen Forum – das ist ein forenartiger Privatblog) tummeln sich einige ÖPNV-Mapper, die dir gerne helfen. Dort kannst du dich mit deinen OSM-Zugangsdaten einloggen.</p>
<p>Viele Grüße</p>
<p>Michael</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/60886/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>30 Nov '17, 10:21</strong>
</p>
<img alt="Nakaner's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/d2a3b905e2632430b47dd9b8de3d8ba0?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/8569/nakaner">Nakaner</a><br/>
<span class="score" title="610 reputation points">610</span><span title="8 badges"><span class="silver">●</span><span class="badgecount">8</span></span><span title="13 badges"><span class="bronze">●</span><span class="badgecount">13</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Nakaner has 3 accepted answers">16%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-60886">
<a name="60920"></a>
<div class="comment" id="comment-60920">
<div class="comment-score" id="post-60920-score"></div>
<div class="comment-text"><p>Danke für die ausführliche Hilfe.</p>
<p>Ich werde deinen Rat befolgen, ich sehe das nun auch so. Die wichtigste Verbindung ist Arnbach-Lienz, da werde ich die alte Relation in die neue Überführen.</p>
<p>Wenn ich nun alle 7 Einzelrouten (hin und retour) erstellt habe, reicht es dann wenn ich sie in einer einzelnen "route_master" zusammenfasse? Oder muss ich pro Route eine route_master erstellen und folglich die 7 route_master als eigene Relation wieder zusammenfüge? ...ich werde einmal im Forum schmökern...</p>
<p>Jedenfalls super die ausführliche Erklärung, ich finde es echt toll solche Unterstützung zu bekommen.</p>
<p>DANKE nochmals :)</p></div>
<div class="comment-info" id="comment-60920-info">
<span class="comment-age">(01 Dec '17, 14:25)</span>
<a class="comment-user userinfo" href="/users/14267/-ckb-">-ckb-</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-60886">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-60886-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/60849/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="aXRUVetcafRgWpsXlgsjcR1Tf8N2kuwV"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>