<meta charset="utf-8"/><link href="../style.css" rel="stylesheet" type="text/css"/><div id="CALeft"><center><a href="../"><img id="ll" src="https://help.openstreetmap.org/upfiles/osm_help_logo_6.png"/></a></center>
<div class="headNormal">
<h1><a href="/questions/69349/routing-in-pedestrian-areas">Routing in pedestrian areas</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/69349/up/" id="post-69349-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-69349-score" title="current number of votes">
    1
</div>
<a class="ajax-command post-vote down" href="/vote/69349/down/" id="post-69349-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/69349/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>It seems that routing does not work on pedestrian areas, as I can see it in this place <a href="https://www.openstreetmap.org/directions?engine=fossgis_osrm_foot&amp;route=43.18409%2C-2.47186%3B43.18343%2C-2.47295#map=19/43.18349/-2.47138">https://www.openstreetmap.org/directions?engine=fossgis_osrm_foot&amp;route=43.18409%2C-2.47186%3B43.18343%2C-2.47295#map=19/43.18349/-2.47138</a> </p>
<p><img alt="Routing not working through pedestrian area" src="https://help.openstreetmap.org/upfiles/routing.png"/></p>
<p>So, how should we be tagging so that tracking works in these areas?</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-pedestrian" href="/tags/pedestrian/" rel="tag" title="see questions tagged 'pedestrian'">pedestrian</a>
<a class="post-tag tag-link-routing" href="/tags/routing/" rel="tag" title="see questions tagged 'routing'">routing</a>
<a class="post-tag tag-link-area" href="/tags/area/" rel="tag" title="see questions tagged 'area'">area</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>28 May '19, 13:12</strong>
</p>
<img alt="garaolaza's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/65427ff1b06518873c149787d6928a21?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/16714/garaolaza">garaolaza</a><br/>
<span class="score" title="26 reputation points">26</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">●</span><span class="badgecount">1</span></span><span title="3 badges"><span class="bronze">●</span><span class="badgecount">3</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="garaolaza has no accepted answers">0%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-69349">
</div>
<div class="comment-tools" id="comment-tools-69349">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-69349-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    3 Answers:
                    </div>
<div class="tabsA"><a href="/questions/69349/routing-in-pedestrian-areas?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/69349/routing-in-pedestrian-areas?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/69349/routing-in-pedestrian-areas?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/69349/routing-in-pedestrian-areas?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="69356"></a>
<div class="answer" id="answer-container-69356">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/69356/up/" id="post-69356-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-69356-score" title="current number of votes">
    3
</div>
<a class="ajax-command post-vote down" href="/vote/69356/down/" id="post-69356-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<blockquote>
<p>Note: Most pedestrian routing algorithms do not currently route (correctly) across area features, tending to route around the edge or not at all (especially in case of multipolygons). Do not alter your mapping to accommodate such routers. </p>
</blockquote>
<p>Source: <a href="https://wiki.openstreetmap.org/wiki/Key:area">https://wiki.openstreetmap.org/wiki/Key:area</a></p>
<p>So I think, we will need to wait routers to be fixed.
Have you consider creating issues on routers trackers?</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/69356/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>28 May '19, 22:16</strong>
</p>
<img alt="Binnette's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/4c64a7804404d4c69c2e57c24e438714?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/16706/binnette">Binnette</a><br/>
<span class="score" title="86 reputation points">86</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="2 badges"><span class="silver">●</span><span class="badgecount">2</span></span><span title="7 badges"><span class="bronze">●</span><span class="badgecount">7</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Binnette has no accepted answers">0%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-69356">
<a name="69359"></a>
<div class="comment" id="comment-69359">
<div class="comment-score" id="post-69359-score"></div>
<div class="comment-text"><p>There are issues already. It’s just a hard problem to solve (and one with comparatively little financial reward, so unlikely to be prioritised by paid developers).</p></div>
<div class="comment-info" id="comment-69359-info">
<span class="comment-age">(29 May '19, 09:40)</span>
<a class="comment-user userinfo" href="/users/5/richard">Richard ♦</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-69356">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-69356-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="69351"></a>
<div class="answer" id="answer-container-69351">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/69351/up/" id="post-69351-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-69351-score" title="current number of votes">
    2
</div>
<a class="ajax-command post-vote down" href="/vote/69351/down/" id="post-69351-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>Ideally the various routers should be able to route through an area. But, with what little I know of routing algorithms, this seems to be very hard to do and I am not aware of any router that uses OSM data that does this.</p>
<p>Some mappers figure that a map that actually works for people is preferable to one that doesn't and add "virtual footways" through the pedestrian area aligned with common or logical ways that people usually walk through the area. This allows existing routers to do the right thing. Or at least closer to the right thing than if it is only mapped as an area.</p>
<p>However other mappers are adamant that adding "virtual footways" is tagging for the renderer and should not be done.</p>
<p>Fortunately for me, there are very few pedestrian areas near me so I don't have to get too involved with either school of mapping and can just sit on the side and watch the arguments that haven't changed in the years I've been mapping.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/69351/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>28 May '19, 18:48</strong>
</p>
<img alt="n76's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/f60af53a4eba0c21f25c22674fb4a8cc?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/5918/n76">n76</a><br/>
<span class="score" title="10839 reputation points"><span class="">10.8k</span></span><span title="10 badges"><span class="badge1">●</span><span class="badgecount">10</span></span><span title="82 badges"><span class="silver">●</span><span class="badgecount">82</span></span><span title="172 badges"><span class="bronze">●</span><span class="badgecount">172</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="n76 has 48 accepted answers">17%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-69351">
<a name="69353"></a>
<div class="comment" id="comment-69353">
<div class="comment-score" id="post-69353-score">2</div>
<div class="comment-text"><p>I feel mapping "virtual footways" is ok as a temporary workaround for routers' shortcomings. However, using <em>the same tag</em> for "virtual footways" as for real footways is not, because doing so negatively affects correctly-written software. This is precisely what the rules against <a href="https://wiki.openstreetmap.org/wiki/Mapping_for_the_renderer">"mapping for the renderer"</a> intend to prevent. (The data would be indistinguishable from the case where there's actually a visibly different path crossing the plaza on the ground.)</p>
<p>It would be utterly trivial for routers which do not support routing across polygons to at least at support ways with some newly made-up tag like <code>routing_hint:highway=footway</code>, allowing the creation of virtual footways that do not interfere with other uses of the data.</p>
<p>(This comment is about actual plazas. There's also a separate problem where mappers incorrectly map pedestrianized streets as highway=pedestrian + area=yes despite being clearly linear.)</p></div>
<div class="comment-info" id="comment-69353-info">
<span class="comment-age">(28 May '19, 20:37)</span>
<a class="comment-user userinfo" href="/users/14/tordanik">Tordanik</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-69351">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-69351-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="75440"></a>
<div class="answer" id="answer-container-75440">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/75440/up/" id="post-75440-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-75440-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/75440/down/" id="post-75440-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>Open Trip Planner does area routing,</p>
<p>If you look at the guidelines they also list how to do area routing for other routing engines:</p>
<p><a href="https://wiki.openstreetmap.org/wiki/Guidelines_for_pedestrian_navigation">https://wiki.openstreetmap.org/wiki/Guidelines_for_pedestrian_navigation</a></p>
<p>As you see here it is quite okay to mark the main linear features of an area, while it won't yield as good an answer as an area router (unless you went mad and added all possible movements!)</p>
<p><a href="https://wiki.openstreetmap.org/wiki/File:Line_area_connection-EN.png">https://wiki.openstreetmap.org/wiki/File:Line_area_connection-EN.png</a></p>
<p>For the above example it would be quite okay to add a "F" shaped set of links within the area, while you shouldn't tag for the renderer it seems like the renders know not to render pedetrian ways within an area, that or it's invisible.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/75440/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>26 Jun '20, 17:48</strong>
</p>
<img alt="DevonshireBoy42's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/e4a3b88a2d65ba17d20b29c06c10f0d7?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/18595/devonshireboy42">DevonshireBoy42</a><br/>
<span class="score" title="10 reputation points">10</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">●</span><span class="badgecount">1</span></span><span title="3 badges"><span class="bronze">●</span><span class="badgecount">3</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="DevonshireBoy42 has no accepted answers">0%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-75440">
</div>
<div class="comment-tools" id="comment-tools-75440">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-75440-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/69349/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="1fkR9wKet3euYUkIdx9n3fp4OrQH1L5c"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>