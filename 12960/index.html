<meta charset="UTF-8"><link rel="stylesheet" type="text/css" href="../style.css"><div id="CALeft">
<div class="headNormal">
<h1><a href="/questions/12960/how-can-i-query-polyline-data-for-a-road">How can I query polyline data for a road?</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/12960/up/" id="post-12960-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-12960-score" title="current number of votes">
    3
</div>
<a class="ajax-command post-vote down" href="/vote/12960/down/" id="post-12960-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/12960/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
   1
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>I want to write a web app, which needs to know the exact path of a certain road, e.g. the german Autobahn A7.<br/>
The minimum requirement for the data is a list of locations, forming a polyline, which approximates the road with an accuracy of 10 - 15 meters.</p>
<p>Optionally extra data like junctions, exits, tunnels, bridges and road km would be fine. Altitude would be great.</p>
<p>So, the questions are:</p>
<ul>
<li>Is it possible? (It really should be)</li>
<li>which data source is preferable:</li>
<li><a href="http://xapi.openstreetmap.org/api/0.6/">http://xapi.openstreetmap.org/api/0.6/</a></li>
<li><a href="http://open.mapquestapi.com/xapi/api/0.6">http://open.mapquestapi.com/xapi/api/0.6</a></li>
<li><a href="http://nominatim.openstreetmap.org/">http://nominatim.openstreetmap.org/</a></li>
<li>others?</li>
</ul>
<p>What would the query look like?</p>
<p>Addition: it is not required that the data is queried live from the app - it would be perfectly ok that the query is done beforehand and formatted and stored in a database</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-polyline" href="/tags/polyline/" rel="tag" title="see questions tagged 'polyline'">polyline</a>
<a class="post-tag tag-link-road" href="/tags/road/" rel="tag" title="see questions tagged 'road'">road</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>25 May '12, 23:23</strong>
</p>
<img alt="Gisela's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/cc305f70bb760f8993f58be1d02be55d?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/3685/gisela">Gisela</a><br>
<span class="score" title="46 reputation points">46</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">●</span><span class="badgecount">1</span></span><span title="2 badges"><span class="bronze">●</span><span class="badgecount">2</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Gisela has no accepted answers">0%</span>
</br></p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/12960/">
                edited
                <strong>26 May '12, 00:17</strong>
</a>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-12960">
</div>
<div class="comment-tools" id="comment-tools-12960">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-12960-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    One Answer:
                    </div>
<div class="tabsA"><a href="/questions/12960/how-can-i-query-polyline-data-for-a-road?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/12960/how-can-i-query-polyline-data-for-a-road?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/12960/how-can-i-query-polyline-data-for-a-road?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/12960/how-can-i-query-polyline-data-for-a-road?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="12961"></a>
<div class="answer" id="answer-container-12961">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/12961/up/" id="post-12961-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-12961-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/12961/down/" id="post-12961-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>It is possible, but only if you set up a suitable server yourself. You will want to import data into a PostGIS database e.g. with imposm or osm2pgsql, and then write some code (e.g. in PHP or another scripting language) that lets the client request something and it replies with a geometry.</p>
<p>The existing services - most notably Overpass API but also the XAPI instances you mentioned - will be able to answer simple queries like "give me all objects have ref=A7 in this bounding box" or "give me all members of a route relation called ref=A7", and this might be sufficient to build a prototype, but you won't be able to build a proper application with that for a number of reasons:</p>
<ul>
<li>in some cases you might have to do different searches to find the object you want and it will be too time consuming to run all that from within the browser</li>
<li>since these services don't reply with a complete geometry but instead with a series of nodes and ways, you'll have to parse and process that in the browser which might be time consuming as well</li>
<li>especially if you are "zoomed out", these services will return the full, detailed geometry of the object having tens of thousands of nodes and consisting of many parts, when it would be much easier for you to have an assembled and simplified geometry</li>
<li>if your application has more than the occasional visitor, you might be unduly placing load on the volunteer-operated XAPI/Overpass services.</li>
</ul>
<p>In addition to what has already been discussed, there's also the routing engine at project-osrm.org which already has some neat features e.g. producing a simplified geometry, but with that engine you can only acces the fastest route between to points and not something arbitrary like "Autobahn x" or so.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/12961/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>25 May '12, 23:38</strong>
</p>
<img alt="Frederik%20Ramm's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/a2b38d937e70ab39d895d17da0dd1ba4?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/104/frederik-ramm">Frederik Ramm ♦</a><br/>
<span class="score" title="82494 reputation points"><span class="">82.5k</span></span><span title="92 badges"><span class="badge1">●</span><span class="badgecount">92</span></span><span title="720 badges"><span class="silver">●</span><span class="badgecount">720</span></span><span title="1273 badges"><span class="bronze">●</span><span class="badgecount">1273</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Frederik Ramm has 417 accepted answers">23%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-12961">
<a name="12963"></a>
<div class="comment" id="comment-12963">
<div class="comment-score" id="post-12963-score"></div>
<div class="comment-text"><p>Yes, my plan is to use a server which will provide the path data (forgot to mention that, I've updated my question)<br/>
The simplified geometry from project-osrm.org sounds promising, I will check this.</p>
<p>I just wonder: road information seems to me a very basic part of a project called OpenStreetMap; the information I want is very fundamental
for the map rendering and for navigation applications - so why it is a non trivial task to get this kind of data?</p>
<p>If I get it right, using the services mentioned I have to</p>
<ol>
<li>get information about the road, using a number of region searches, then</li>
<li>dig deeper, using the results of the first queries the get more information</li>
<li>filter out duplicate, and unnecessary data </li>
<li>assemble my own Autobahn Object, and store it in my database, suitable for a web page </li>
</ol>
<p>This is quite a bit.</p></div>
<div class="comment-info" id="comment-12963-info">
<span class="comment-age">(26 May '12, 00:17)</span>
<a class="comment-user userinfo" href="/users/3685/gisela">Gisela</a>
</div>
</div>
<a name="12965"></a>
<div class="comment" id="comment-12965">
<div class="comment-score" id="post-12965-score"></div>
<div class="comment-text"><p>The information you want is there in the database, but the database is not organised in a way that would easily serve your particular query. That's why you have to do this organising yourself. Everyone who does rendering or navigation will pre-process OSM data into the strucuture that best serves the use case. If you are interested in a "I think OSM should be offering X" type of discussion, then the talk mailinglist would be a good place for that.</p></div>
<div class="comment-info" id="comment-12965-info">
<span class="comment-age">(26 May '12, 00:58)</span>
<a class="comment-user userinfo" href="/users/104/frederik-ramm">Frederik Ramm ♦</a>
</div>
</div>
<a name="12966"></a>
<div class="comment" id="comment-12966">
<div class="comment-score" id="post-12966-score"></div>
<div class="comment-text"><p>Thank you for your answers and the insights, I know that I have to go deeper into the docs - and surely will (it's my first day here).</p></div>
<div class="comment-info" id="comment-12966-info">
<span class="comment-age">(26 May '12, 01:16)</span>
<a class="comment-user userinfo" href="/users/3685/gisela">Gisela</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-12961">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-12961-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/12960/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="8u0qcvIQkK7q408NjJjiIdg3POGOGATN"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>