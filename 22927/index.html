<meta charset="UTF-8"><link rel="stylesheet" type="text/css" href="../style.css"><div id="CALeft">
<div class="headNormal">
<h1><a href="/questions/22927/how-to-begin-routing-rail-lines">How to begin routing rail lines?</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/22927/up/" id="post-22927-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-22927-score" title="current number of votes">
    1
</div>
<a class="ajax-command post-vote down" href="/vote/22927/down/" id="post-22927-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/22927/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>I'd like to be able to plot routes between rail stations (non-commuter, primarily transportation lines).  However, I don't understand enough about the OpenStreetMap stack to know where to begin.  I've read that the rail lines are stored as GPX data, and that it's available in raw format to those who wish to do something with them.  So my questions are:</p>
<p>1.) Is it currently possible to route between rail stations on rail lines in OpenStreetMap without third party tools (I assume this is not the case).
2.) Is the rail line data available as GPX data, and if not, what format?
3.) Is there a well known or generally accepted way to route between rail stations, or is there a third party tool that uses/integrates with OpenStreetMap?</p>
<p>Thanks!</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-railway" href="/tags/railway/" rel="tag" title="see questions tagged 'railway'">railway</a>
<a class="post-tag tag-link-gpx" href="/tags/gpx/" rel="tag" title="see questions tagged 'gpx'">gpx</a>
<a class="post-tag tag-link-routing" href="/tags/routing/" rel="tag" title="see questions tagged 'routing'">routing</a>
<a class="post-tag tag-link-rails" href="/tags/rails/" rel="tag" title="see questions tagged 'rails'">rails</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>31 May '13, 16:57</strong>
</p>
<img alt="sparticus's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/bb5982f667c0ae8f60bc1b512363f33b?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/6539/sparticus">sparticus</a><br/>
<span class="score" title="16 reputation points">16</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="bronze">●</span><span class="badgecount">1</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="sparticus has no accepted answers">0%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-22927">
</div>
<div class="comment-tools" id="comment-tools-22927">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-22927-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    3 Answers:
                    </div>
<div class="tabsA"><a href="/questions/22927/how-to-begin-routing-rail-lines?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/22927/how-to-begin-routing-rail-lines?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/22927/how-to-begin-routing-rail-lines?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/22927/how-to-begin-routing-rail-lines?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="22930"></a>
<div class="answer" id="answer-container-22930">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/22930/up/" id="post-22930-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-22930-score" title="current number of votes">
    2
</div>
<a class="ajax-command post-vote down" href="/vote/22930/down/" id="post-22930-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>You could try creating a "railway" config for one of the existing osm routing engine like <a href="http://project-osrm.org/">OSRM</a>, but that doesn't deal with the train schedules, wether they're direct or omnibus, etc. If you use the train schedule data (which isn't something provided by OSM), you'd probably need an approach quite different from a routing engine.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/22930/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>31 May '13, 17:29</strong>
</p>
<img alt="Vincent%20de%20Phily's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/d20f86db9a6f03cb070e9fbaaf0b7228?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/867/vincent-de-phily">Vincent de P... ♦</a><br/>
<span class="score" title="17304 reputation points"><span class="">17.3k</span></span><span title="18 badges"><span class="badge1">●</span><span class="badgecount">18</span></span><span title="152 badges"><span class="silver">●</span><span class="badgecount">152</span></span><span title="249 badges"><span class="bronze">●</span><span class="badgecount">249</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Vincent de Phily has 64 accepted answers">19%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-22930">
<a name="22950"></a>
<div class="comment" id="comment-22950">
<div class="comment-score" id="post-22950-score"></div>
<div class="comment-text"><p>The OP's request for "non-commuter, primarily transportation lines" suggests that he's less interested in schedules, however.</p></div>
<div class="comment-info" id="comment-22950-info">
<span class="comment-age">(02 Jun '13, 08:54)</span>
<a class="comment-user userinfo" href="/users/5/richard">Richard ♦</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-22930">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-22930-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="22931"></a>
<div class="answer" id="answer-container-22931">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/22931/up/" id="post-22931-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-22931-score" title="current number of votes">
    2
</div>
<a class="ajax-command post-vote down" href="/vote/22931/down/" id="post-22931-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>OSM data is usually not in GPX format but in a <a href="http://wiki.openstreetmap.org/wiki/OSM_XML">own XML format</a>. You can <a href="http://wiki.openstreetmap.org/wiki/Downloading_data">downloaded OSM data in various ways</a>. It is also possible to download smaller <a href="http://wiki.openstreetmap.org/wiki/Planet.osm#Country_and_area_extracts">extracts</a> or only specific data using for example the <a href="http://wiki.openstreetmap.org/wiki/Overpass_API">Overpass API</a>. In your case you are interested in <a href="http://wiki.openstreetmap.org/wiki/Elements">elements</a> with <a href="http://wiki.openstreetmap.org/wiki/Railways">railroad related tags</a>, especially the <a href="http://wiki.openstreetmap.org/wiki/Key:railway">railway key</a>. For routing there a several <a href="http://wiki.openstreetmap.org/wiki/Routing">online and offline routers</a> available. You will have to modify them if you want to route on railways.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/22931/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>31 May '13, 19:10</strong>
</p>
<img alt="scai's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/52d3234f3be58156770e8a91d575bfbd?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/158/scai">scai ♦</a><br/>
<span class="score" title="33317 reputation points"><span class="">33.3k</span></span><span title="21 badges"><span class="badge1">●</span><span class="badgecount">21</span></span><span title="309 badges"><span class="silver">●</span><span class="badgecount">309</span></span><span title="459 badges"><span class="bronze">●</span><span class="badgecount">459</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="scai has 168 accepted answers">23%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-22931">
<a name="22948"></a>
<div class="comment" id="comment-22948">
<div class="comment-score" id="post-22948-score">2</div>
<div class="comment-text"><p>While quite a hack, it is possible to get by without modifying the routing engine - by modifying the data. Get an extract of all railway lines, and re-write the tags so that they look like roads, then feed them to a router.</p></div>
<div class="comment-info" id="comment-22948-info">
<span class="comment-age">(01 Jun '13, 23:41)</span>
<a class="comment-user userinfo" href="/users/104/frederik-ramm">Frederik Ramm ♦</a>
</div>
</div>
<a name="22991"></a>
<div class="comment" id="comment-22991">
<div class="comment-score" id="post-22991-score">1</div>
<div class="comment-text"><p>... with an extra turn restriction at every set of points (switches) I suspect :-)</p></div>
<div class="comment-info" id="comment-22991-info">
<span class="comment-age">(03 Jun '13, 17:18)</span>
<a class="comment-user userinfo" href="/users/3/andy-allan">Andy Allan</a>
</div>
</div>
<a name="22998"></a>
<div class="comment" id="comment-22998">
<div class="comment-score" id="post-22998-score">1</div>
<div class="comment-text"><p>To be honest, if you're using OSRM, it's easier to modify the routing engine - by supplying a new lua profile - than to hack the data. OSRM actively encourages you to do that. Andy's point about turn restrictions can be trivially achieved by modifying the turn_function to return very high penalties for turns over (say) 45°.</p></div>
<div class="comment-info" id="comment-22998-info">
<span class="comment-age">(03 Jun '13, 21:43)</span>
<a class="comment-user userinfo" href="/users/5/richard">Richard ♦</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-22931">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-22931-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="23004"></a>
<div class="answer" id="answer-container-23004">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/23004/up/" id="post-23004-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-23004-score" title="current number of votes">
    1
</div>
<a class="ajax-command post-vote down" href="/vote/23004/down/" id="post-23004-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>If you for instance look for tram line "1" in Vienna, you could get all the objects necessary to draw it via <a href="http://overpass-turbo.eu/s/ic">this overpass query</a>.</p>
<p>Is this what you are looking for?</p>
<p>/al</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/23004/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>04 Jun '13, 14:08</strong>
</p>
<img alt="_al's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/5501080a7333d6383d6c545f076eaeba?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/507/_al">_al</a><br/>
<span class="score" title="860 reputation points">860</span><span title="2 badges"><span class="badge1">●</span><span class="badgecount">2</span></span><span title="10 badges"><span class="silver">●</span><span class="badgecount">10</span></span><span title="18 badges"><span class="bronze">●</span><span class="badgecount">18</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="_al has one accepted answer">4%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-23004">
</div>
<div class="comment-tools" id="comment-tools-23004">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-23004-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/22927/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="RCKje8et5LsKt2GzBjsu1uIVC8hmZluQ"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>