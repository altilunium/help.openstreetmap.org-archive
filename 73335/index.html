<meta charset="UTF-8"><link rel="stylesheet" type="text/css" href="../style.css"><div id="CALeft">
<div class="headNormal">
<h1><a href="/questions/73335/overpass-api-get-city-names-by-zip-code">Overpass API: Get city names by zip code</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/73335/up/" id="post-73335-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-73335-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/73335/down/" id="post-73335-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/73335/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>Hello!</p>
<p>Is there a way to get all city names by zip codes?</p>
<p>Thanks in advance for your help.</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-openstreetmap" href="/tags/openstreetmap/" rel="tag" title="see questions tagged 'openstreetmap'">openstreetmap</a>
<a class="post-tag tag-link-overpass" href="/tags/overpass/" rel="tag" title="see questions tagged 'overpass'">overpass</a>
<a class="post-tag tag-link-germany" href="/tags/germany/" rel="tag" title="see questions tagged 'germany'">germany</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>03 Mar '20, 16:46</strong>
</p>
<img alt="vielhuber's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/4a1005d44d537160f06ec9789ac121f0?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/17985/vielhuber">vielhuber</a><br/>
<span class="score" title="11 reputation points">11</span><span title="2 badges"><span class="badge1">●</span><span class="badgecount">2</span></span><span title="2 badges"><span class="silver">●</span><span class="badgecount">2</span></span><span title="3 badges"><span class="bronze">●</span><span class="badgecount">3</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="vielhuber has no accepted answers">0%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/73335/">
                edited
                <strong>04 Mar '20, 15:16</strong>
</a>
</p>
<img alt="H_mlet's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/9434692e9afccaf03af5acf20b3a3279?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/13231/h_mlet">H_mlet</a><br/>
<span class="score" title="5443 reputation points"><span class="">5.4k</span></span><span title="17 badges"><span class="silver">●</span><span class="badgecount">17</span></span><span title="81 badges"><span class="bronze">●</span><span class="badgecount">81</span></span></p>
</div>
</div>
<div class="comments-container" id="comments-container-73335">
<a name="73337"></a>
<div class="comment" id="comment-73337">
<div class="comment-score" id="post-73337-score"></div>
<div class="comment-text"><p>Can you tell us more about what goal you're trying to reach? Do you have ZIP codes and you want to identify the city in which they're each located? Keep in mind that while some parts of the US may have more ZIP codes mapped, other parts might not have any.</p></div>
<div class="comment-info" id="comment-73337-info">
<span class="comment-age">(03 Mar '20, 20:58)</span>
<a class="comment-user userinfo" href="/users/8189/alester">alester</a>
</div>
</div>
<a name="73340"></a>
<div class="comment" id="comment-73340">
<div class="comment-score" id="post-73340-score"></div>
<div class="comment-text"><p>Hello! That's exactly the goal: Provice a single zip code and get all cities that have that zip code. I don't mind if the results may vary (in Germany, I think the results are quite good). 
From a query standpoint I thing I need: Get the area A for that zip code and get all areas of type city where area A is inside.</p></div>
<div class="comment-info" id="comment-73340-info">
<span class="comment-age">(03 Mar '20, 21:07)</span>
<a class="comment-user userinfo" href="/users/17985/vielhuber">vielhuber</a>
</div>
</div>
<a name="73341"></a>
<div class="comment" id="comment-73341">
<div class="comment-score" id="post-73341-score"></div>
<div class="comment-text"><p>You mean in the whole world ? Or find city names for a specific zip code ?</p>
<p>BTW <a href="https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service">Wikidata</a> might be a better source for this. See for example <a href="https://www.wikidata.org/wiki/Wikidata:Request_a_query/Archive/2020/02#Communes_de_France">this discussion</a>.</p></div>
<div class="comment-info" id="comment-73341-info">
<span class="comment-age">(03 Mar '20, 21:31)</span>
<a class="comment-user userinfo" href="/users/13231/h_mlet">H_mlet</a>
</div>
</div>
<a name="73342"></a>
<div class="comment" id="comment-73342">
<div class="comment-score" id="post-73342-score"></div>
<div class="comment-text"><p>I mean: "Find city names for a specific zip code". I would prefer openstreetmap with overpass.</p></div>
<div class="comment-info" id="comment-73342-info">
<span class="comment-age">(03 Mar '20, 21:46)</span>
<a class="comment-user userinfo" href="/users/17985/vielhuber">vielhuber</a>
</div>
</div>
<a name="73343"></a>
<div class="comment" id="comment-73343">
<div class="comment-score" id="post-73343-score"></div>
<div class="comment-text"><p>Sorry I did not refresh, so I did see the previous comments ! ;-) I'll try to answer.</p></div>
<div class="comment-info" id="comment-73343-info">
<span class="comment-age">(03 Mar '20, 21:53)</span>
<a class="comment-user userinfo" href="/users/13231/h_mlet">H_mlet</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-73335">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-73335-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    One Answer:
                    </div>
<div class="tabsA"><a href="/questions/73335/overpass-api-get-city-names-by-zip-code?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/73335/overpass-api-get-city-names-by-zip-code?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/73335/overpass-api-get-city-names-by-zip-code?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/73335/overpass-api-get-city-names-by-zip-code?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="73344"></a>
<div class="answer" id="answer-container-73344">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/73344/up/" id="post-73344-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-73344-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/73344/down/" id="post-73344-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>See this <a href="https://overpass-turbo.eu/s/Rh2">query</a>. </p>
<p>The tilde (~) is necessary because there are several postcodes for this city, separated by semicolons.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/73344/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>03 Mar '20, 21:57</strong>
</p>
<img alt="H_mlet's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/9434692e9afccaf03af5acf20b3a3279?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/13231/h_mlet">H_mlet</a><br/>
<span class="score" title="5443 reputation points"><span class="">5.4k</span></span><span title="17 badges"><span class="silver">●</span><span class="badgecount">17</span></span><span title="81 badges"><span class="bronze">●</span><span class="badgecount">81</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="H_mlet has 40 accepted answers">13%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-73344">
<a name="73346"></a>
<div class="comment" id="comment-73346">
<div class="comment-score" id="post-73346-score"></div>
<div class="comment-text"><p>Hello! Thanks for your answer. Unfortunately I get an empty result, tried several prominent zip codes from germany.</p></div>
<div class="comment-info" id="comment-73346-info">
<span class="comment-age">(03 Mar '20, 22:23)</span>
<a class="comment-user userinfo" href="/users/17985/vielhuber">vielhuber</a>
</div>
</div>
<a name="73352"></a>
<div class="comment" id="comment-73352">
<div class="comment-score" id="post-73352-score"></div>
<div class="comment-text"><p>it's normal that you get an empty result in Germany. The postal codes are not mapped on the city. They are mapped as separate boundaries.</p></div>
<div class="comment-info" id="comment-73352-info">
<span class="comment-age">(04 Mar '20, 04:06)</span>
<a class="comment-user userinfo" href="/users/5390/escada">escada</a>
</div>
</div>
<a name="73367"></a>
<div class="comment" id="comment-73367">
<div class="comment-score" id="post-73367-score"></div>
<div class="comment-text"><p>Sorry, I forgot that on some tricky points, standards vary widely. </p>
<p>You can use this <a href="http://overpass-turbo.eu/s/RiE">query</a>, to find the relation of a postcode, and in the note tag you have the name of the associated place (I guess, it's not documented anywhere).</p>
<p>With this <a href="http://overpass-turbo.eu/s/RiG">other query</a>, you'll get all the place nodes inside the postal code area. Trouble is I don't understand how a city is tagged in Germany. And anyway a place=city node will be only in one postal code area, leaving the others empty.</p>
<p>You could ask on the german forum for more localized help.</p>
<p>Regards.</p></div>
<div class="comment-info" id="comment-73367-info">
<span class="comment-age">(04 Mar '20, 15:15)</span>
<a class="comment-user userinfo" href="/users/13231/h_mlet">H_mlet</a>
</div>
</div>
<a name="73577"></a>
<div class="comment" id="comment-73577">
<div class="comment-score" id="post-73577-score"></div>
<div class="comment-text"><p>Hello H_mlet,</p>
<p>thanks for your help! This is very helpful and interesting.</p>
<p>The thing is:</p>
<p>Cities are big areas with postal code areas inside. I think this must be a complex query (because we can only go the other way around).</p>
<p>Is this even possible with overpass turbo?</p></div>
<div class="comment-info" id="comment-73577-info">
<span class="comment-age">(17 Mar '20, 14:22)</span>
<a class="comment-user userinfo" href="/users/17985/vielhuber">vielhuber</a>
</div>
</div>
<a name="73584"></a>
<div class="comment" id="comment-73584">
<div class="comment-score" id="post-73584-score"></div>
<div class="comment-text"><p>I think that you can use <a href="https://wiki.openstreetmap.org/wiki/Overpass_API/Overpass_QL#Query_for_areas_.28is_in.29">is_in</a>. If the cities have a admin_level and a name attributes, they should be included in the <a href="https://wiki.openstreetmap.org/wiki/Overpass_API/Areas">Area</a> definition of overpass.</p></div>
<div class="comment-info" id="comment-73584-info">
<span class="comment-age">(17 Mar '20, 17:34)</span>
<a class="comment-user userinfo" href="/users/13231/h_mlet">H_mlet</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-73344">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-73344-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/73335/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="T7rUjMFOADyjuhqTitN3sRTyy7JVVvkw"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>