<meta charset="UTF-8"><link rel="stylesheet" type="text/css" href="../style.css"><div id="CALeft">
<div class="headNormal">
<h1><a href="/questions/11774/why-wont-mapnik-render-any-tiles">Why won't Mapnik render any tiles?</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/11774/up/" id="post-11774-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-11774-score" title="current number of votes">
    1
</div>
<a class="ajax-command post-vote down" href="/vote/11774/down/" id="post-11774-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/11774/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
   1
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>I am using Ubuntu 11.10 32 bit. I have followed the instructions from <a href="http://switch2osm.org/serving-tiles/building-a-tile-server-from-packages/">here</a> but am not getting any tiles on the map (localhost/osm/slippymap.html) when I select "local tiles". It works properly when I select "Mapnik" (which gets the tiles from openstreetmap). Firebug shows multiple "NetworkError: 404 Not Found - <a href="http://localhost/osm/x/xxx/xxx.png">http://localhost/osm/x/xxx/xxx.png".</a> Indeed there are no tiles in var/lib/mod_tile. When I enter "localhost/mod_tile" I get 'NoResp' on everything. When I enter render_list -f -a I get "socket connect failed for: /tmp/osm-renderd". I think the import of .osm into PostgreSQL went properly; the messages returned looked like those described <a href="http://switch2osm.org/serving-tiles/manually-building-a-tile-server/">here</a> (under the Importing data into the database section) and I can see data in the database through pgAdmin. I set permissions on var/lib/mod_tile to 777. Is Mapnik not communicating with mod_tile?
Contents of etc/renderd.conf is:</p>
<p>[renderd]
stats_file=/var/run/renderd/renderd.stats
socketname=/var/run/renderd/renderd.sock
num_threads=4
tile_dir=/var/lib/mod_tile ; DOES NOT WORK YET
[mapnik]
plugins_dir=/usr/lib/mapnik/0.7/input
font_dir=/usr/share/fonts/truetype/ttf-dejavu
font_dir_recurse=false
[default]
URI=/osm/
XML=/etc/mapnik-osm-data/osm.xml
;HOST=tile.openstreetmap.org
;HTCPHOST=proxy.openstreetmap.org</p>
<p>I see that "DOES NOT WORK YET" but am unsure what, exactly, doesn't work since this tutorial says that one should have a working tileserver if everything goes OK.</p>
<p>Contents of /var/run/renderd/renderd.stats is '0' for everthing.</p>
<p>I'm totally new to mapping, new to PostgreSQL and fairly new to linux. Thanks for any help.</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-tiles" href="/tags/tiles/" rel="tag" title="see questions tagged 'tiles'">tiles</a>
<a class="post-tag tag-link-mapnik" href="/tags/mapnik/" rel="tag" title="see questions tagged 'mapnik'">mapnik</a>
<a class="post-tag tag-link-mod_tile" href="/tags/mod_tile/" rel="tag" title="see questions tagged 'mod_tile'">mod_tile</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>06 Apr '12, 16:32</strong>
</p>
<img alt="DavidLR's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/af8387f11be652a161c9771b36caf25b?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/3268/davidlr">DavidLR</a><br/>
<span class="score" title="71 reputation points">71</span><span title="2 badges"><span class="badge1">●</span><span class="badgecount">2</span></span><span title="2 badges"><span class="silver">●</span><span class="badgecount">2</span></span><span title="6 badges"><span class="bronze">●</span><span class="badgecount">6</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="DavidLR has no accepted answers">0%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-11774">
</div>
<div class="comment-tools" id="comment-tools-11774">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-11774-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    2 Answers:
                    </div>
<div class="tabsA"><a href="/questions/11774/why-wont-mapnik-render-any-tiles?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/11774/why-wont-mapnik-render-any-tiles?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/11774/why-wont-mapnik-render-any-tiles?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/11774/why-wont-mapnik-render-any-tiles?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="11851"></a>
<div class="answer answered-by-owner" id="answer-container-11851">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/11851/up/" id="post-11851-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-11851-score" title="current number of votes">
    2
</div>
<a class="ajax-command post-vote down" href="/vote/11851/down/" id="post-11851-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>In the end I re-installed Ubuntu 11.10, deleting everything from the previous install. Ran all Ubuntu updates, then ran the script, installed pgAdmin, set a password and granted superuser privileges to 'www-data', changed /etc/postgresql/9.1/main/pg_hba.conf to 'trust' on both 'local alls', ran osm2psql using www-data user and password, and I now generate my own tiles. 
This script works perfectly on a fresh install; one that's been used and abused, no. </p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/11851/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>09 Apr '12, 23:10</strong>
</p>
<img alt="DavidLR's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/af8387f11be652a161c9771b36caf25b?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/3268/davidlr">DavidLR</a><br/>
<span class="score" title="71 reputation points">71</span><span title="2 badges"><span class="badge1">●</span><span class="badgecount">2</span></span><span title="2 badges"><span class="silver">●</span><span class="badgecount">2</span></span><span title="6 badges"><span class="bronze">●</span><span class="badgecount">6</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="DavidLR has no accepted answers">0%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-11851">
<a name="20141"></a>
<div class="comment" id="comment-20141">
<div class="comment-score" id="post-20141-score"></div>
<div class="comment-text"><p>Hi David, please give us the commande lines that resolved your problem. Thank you</p></div>
<div class="comment-info" id="comment-20141-info">
<span class="comment-age">(22 Feb '13, 03:18)</span>
<a class="comment-user userinfo" href="/users/5560/yahya_romdhane">Yahya_Romdhane</a>
</div>
</div>
<a name="20143"></a>
<div class="comment" id="comment-20143">
<div class="comment-score" id="post-20143-score"></div>
<div class="comment-text"><p>Can you explain more precisely</p></div>
<div class="comment-info" id="comment-20143-info">
<span class="comment-age">(22 Feb '13, 04:57)</span>
<a class="comment-user userinfo" href="/users/5560/yahya_romdhane">Yahya_Romdhane</a>
</div>
</div>
<a name="20145"></a>
<div class="comment" id="comment-20145">
<div class="comment-score" id="post-20145-score"></div>
<div class="comment-text"><p>I have the same problem and I resolved itbut not perfectly because I still unable to display tiles from an other computer
Did you resolve this problem?</p></div>
<div class="comment-info" id="comment-20145-info">
<span class="comment-age">(22 Feb '13, 05:16)</span>
<a class="comment-user userinfo" href="/users/5560/yahya_romdhane">Yahya_Romdhane</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-11851">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-11851-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="11790"></a>
<div class="answer" id="answer-container-11790">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/11790/up/" id="post-11790-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-11790-score" title="current number of votes">
    1
</div>
<a class="ajax-command post-vote down" href="/vote/11790/down/" id="post-11790-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>I just had this exact problem.</p>
<p>I followed the step's 'ben' took in the following thread.</p>
<p><a href="http://www.bitchx.com/log/osm-o/osm-o-05-May-2010/osm-o-05-May-2010-02.php">http://www.bitchx.com/log/osm-o/osm-o-05-May-2010/osm-o-05-May-2010-02.php</a></p>
<p>to resolve my problems i ran 'renderd -f' and saw that it was failing on www-data not have accessing to the database. (I had used my own usernames etc.. when setting everything up).  I gave www-data ownership of the gis db, and now everything is running fine, and when I switch to local tiles, I have data!</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/11790/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>06 Apr '12, 23:41</strong>
</p>
<img alt="John%20Perrin's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/9ef4e665e6e82f6b5f08952ff8c69d23?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/3277/john-perrin">John Perrin</a><br/>
<span class="score" title="76 reputation points">76</span><span title="2 badges"><span class="badge1">●</span><span class="badgecount">2</span></span><span title="2 badges"><span class="silver">●</span><span class="badgecount">2</span></span><span title="7 badges"><span class="bronze">●</span><span class="badgecount">7</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="John Perrin has no accepted answers">0%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-11790">
<a name="11852"></a>
<div class="comment" id="comment-11852">
<div class="comment-score" id="post-11852-score"></div>
<div class="comment-text"><p>didn't work for me, but thanks. Also tried granting public all to each table, still, no good. I just re-installed everything.</p></div>
<div class="comment-info" id="comment-11852-info">
<span class="comment-age">(09 Apr '12, 23:16)</span>
<a class="comment-user userinfo" href="/users/3268/davidlr">DavidLR</a>
</div>
</div>
<a name="20144"></a>
<div class="comment" id="comment-20144">
<div class="comment-score" id="post-20144-score"></div>
<div class="comment-text"><p>Hi, I have the same problem and I resolved itbut not perfectly because I still unable to display tiles from an other computers.
Did you resolve this problem?</p></div>
<div class="comment-info" id="comment-20144-info">
<span class="comment-age">(22 Feb '13, 05:15)</span>
<a class="comment-user userinfo" href="/users/5560/yahya_romdhane">Yahya_Romdhane</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-11790">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-11790-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/11774/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="fWNLnWJk32nE3ArNUEkYeCj7MZWk58By"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>