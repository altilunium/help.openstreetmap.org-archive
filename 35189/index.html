<meta charset="utf-8"/><link href="../style.css" rel="stylesheet" type="text/css"/><div id="CALeft"><center><a href="../"><img id="ll" src="https://help.openstreetmap.org/upfiles/osm_help_logo_6.png"/></a></center>
<div class="headNormal">
<h1><a href="/questions/35189/appropriate-to-use-opening_hours-on-a-road-gate-or-trail">Appropriate to use opening_hours on a road, gate or trail?</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/35189/up/" id="post-35189-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-35189-score" title="current number of votes">
    2
</div>
<a class="ajax-command post-vote down" href="/vote/35189/down/" id="post-35189-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/35189/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>Not too far from where I live is a national park with several trails of various degrees of difficulty.  Some are designed as walking trails, and are quite easy.</p>
<p>I've noticed that when I play with some OSM-based navigation apps and ask for walking directions, they will sometimes route me along these park trails, which makes sense, because those happen to be the shortest route between point A and B in my test, and can definitely shave a mile or more from the distance someone would have to use to walk using only roads.  As they are part of a national park, the trails are open to everyone.  However, the problem is that the park (and therefore the park trails) are only open between dawn-30m and dusk+30m (that is, 30 minutes before dawn and 30 minutes after dusk), so any routing that takes place outside of those hours should NOT use those trails.  But of course, a nav app won't know this if it isn't in the map data.</p>
<p>In another case, there is a private road that provides a nice shortcut between two other roads in an area with several office buildings; it is part of the property of one office building in that area.  The building (and road) owner allows public traffic to use it most of the time, except during certain hours of the day, and closes a gate on the road to prevent through traffic during those periods.</p>
<p>So, with those time restrictions in mind, is it appropriate to put opening_hours on those trails and roads (and gate?)?  Of course it's still going to be up to the nav app to make proper use of the information.</p>
<p>I would think that the trails and road should have access=permissive on them at the very least.</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-opening_hours" href="/tags/opening_hours/" rel="tag" title="see questions tagged 'opening_hours'">opening_hours</a>
<a class="post-tag tag-link-gate" href="/tags/gate/" rel="tag" title="see questions tagged 'gate'">gate</a>
<a class="post-tag tag-link-permissive" href="/tags/permissive/" rel="tag" title="see questions tagged 'permissive'">permissive</a>
<a class="post-tag tag-link-road" href="/tags/road/" rel="tag" title="see questions tagged 'road'">road</a>
<a class="post-tag tag-link-trail" href="/tags/trail/" rel="tag" title="see questions tagged 'trail'">trail</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>25 Jul '14, 17:18</strong>
</p>
<img alt="Jack%20the%20Ripper's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/b95d3c8204ce3675edc226a8a55b7067?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/8675/jack-the-ripper">Jack the Ripper</a><br/>
<span class="score" title="280 reputation points">280</span><span title="5 badges"><span class="badge1">●</span><span class="badgecount">5</span></span><span title="7 badges"><span class="silver">●</span><span class="badgecount">7</span></span><span title="15 badges"><span class="bronze">●</span><span class="badgecount">15</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Jack the Ripper has one accepted answer">12%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-35189">
</div>
<div class="comment-tools" id="comment-tools-35189">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-35189-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    3 Answers:
                    </div>
<div class="tabsA"><a href="/questions/35189/appropriate-to-use-opening_hours-on-a-road-gate-or-trail?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/35189/appropriate-to-use-opening_hours-on-a-road-gate-or-trail?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/35189/appropriate-to-use-opening_hours-on-a-road-gate-or-trail?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/35189/appropriate-to-use-opening_hours-on-a-road-gate-or-trail?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="35191"></a>
<div class="answer accepted-answer" id="answer-container-35191">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/35191/up/" id="post-35191-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-35191-score" title="current number of votes">
    3
</div>
<a class="ajax-command post-vote down" href="/vote/35191/down/" id="post-35191-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="accept-answer on" href="/accept_answer/35191/" rel="nofollow" title="Jack the Ripper has selected this answer as the correct answer">
</a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>Personally, I'd put opening_hours on anything that has opening hours.  As you say in the question, many/most nav apps won't honour the tag, but it's there for when / if they do.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/35191/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>25 Jul '14, 17:45</strong>
</p>
<img alt="SomeoneElse's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/0bf1aa22f7f5e045b0eb8beb79fe7907?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/387/someoneelse">SomeoneElse ♦</a><br/>
<span class="score" title="36866 reputation points"><span class="">36.9k</span></span><span title="71 badges"><span class="badge1">●</span><span class="badgecount">71</span></span><span title="370 badges"><span class="silver">●</span><span class="badgecount">370</span></span><span title="866 badges"><span class="bronze">●</span><span class="badgecount">866</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="SomeoneElse has 228 accepted answers">16%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-35191">
<a name="35197"></a>
<div class="comment" id="comment-35197">
<div class="comment-score" id="post-35197-score"></div>
<div class="comment-text"><p>I'll go with that, then.  Thanks.  It's always nice to get feedback from someone else.</p></div>
<div class="comment-info" id="comment-35197-info">
<span class="comment-age">(25 Jul '14, 22:44)</span>
<a class="comment-user userinfo" href="/users/8675/jack-the-ripper">Jack the Ripper</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-35191">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-35191-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="35199"></a>
<div class="answer" id="answer-container-35199">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/35199/up/" id="post-35199-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-35199-score" title="current number of votes">
    5
</div>
<a class="ajax-command post-vote down" href="/vote/35199/down/" id="post-35199-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>I think that you should not use opening hours for trails. We have the community-approved <a href="http://wiki.openstreetmap.org/wiki/Conditional_restrictions">"conditional restrictions"</a> for that.</p>
<p>It's almost the same as opening hours. But instead of</p>
<pre><code>opening_hours = [your opening hours]
</code></pre>
<p>you would write</p>
<pre><code>access = no     &lt;- what happens outside the opening hours
access:conditional = permissive @ ([your opening hours])
</code></pre>
<p>It may be a bit more complex, but on the other hand it is a lot more flexible. For example, you can also express time-dependent maxspeeds with it, or situations when only certain vehicle classes are excluded during that time.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/35199/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>25 Jul '14, 23:06</strong>
</p>
<img alt="Tordanik's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/0626be5f46f32fce501353e8a5ec399c?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/14/tordanik">Tordanik</a><br/>
<span class="score" title="11998 reputation points"><span class="">12.0k</span></span><span title="15 badges"><span class="badge1">●</span><span class="badgecount">15</span></span><span title="106 badges"><span class="silver">●</span><span class="badgecount">106</span></span><span title="147 badges"><span class="bronze">●</span><span class="badgecount">147</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Tordanik has 58 accepted answers">35%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/35199/">
                edited
                <strong>15 Oct '16, 18:57</strong>
</a>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-35199">
<a name="35201"></a>
<div class="comment" id="comment-35201">
<div class="comment-score" id="post-35201-score"></div>
<div class="comment-text"><p>Hmm, good point.  Thanks for the feedback.</p></div>
<div class="comment-info" id="comment-35201-info">
<span class="comment-age">(25 Jul '14, 23:10)</span>
<a class="comment-user userinfo" href="/users/8675/jack-the-ripper">Jack the Ripper</a>
</div>
</div>
<a name="35203"></a>
<div class="comment" id="comment-35203">
<div class="comment-score" id="post-35203-score">4</div>
<div class="comment-text"><p>Two points:</p>
<ul>
<li>Most tools will most likely never use <code>opening_hours</code> nor <code>access:conditional</code>.</li>
<li>There will be more routing request done for daylight foot travel, than for nighttime foot travel.</li>
</ul>
<p>If you use the tagging with a default access of no, the above two points will lead to a lot of bad routing advice. So you should switch permissive and no.</p>
<pre><code>access = permissive
access:conditional = no @ ([your closed hours])
</code></pre></div>
<div class="comment-info" id="comment-35203-info">
<span class="comment-age">(25 Jul '14, 23:44)</span>
<a class="comment-user userinfo" href="/users/2933/cartinus">cartinus</a>
</div>
</div>
<a name="35204"></a>
<div class="comment" id="comment-35204">
<div class="comment-score" id="post-35204-score">3</div>
<div class="comment-text"><p><a href="/users/2933/cartinus">@cartinus</a> You are right that you should choose the default based on which makes more sense for applications that don't support time-based restrictions. Don't forget to invert the opening hours in that case, though.</p>
<p>I'm not so sure about your first point. But time will tell.</p></div>
<div class="comment-info" id="comment-35204-info">
<span class="comment-age">(25 Jul '14, 23:52)</span>
<a class="comment-user userinfo" href="/users/14/tordanik">Tordanik</a>
</div>
</div>
<a name="52569"></a>
<div class="comment" id="comment-52569">
<div class="comment-score" id="post-52569-score">3</div>
<div class="comment-text"><p>Time-based restrictions are hard to integrate into any router that preprocesses its data using Contraction Hierarchies, which includes OSRM and optionally Graphhopper. Effectively you need to prepare a new dataset for each time of day, and given that this can take many hours, it's not feasible in many circumstances. OSRM does have a new feature that can assist in this though at the cost of query time.</p></div>
<div class="comment-info" id="comment-52569-info">
<span class="comment-age">(17 Oct '16, 11:08)</span>
<a class="comment-user userinfo" href="/users/5/richard">Richard ♦</a>
</div>
</div>
<a name="63373"></a>
<div class="comment" id="comment-63373">
<div class="comment-score" id="post-63373-score"></div>
<div class="comment-text"><p><a href="https://help.openstreetmap.org/users/5/richard">@richard</a> could you elaborate on this new OSRM feature you mentioned? I am having a hard time trying to route vehicles in city areas with time restrictions.</p></div>
<div class="comment-info" id="comment-63373-info">
<span class="comment-age">(07 May '18, 21:13)</span>
<a class="comment-user userinfo" href="/users/15093/cfragni">cfragni</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-35199">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-35199-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="52544"></a>
<div class="answer" id="answer-container-52544">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/52544/up/" id="post-52544-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-52544-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/52544/down/" id="post-52544-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>There is a gate across a heavily travelled road, which is opened only for evening traffic. It seems strange to me that this information cannot be captured and used. I put it as an opening_hours tag, even though I suspect routing programs will ignore it.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/52544/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>14 Oct '16, 01:32</strong>
</p>
<img alt="mtc's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/cb68523a12e3580728c6bee495ae602e?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/12686/mtc">mtc</a><br/>
<span class="score" title="411 reputation points">411</span><span title="20 badges"><span class="badge1">●</span><span class="badgecount">20</span></span><span title="22 badges"><span class="silver">●</span><span class="badgecount">22</span></span><span title="29 badges"><span class="bronze">●</span><span class="badgecount">29</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="mtc has no accepted answers">0%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/52544/">
                edited
                <strong>14 Oct '16, 01:33</strong>
</a>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-52544">
<a name="52559"></a>
<div class="comment" id="comment-52559">
<div class="comment-score" id="post-52559-score">1</div>
<div class="comment-text"><p>It can be captured, see the conditional restrictions tagging (which has been approved by community vote, so it's as "official" as it gets in OSM).</p>
<p>The reason why routers have trouble supporting it is because the most common algorithms assume that a road is either accessible or not. That taking too long to reach a road might make it inaccessible (or vice versa) makes things more complex and prevents certain performance optimizations from being used.</p></div>
<div class="comment-info" id="comment-52559-info">
<span class="comment-age">(15 Oct '16, 18:56)</span>
<a class="comment-user userinfo" href="/users/14/tordanik">Tordanik</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-52544">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-52544-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/35189/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="wACFbHgSV6idwwiIMNwfgI43Ci9v9hHJ"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>