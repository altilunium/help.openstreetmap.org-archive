<meta charset="utf-8"/><link href="../style.css" rel="stylesheet" type="text/css"/><div id="CALeft"><center><a href="../"><img id="ll" src="https://help.openstreetmap.org/upfiles/osm_help_logo_6.png"/></a></center>
<div class="headNormal">
<h1><a href="/questions/66995/how-do-i-clear-the-image-cache-in-josm">How do I clear the image cache in JOSM</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/66995/up/" id="post-66995-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-66995-score" title="current number of votes">
    1
</div>
<a class="ajax-command post-vote down" href="/vote/66995/down/" id="post-66995-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/66995/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>Is there a simple method to clear the imagery cache in JOSM?</p>
<p>When I go to download an area near where I'm mapping, boundaries of the Kodiak NWR I replaced two weeks ago still show unless I zoom in very close. Presumably, the data is stored somewhere and takes a while (a long while?) to update on JOSM's internal slippy map.</p>
<p>Cheers,</p>
<p>Dave</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-josm" href="/tags/josm/" rel="tag" title="see questions tagged 'josm'">josm</a>
<a class="post-tag tag-link-clear" href="/tags/clear/" rel="tag" title="see questions tagged 'clear'">clear</a>
<a class="post-tag tag-link-image_cache" href="/tags/image_cache/" rel="tag" title="see questions tagged 'image_cache'">image_cache</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>30 Nov '18, 06:01</strong>
</p>
<img alt="AlaskaDave's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/04dddf6f5ffde333747d385af3ce5829?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/5016/alaskadave">AlaskaDave</a><br/>
<span class="score" title="5415 reputation points"><span class="">5.4k</span></span><span title="76 badges"><span class="badge1">●</span><span class="badgecount">76</span></span><span title="107 badges"><span class="silver">●</span><span class="badgecount">107</span></span><span title="164 badges"><span class="bronze">●</span><span class="badgecount">164</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="AlaskaDave has 17 accepted answers">16%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/66995/">
                edited
                <strong>30 Nov '18, 06:02</strong>
</a>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-66995">
</div>
<div class="comment-tools" id="comment-tools-66995">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-66995-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    One Answer:
                    </div>
<div class="tabsA"><a href="/questions/66995/how-do-i-clear-the-image-cache-in-josm?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/66995/how-do-i-clear-the-image-cache-in-josm?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/66995/how-do-i-clear-the-image-cache-in-josm?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/66995/how-do-i-clear-the-image-cache-in-josm?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="66998"></a>
<div class="answer" id="answer-container-66998">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/66998/up/" id="post-66998-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-66998-score" title="current number of votes">
    1
</div>
<a class="ajax-command post-vote down" href="/vote/66998/down/" id="post-66998-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>Go to JOSM's imagery preferences, go to the <a href="https://josm.openstreetmap.de/wiki/Help/Preferences/Imagery#Cachecontents">"Cache contents"</a> tab, and use the "Clear" button in the relevant line. </p>
<p>The tiles for the JOSM download dialog window can be deleted by using the "delete" button in <a href="https://josm.openstreetmap.de/ticket/17054">the "<em>Mapnik</em>"</a> line (needs restarting afterwards).  <br/>
Technical details (and the hard way of deletion): The tiles are saved in  <code>~/.cache/JOSM/tiles</code>. For me exactly in the files <code>TMS_BLOCK_v2.data</code> and <code>TMS_BLOCK_v2.key</code> (stored with the key "Mapnik" if I see correctly). Deletion of the whole directory or just both files results in JOSM downloading the tiles when opening the download dialog.</p>
<p>Tested with version 14460 on Linux. For cache paths of other operating systems see <a href="https://josm.openstreetmap.de/wiki/Help/Preferences#JOSMpreferencedatacachedirectories">JOSM help</a>.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/66998/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>30 Nov '18, 06:55</strong>
</p>
<img alt="aseerel4c26's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/66f0dc05b44574e3894be07b0b37cf37?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/5179/aseerel4c26">aseerel4c26 ♦</a><br/>
<span class="score" title="32615 reputation points"><span class="">32.6k</span></span><span title="18 badges"><span class="badge1">●</span><span class="badgecount">18</span></span><span title="248 badges"><span class="silver">●</span><span class="badgecount">248</span></span><span title="554 badges"><span class="bronze">●</span><span class="badgecount">554</span></span><br>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="aseerel4c26 has 169 accepted answers">18%</span>
</br></p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/66998/">
                edited
                <strong>01 Dec '18, 10:33</strong>
</a>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-66998">
<a name="67004"></a>
<div class="comment" id="comment-67004">
<div class="comment-score" id="post-67004-score">1</div>
<div class="comment-text"><p>I cleared all imagery caches and restarted JOSM but that did not do it. By the way, the caches are named for the imagery source. Hence, there are Clear buttons for DigitalGlobe-Premium, DigitalGlobe-standard, USGS Topo, etc.  </p>
<p>It's the slippy map that displays the outdated information, not the display inside the editor window. I guess we need to find a way to clear that.</p></div>
<div class="comment-info" id="comment-67004-info">
<span class="comment-age">(30 Nov '18, 13:07)</span>
<a class="comment-user userinfo" href="/users/5016/alaskadave">AlaskaDave</a>
</div>
</div>
<a name="67018"></a>
<div class="comment" id="comment-67018">
<div class="comment-score" id="post-67018-score"></div>
<div class="comment-text"><p><a href="https://help.openstreetmap.org/users/5016/alaskadave"></a><a href="https://help.openstreetmap.org/users/5016/alaskadave">@AlaskaDave</a>, oh, I interpreted "Kodiak NWR" to be a imagery name, sorry. Have updated my answer.</p>
<p>So, which imagery are you downloading? Or do you mean the imagery in the JOSM Download area selection dialog? This one is apparently independent from the "OpenStreetMap Carto (Standard)" background imagery layer. Whyever... I have updated my answer. Does it work for you?</p></div>
<div class="comment-info" id="comment-67018-info">
<span class="comment-age">(30 Nov '18, 21:10)</span>
<a class="comment-user userinfo" href="/users/5179/aseerel4c26">aseerel4c26 ♦</a>
</div>
</div>
<a name="67020"></a>
<div class="comment" id="comment-67020">
<div class="comment-score" id="post-67020-score"></div>
<div class="comment-text"><p>Let me explain. I added the Kodiak National Wildlife Refuge to OSM piece by piece (it's a huge refuge) over a period of two or three weeks. The original small piece still shows up at low zoom in the JOSM Download area window even though the refuge is now complete. I know it takes a while for the rendering on the slippy map to catch up with reality but two weeks seemed an awfully long time. I was looking for a way to speed that process up. I thought perhaps there was a way to force it by deleting any cached imagery. </p>
<p>I deleted the Mapnik cache along with the other image caches and restarted during my first try at this. It had no effect. I might try deleting the images in the cache but this isn't a big deal. Maybe I'll just have to be patient.</p>
<p>Dave</p>
<p>(I'm also running the latest JOSM - v14460 on Windows 10)</p></div>
<div class="comment-info" id="comment-67020-info">
<span class="comment-age">(01 Dec '18, 01:49)</span>
<a class="comment-user userinfo" href="/users/5016/alaskadave">AlaskaDave</a>
</div>
</div>
<a name="67022"></a>
<div class="comment" id="comment-67022">
<div class="comment-score" id="post-67022-score"></div>
<div class="comment-text"><p><a href="https://help.openstreetmap.org/users/5016/alaskadave">@AlaskaDave</a>: hmm, well, is the Kodiak NWR shown in your updated version in your browser? If not then probably the rendering is just not yet updated. Note that lower zoom levels will take longer to update.</p>
<p>For a better understanding you may want to start JOSM from command line, then you see JOSM logging network requests (tile downloads) in the command line window.</p></div>
<div class="comment-info" id="comment-67022-info">
<span class="comment-age">(01 Dec '18, 09:06)</span>
<a class="comment-user userinfo" href="/users/5179/aseerel4c26">aseerel4c26 ♦</a>
</div>
</div>
<a name="67023"></a>
<div class="comment" id="comment-67023">
<div class="comment-score" id="post-67023-score"></div>
<div class="comment-text"><p>No problem. I'll just wait. It took several weeks for the Download window to show a state park I added. </p>
<p>Thanks for your help.</p></div>
<div class="comment-info" id="comment-67023-info">
<span class="comment-age">(01 Dec '18, 10:18)</span>
<a class="comment-user userinfo" href="/users/5016/alaskadave">AlaskaDave</a>
</div>
</div>
<a name="67026"></a>
<div class="comment not_top_scorer" id="comment-67026">
<div class="comment-score" id="post-67026-score"></div>
<div class="comment-text"><p>At the moment, rendering at z13 and higher shouldn't be delayed except when the style has been refreshed. It seems here something got stuck.</p>
<p>You can ask the server to generate a new tile, by visiting, for example, <a href="https://a.tile.openstreetmap.org/9/36/156.png/dirty">https://a.tile.openstreetmap.org/9/36/156.png/dirty</a> which is just a nearby tile url with <code>/dirty</code> appended. Doing that for several zoom levels has things looking a bit better, but there are still some zooms that aren't updated.</p></div>
<div class="comment-info" id="comment-67026-info">
<span class="comment-age">(01 Dec '18, 13:35)</span>
<a class="comment-user userinfo" href="/users/10973/maxerickson">maxerickson</a>
</div>
</div>
<a name="67036"></a>
<div class="comment not_top_scorer" id="comment-67036">
<div class="comment-score" id="post-67036-score"></div>
<div class="comment-text"><p><a href="https://help.openstreetmap.org/users/10973/maxerickson">@maxerickson</a>,</p>
<p>Thank you. I might try that in the future but I think I'll just wait it out. I've moved on to other projects now.</p></div>
<div class="comment-info" id="comment-67036-info">
<span class="comment-age">(02 Dec '18, 10:18)</span>
<a class="comment-user userinfo" href="/users/5016/alaskadave">AlaskaDave</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-66998">
<span class="comments-showing">
            showing 5 of 7
        </span>
<a class="show-all-comments-link" href="#">show 2 more comments</a>
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-66998-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/66995/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="jA0UZuQP38C2RX7BZiFIsVB6yl4T87Pt"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>