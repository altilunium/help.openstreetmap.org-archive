<meta charset="UTF-8"><link rel="stylesheet" type="text/css" href="../style.css"><div id="CALeft">
<div class="headNormal">
<h1><a href="/questions/11460/problem-with-routing">problem with routing</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/11460/up/" id="post-11460-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-11460-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/11460/down/" id="post-11460-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/11460/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>Hello,</p>
<p>I added a new road to openstreet map, i selected a small area with few roads and i exported the .osm file to computer.Than I converted .osm file to .img using mkgmap and send it to my gps (garmin nuvi 40 lm) with mapsource. When i try to navigate to a place on the new street that I<code>ve added, gps its going off-road directly to that place. What I did wrong?! I</code>ve atached a picture. Thank you<img alt="alt text" src="http://help.openstreetmap.org/upfiles/osm.JPG"/></p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-garmin" href="/tags/garmin/" rel="tag" title="see questions tagged 'garmin'">garmin</a>
<a class="post-tag tag-link-osm" href="/tags/osm/" rel="tag" title="see questions tagged 'osm'">osm</a>
<a class="post-tag tag-link-routing" href="/tags/routing/" rel="tag" title="see questions tagged 'routing'">routing</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>23 Mar '12, 07:45</strong>
</p>
<img alt="stege's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/9c3210264f415561adcb8484f7d7836f?s=32&amp;d=identicon&amp;r=g" width="32">
<p><a href="/users/3158/stege">stege</a><br/>
<span class="score" title="11 reputation points">11</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">●</span><span class="badgecount">1</span></span><span title="2 badges"><span class="bronze">●</span><span class="badgecount">2</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="stege has no accepted answers">0%</span>
</p>
</img></div>
</div>
<div class="comments-container" id="comments-container-11460">
<a name="11461"></a>
<div class="comment" id="comment-11461">
<div class="comment-score" id="post-11461-score"></div>
<div class="comment-text"><p>Maybe your navi lets you choose between on-road and off-road navigation? Did you check your settings? Make sure, that on-road navigation is switched on.</p></div>
<div class="comment-info" id="comment-11461-info">
<span class="comment-age">(23 Mar '12, 07:53)</span>
<a class="comment-user userinfo" href="/users/1933/moszkva-ter">moszkva ter</a>
</div>
</div>
<a name="11462"></a>
<div class="comment" id="comment-11462">
<div class="comment-score" id="post-11462-score"></div>
<div class="comment-text"><p>is switced on</p></div>
<div class="comment-info" id="comment-11462-info">
<span class="comment-age">(23 Mar '12, 08:09)</span>
<a class="comment-user userinfo" href="/users/3158/stege">stege</a>
</div>
</div>
<a name="11465"></a>
<div class="comment" id="comment-11465">
<div class="comment-score" id="post-11465-score"></div>
<div class="comment-text"><p>That's <a href="http://www.openstreetmap.org/?lat=47.64246&amp;lon=26.16458&amp;zoom=16&amp;layers=M">here</a> I presume?  Could you post the command line that you used to run mkgmap with?</p></div>
<div class="comment-info" id="comment-11465-info">
<span class="comment-age">(23 Mar '12, 10:18)</span>
<a class="comment-user userinfo" href="/users/387/someoneelse">SomeoneElse ♦</a>
</div>
</div>
<a name="11468"></a>
<div class="comment" id="comment-11468">
<div class="comment-score" id="post-11468-score"></div>
<div class="comment-text"><p>I used  java -jar mkgmap.jar data.osm</p></div>
<div class="comment-info" id="comment-11468-info">
<span class="comment-age">(23 Mar '12, 11:39)</span>
<a class="comment-user userinfo" href="/users/3158/stege">stege</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-11460">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-11460-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    2 Answers:
                    </div>
<div class="tabsA"><a href="/questions/11460/problem-with-routing?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/11460/problem-with-routing?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/11460/problem-with-routing?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/11460/problem-with-routing?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="11470"></a>
<div class="answer" id="answer-container-11470">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/11470/up/" id="post-11470-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-11470-score" title="current number of votes">
    3
</div>
<a class="ajax-command post-vote down" href="/vote/11470/down/" id="post-11470-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>You'll need, at the very least, to build a routable map.  If you look at <a href="http://wiki.openstreetmap.org/wiki/Mkgmap/routing">this page</a> you'll see that the example given is as follows:</p>
<pre><code>java -jar mkgmap.jar --route --remove-short-arcs *.osm.gz
</code></pre>
<p>You're not passing "--route", so it's not building a routable map, and instead your Garmin is probably routing over the Garmin basemap.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/11470/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>23 Mar '12, 12:27</strong>
</p>
<img alt="SomeoneElse's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/0bf1aa22f7f5e045b0eb8beb79fe7907?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/387/someoneelse">SomeoneElse ♦</a><br/>
<span class="score" title="36866 reputation points"><span class="">36.9k</span></span><span title="71 badges"><span class="badge1">●</span><span class="badgecount">71</span></span><span title="370 badges"><span class="silver">●</span><span class="badgecount">370</span></span><span title="866 badges"><span class="bronze">●</span><span class="badgecount">866</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="SomeoneElse has 228 accepted answers">16%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-11470">
<a name="11471"></a>
<div class="comment" id="comment-11471">
<div class="comment-score" id="post-11471-score"></div>
<div class="comment-text"><p>I tried  *</p>
<blockquote>
<p>java -jar mkgmap.jar --route --remove-short-arcs <em>.osm.gz</em></p>
</blockquote>
<p>and it says could not open data.osm.gz file. I have just data.osm in mkgmap folder, nothhing about *.osm.gz</p></div>
<div class="comment-info" id="comment-11471-info">
<span class="comment-age">(23 Mar '12, 12:56)</span>
<a class="comment-user userinfo" href="/users/3158/stege">stege</a>
</div>
</div>
<a name="11473"></a>
<div class="comment" id="comment-11473">
<div class="comment-score" id="post-11473-score"></div>
<div class="comment-text"><p>Just use your data.osm file, so:</p>
<pre><code>java -jar mkgmap.jar --route --remove-short-arcs data.osm
</code></pre></div>
<div class="comment-info" id="comment-11473-info">
<span class="comment-age">(23 Mar '12, 13:13)</span>
<a class="comment-user userinfo" href="/users/387/someoneelse">SomeoneElse ♦</a>
</div>
</div>
<a name="11474"></a>
<div class="comment" id="comment-11474">
<div class="comment-score" id="post-11474-score"></div>
<div class="comment-text"><p>it`s working now!!! Thanks a lot!</p></div>
<div class="comment-info" id="comment-11474-info">
<span class="comment-age">(23 Mar '12, 13:26)</span>
<a class="comment-user userinfo" href="/users/3158/stege">stege</a>
</div>
</div>
<a name="11479"></a>
<div class="comment" id="comment-11479">
<div class="comment-score" id="post-11479-score"></div>
<div class="comment-text"><p>Pleased you have the solution stege.Please tic SomeoneEsle's answer,to indicate that it is the best answer, I know this is not obvious but you know now and hopefully a few others will to. Ideally each questions will have a green tic answer. It took me a while for me to learn this! Thanks</p></div>
<div class="comment-info" id="comment-11479-info">
<span class="comment-age">(23 Mar '12, 18:02)</span>
<a class="comment-user userinfo" href="/users/644/andy-mackey">andy mackey</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-11470">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-11470-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="11467"></a>
<div class="answer" id="answer-container-11467">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/11467/up/" id="post-11467-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-11467-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/11467/down/" id="post-11467-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>Procedure seems fine, except that I wonder why you only added the road to your own copy of the data, and not the main osm db ?</p>
<p>It seems unlikely that your Nüvi would be able to route on some roads but not others. Check that</p>
<ul>
<li>The road you added is tagged apropriately (at least a highway tag)</li>
<li>Your export does contain the new road (how did you export without saving to the main osm db ? With JOSM ?)</li>
<li>The road is visible (if not routeable) on the device</li>
</ul>
<p>If the problem is with the generation of the .img, your command-line and perhaps mkgmap version is needed to see whatever you may have done wrong.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/11467/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>23 Mar '12, 10:57</strong>
</p>
<img alt="Vincent%20de%20Phily's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/d20f86db9a6f03cb070e9fbaaf0b7228?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/867/vincent-de-phily">Vincent de P... ♦</a><br/>
<span class="score" title="17304 reputation points"><span class="">17.3k</span></span><span title="18 badges"><span class="badge1">●</span><span class="badgecount">18</span></span><span title="152 badges"><span class="silver">●</span><span class="badgecount">152</span></span><span title="249 badges"><span class="bronze">●</span><span class="badgecount">249</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Vincent de Phily has 64 accepted answers">19%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-11467">
<a name="11469"></a>
<div class="comment" id="comment-11469">
<div class="comment-score" id="post-11469-score"></div>
<div class="comment-text"><p>I modified road in Potlatch and I saved. I exported .osm file from browser and I used mkgmap-r2248 to generate .img file</p></div>
<div class="comment-info" id="comment-11469-info">
<span class="comment-age">(23 Mar '12, 11:52)</span>
<a class="comment-user userinfo" href="/users/3158/stege">stege</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-11467">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-11467-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/11460/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="YbMby8sezdH4RgxCo88EAEVRzDGzBkkP"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>