<meta charset="UTF-8"><link rel="stylesheet" type="text/css" href="../style.css"><div id="CALeft">
<div class="headNormal">
<h1><a href="/questions/65004/getting-hospitals-near-gps-coordinates-via-nominatim-is-returning-unexpected-results">Getting hospitals near GPS coordinates via Nominatim is returning unexpected results</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/65004/up/" id="post-65004-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-65004-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/65004/down/" id="post-65004-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/65004/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>I've constructed the following query, I want to get "hospitals" which is a special phrase according to this link</p>
<p><a href="https://wiki.openstreetmap.org/wiki/Nominatim/Special_Phrases/EN">https://wiki.openstreetmap.org/wiki/Nominatim/Special_Phrases/EN</a></p>
<p>This is my query</p>
<p><a href="https://nominatim.openstreetmap.org/search?q=hospitals&amp;format=jsonv2&amp;polygon=50&amp;addressdetails=1&amp;lat=40.406932&amp;lon=-79.932963">https://nominatim.openstreetmap.org/search?q=hospitals&amp;format=jsonv2&amp;polygon=50&amp;addressdetails=1&amp;lat=40.406932&amp;lon=-79.932963</a></p>
<p>those GPS coordinates are from Pittsburgh, PA. But the results contains results from Nicaragua and Libya and they are not hospitals. Where have I made a mistake?</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-query" href="/tags/query/" rel="tag" title="see questions tagged 'query'">query</a>
<a class="post-tag tag-link-gps" href="/tags/gps/" rel="tag" title="see questions tagged 'gps'">gps</a>
<a class="post-tag tag-link-nominatim" href="/tags/nominatim/" rel="tag" title="see questions tagged 'nominatim'">nominatim</a>
<a class="post-tag tag-link-coordinates" href="/tags/coordinates/" rel="tag" title="see questions tagged 'coordinates'">coordinates</a>
<a class="post-tag tag-link-poi" href="/tags/poi/" rel="tag" title="see questions tagged 'poi'">poi</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>29 Jul '18, 16:40</strong>
</p>
<img alt="Dave4784's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/4f6e295d4a3e0e24268e948e79eae3fc?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/15452/dave4784">Dave4784</a><br/>
<span class="score" title="16 reputation points">16</span><span title="4 badges"><span class="badge1">●</span><span class="badgecount">4</span></span><span title="4 badges"><span class="silver">●</span><span class="badgecount">4</span></span><span title="5 badges"><span class="bronze">●</span><span class="badgecount">5</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Dave4784 has no accepted answers">0%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/65004/">
                edited
                <strong>29 Jul '18, 21:38</strong>
</a>
</p>
<img alt="aseerel4c26's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/66f0dc05b44574e3894be07b0b37cf37?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/5179/aseerel4c26">aseerel4c26 ♦</a><br/>
<span class="score" title="32615 reputation points"><span class="">32.6k</span></span><span title="18 badges"><span class="badge1">●</span><span class="badgecount">18</span></span><span title="248 badges"><span class="silver">●</span><span class="badgecount">248</span></span><span title="554 badges"><span class="bronze">●</span><span class="badgecount">554</span></span></p>
</div>
</div>
<div class="comments-container" id="comments-container-65004">
</div>
<div class="comment-tools" id="comment-tools-65004">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-65004-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    2 Answers:
                    </div>
<div class="tabsA"><a href="/questions/65004/getting-hospitals-near-gps-coordinates-via-nominatim-is-returning-unexpected-results?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/65004/getting-hospitals-near-gps-coordinates-via-nominatim-is-returning-unexpected-results?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/65004/getting-hospitals-near-gps-coordinates-via-nominatim-is-returning-unexpected-results?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/65004/getting-hospitals-near-gps-coordinates-via-nominatim-is-returning-unexpected-results?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="65007"></a>
<div class="answer" id="answer-container-65007">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/65007/up/" id="post-65007-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-65007-score" title="current number of votes">
    1
</div>
<a class="ajax-command post-vote down" href="/vote/65007/down/" id="post-65007-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>A special phrase just means that nominatim will give some preference to items tagged amenity=hospital, it's still doing name matching on "Hospitals", so it's returning things with exactly that name.</p>
<p><a href="http://overpass-turbo.eu/s/ADE">Here's an example Overpass-API query</a> that returns hospitals within a 10 Km radius of that location. Note that you can use that query outside of Overpass Turbo, it's just a convenient way to share it.</p>
<p>You could also compute a bounding box from the coordinate and restrict the search to that area, if that were more suitable for your goal.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/65007/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>29 Jul '18, 17:25</strong>
</p>
<img alt="maxerickson's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/c860445e868ebb21da141635a4aa7b06?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/10973/maxerickson">maxerickson</a><br/>
<span class="score" title="12700 reputation points"><span class="">12.7k</span></span><span title="10 badges"><span class="badge1">●</span><span class="badgecount">10</span></span><span title="83 badges"><span class="silver">●</span><span class="badgecount">83</span></span><span title="176 badges"><span class="bronze">●</span><span class="badgecount">176</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="maxerickson has 93 accepted answers">32%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/65007/">
                edited
                <strong>29 Jul '18, 17:25</strong>
</a>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-65007">
<a name="66667"></a>
<div class="comment" id="comment-66667">
<div class="comment-score" id="post-66667-score"></div>
<div class="comment-text"><p>Hello. Is something like that available for Nominatim API?</p></div>
<div class="comment-info" id="comment-66667-info">
<span class="comment-age">(05 Nov '18, 10:17)</span>
<a class="comment-user userinfo" href="/users/15876/user5555">user5555</a>
</div>
</div>
<a name="66669"></a>
<div class="comment" id="comment-66669">
<div class="comment-score" id="post-66669-score"></div>
<div class="comment-text"><p>Not beyond what is mentioned in the other answer.</p></div>
<div class="comment-info" id="comment-66669-info">
<span class="comment-age">(05 Nov '18, 10:46)</span>
<a class="comment-user userinfo" href="/users/10973/maxerickson">maxerickson</a>
</div>
</div>
<a name="66670"></a>
<div class="comment" id="comment-66670">
<div class="comment-score" id="post-66670-score"></div>
<div class="comment-text"><p>There isn't.</p></div>
<div class="comment-info" id="comment-66670-info">
<span class="comment-age">(05 Nov '18, 10:47)</span>
<a class="comment-user userinfo" href="/users/150/mtmail">mtmail</a>
</div>
</div>
<a name="66692"></a>
<div class="comment" id="comment-66692">
<div class="comment-score" id="post-66692-score"></div>
<div class="comment-text"><p>Ok, thanks. Now I want to try Overpass-API. How to send just query using REST API (POST some json url)? And where to get results? Because your example draws on the map, but I want result in text format (json)</p></div>
<div class="comment-info" id="comment-66692-info">
<span class="comment-age">(06 Nov '18, 11:48)</span>
<a class="comment-user userinfo" href="/users/15876/user5555">user5555</a>
</div>
</div>
<a name="66694"></a>
<div class="comment" id="comment-66694">
<div class="comment-score" id="post-66694-score"></div>
<div class="comment-text"><p>Never mind. Found out <a href="https://www.overpass-api.de/api/interpreter?data=THE">https://www.overpass-api.de/api/interpreter?data=THE</a> SAME QUERY AS IN YOUR EXAMPLE, BUT EVERYTHING IN ONE LINE</p></div>
<div class="comment-info" id="comment-66694-info">
<span class="comment-age">(06 Nov '18, 12:04)</span>
<a class="comment-user userinfo" href="/users/15876/user5555">user5555</a>
</div>
</div>
<a name="66696"></a>
<div class="comment not_top_scorer" id="comment-66696">
<div class="comment-score" id="post-66696-score"></div>
<div class="comment-text"><p>And one more question - how to search for any building/place using any name? So it can be anything, not necessarily hospital. I tried replace "amenity" with "name", but it does't work like with Nominatim API, it excepts name which will match 100%, but I want just normal name query (like we search in Google and in Nominatim API)</p></div>
<div class="comment-info" id="comment-66696-info">
<span class="comment-age">(06 Nov '18, 13:55)</span>
<a class="comment-user userinfo" href="/users/15876/user5555">user5555</a>
</div>
</div>
<a name="66700"></a>
<div class="comment not_top_scorer" id="comment-66700">
<div class="comment-score" id="post-66700-score"></div>
<div class="comment-text"><p>Don't add questions to answers. Instead <a href="https://help.openstreetmap.org/questions/ask/">create a new question</a>.</p></div>
<div class="comment-info" id="comment-66700-info">
<span class="comment-age">(06 Nov '18, 14:31)</span>
<a class="comment-user userinfo" href="/users/158/scai">scai ♦</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-65007">
<span class="comments-showing">
            showing 5 of 7
        </span>
<a class="show-all-comments-link" href="#">show 2 more comments</a>
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-65007-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="65009"></a>
<div class="answer" id="answer-container-65009">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/65009/up/" id="post-65009-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-65009-score" title="current number of votes">
    1
</div>
<a class="ajax-command post-vote down" href="/vote/65009/down/" id="post-65009-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>The /search endpoint doesn't understand &amp;lat or &amp;lon parameters (only /reverse does), setting &amp;polygon= to 50 has the same effect as 1 and only affects the output. See <a href="https://wiki.openstreetmap.org/wiki/Nominatim#Search">https://wiki.openstreetmap.org/wiki/Nominatim#Search</a></p>
<p>The closest you can get with Nominatim is using a query 'hospitals near 40.406932,-79.932963'. The 'near' (or 'in') is optional. You can set the &amp;limit=50 to get more results (maximum is 100).</p>
<p>The Overpass-API system is more flexible (support more types of point-of-interest, more filters, better control over the search radius) overall.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/65009/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>29 Jul '18, 21:45</strong>
</p>
<img alt="mtmail's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/96aad1e1801b7ea36fba50687924c935?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/150/mtmail">mtmail</a><br/>
<span class="score" title="4757 reputation points"><span class="">4.8k</span></span><span title="15 badges"><span class="silver">●</span><span class="badgecount">15</span></span><span title="74 badges"><span class="bronze">●</span><span class="badgecount">74</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="mtmail has 50 accepted answers">27%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-65009">
<a name="65068"></a>
<div class="comment" id="comment-65068">
<div class="comment-score" id="post-65068-score"></div>
<div class="comment-text"><p>I like using the "hospital near 40.406932,-79.932963" method, but at some places it returns nothing. Is there a way to increase the sq miles it checks?</p></div>
<div class="comment-info" id="comment-65068-info">
<span class="comment-age">(01 Aug '18, 21:26)</span>
<a class="comment-user userinfo" href="/users/15452/dave4784">Dave4784</a>
</div>
</div>
<a name="65152"></a>
<div class="comment" id="comment-65152">
<div class="comment-score" id="post-65152-score"></div>
<div class="comment-text"><p>Nominatim doesn't have a parameter for that.</p></div>
<div class="comment-info" id="comment-65152-info">
<span class="comment-age">(06 Aug '18, 11:13)</span>
<a class="comment-user userinfo" href="/users/150/mtmail">mtmail</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-65009">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-65009-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/65004/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="6DaqWiidC9m9MucaQZVCf6EsPpSkZbk0"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>