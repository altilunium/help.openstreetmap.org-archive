<meta charset="utf-8"/><link href="../style.css" rel="stylesheet" type="text/css"/><div id="CALeft"><center><a href="../"><img id="ll" src="https://help.openstreetmap.org/upfiles/osm_help_logo_6.png"/></a></center>
<div class="headNormal">
<h1><a href="/questions/60330/how-do-you-create-a-relation-between-a-building-and-3d-building-parts">How do you create a relation between a building and 3D building parts?</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/60330/up/" id="post-60330-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-60330-score" title="current number of votes">
    1
</div>
<a class="ajax-command post-vote down" href="/vote/60330/down/" id="post-60330-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/60330/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>I assume it's unnecessary, but just out of curiosity, the building part here has a relation linked to the building. How do you create that? Are there any pros/cons in doing it? </p>
<p><a href="http://www.openstreetmap.org/edit?relation=3824021#map=22/52.51651/13.45273">http://www.openstreetmap.org/edit?relation=3824021#map=22/52.51651/13.45273</a></p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-building" href="/tags/building/" rel="tag" title="see questions tagged 'building'">building</a>
<a class="post-tag tag-link-relation" href="/tags/relation/" rel="tag" title="see questions tagged 'relation'">relation</a>
<a class="post-tag tag-link-3d" href="/tags/3d/" rel="tag" title="see questions tagged '3d'">3d</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>27 Oct '17, 18:53</strong>
</p>
<img alt="chachafish's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/97e2f141b910d9a08dabfc0865382491?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/10935/chachafish">chachafish</a><br/>
<span class="score" title="411 reputation points">411</span><span title="12 badges"><span class="badge1">●</span><span class="badgecount">12</span></span><span title="14 badges"><span class="silver">●</span><span class="badgecount">14</span></span><span title="22 badges"><span class="bronze">●</span><span class="badgecount">22</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="chachafish has one accepted answer">8%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-60330">
</div>
<div class="comment-tools" id="comment-tools-60330">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-60330-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    2 Answers:
                    </div>
<div class="tabsA"><a href="/questions/60330/how-do-you-create-a-relation-between-a-building-and-3d-building-parts?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/60330/how-do-you-create-a-relation-between-a-building-and-3d-building-parts?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/60330/how-do-you-create-a-relation-between-a-building-and-3d-building-parts?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/60330/how-do-you-create-a-relation-between-a-building-and-3d-building-parts?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="60332"></a>
<div class="answer" id="answer-container-60332">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/60332/up/" id="post-60332-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-60332-score" title="current number of votes">
    6
</div>
<a class="ajax-command post-vote down" href="/vote/60332/down/" id="post-60332-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>Most 3D buildings in the database do not use building relations. In the absence of relations, building parts simply belong to the building that geometrically contains them. Situations where that simple rule doesn't work are very rare, but they do exist: When multiple building outlines overlap, relations are needed to avoid ambiguity.</p>
<p>Except in those rare cases, building relations are redundant and provide no additional information. Adding them would not only be a waste of time, it would also further raise the barrier of entry for new mappers (who often consider relation editing challenging and counter-intuitive). As such, adding them unnecessarily is generally not a good idea.</p>
<p>To create a building relation in JOSM, follow the following steps:</p>
<ul>
<li>Select all the building parts and building outlines (use shift+click or draw a selection box).</li>
<li>Create a new relation by using the "create new relation" button.</li>
<li>The <a href="https://josm.openstreetmap.de/wiki/Help/Dialog/RelationEditor">relation editor</a> will open. Add all the selected elements to the relation.</li>
<li>Add the role <code>part</code> to all parts, and the role <code>outline</code> to the outline.</li>
<li>Add the tag <code>type=building</code> to the relation itself.</li>
<li>Close the relation editor by pressing "OK".</li>
</ul>
<p>You can also create a buildling relation in iD as follows:</p>
<ul>
<li>Select the building outline.</li>
<li>In the "all relations" section on the bottom left, click the "+" button and select "New relation".</li>
<li>There's no preset for building relation, so select the plain "Relation".</li>
<li>In the "type" field, enter <code>building</code>.</li>
<li>In the "all members" section below that, add the role <code>outline</code> for your building outline.</li>
<li>Now perform the following steps for each building part:</li>
<li>Select the building part</li>
<li>In the "all relations" section on the bottom left, click the "+" button and select your recently created building relation from the drop-down list.</li>
<li>Add <code>part</code> in the role field that appears.</li>
</ul>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/60332/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>27 Oct '17, 19:40</strong>
</p>
<img alt="Tordanik's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/0626be5f46f32fce501353e8a5ec399c?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/14/tordanik">Tordanik</a><br/>
<span class="score" title="11998 reputation points"><span class="">12.0k</span></span><span title="15 badges"><span class="badge1">●</span><span class="badgecount">15</span></span><span title="106 badges"><span class="silver">●</span><span class="badgecount">106</span></span><span title="147 badges"><span class="bronze">●</span><span class="badgecount">147</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Tordanik has 58 accepted answers">35%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/60332/">
                edited
                <strong>27 Oct '17, 20:07</strong>
</a>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-60332">
<a name="60335"></a>
<div class="comment" id="comment-60335">
<div class="comment-score" id="post-60335-score"></div>
<div class="comment-text"><p>Cheers, buddy</p></div>
<div class="comment-info" id="comment-60335-info">
<span class="comment-age">(28 Oct '17, 02:54)</span>
<a class="comment-user userinfo" href="/users/10935/chachafish">chachafish</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-60332">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-60332-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="60336"></a>
<div class="answer" id="answer-container-60336">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/60336/up/" id="post-60336-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-60336-score" title="current number of votes">
    1
</div>
<a class="ajax-command post-vote down" href="/vote/60336/down/" id="post-60336-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p><em>"Except in those rare cases, building relations are redundant and provide no additional information. Adding them would not only be a waste of time, it would also further raise the barrier of entry for new mappers (who often consider relation editing challenging and counter-intuitive). As such, adding them unnecessarily is generally not a good idea."</em></p>
<p>Tordanik, while I appreciate the fact that relation processing is difficult, relations by itself are not "bad". To continuously stress that building relations should be avoided, is in my opinion unnecessary and counter productive. If you want to ignore them in processing, you always can, but they do also have clear merits in relation to (web)navigation of parts, and as such I object to your statement that they "provide no additional information". I have seen many complex 3D buildings that were almost incomprehensible and impossible to navigate on the main OSM website without a type=building relation to group the parts in a logical way. The simple answer as to which parts belong to the building, is often most easily answered on the main OSM website through a building relation. If setup carefully, you can than easily drill down different parts or even levels through weblinks, greatly easing insight into the structure in a plain 2D view.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/60336/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>28 Oct '17, 09:10</strong>
</p>
<img alt="mboeringa's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/dc8a1ef54d3e25744ee52d1ad1459a81?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/9580/mboeringa">mboeringa</a><br/>
<span class="score" title="1542 reputation points"><span class="">1.5k</span></span><span title="2 badges"><span class="badge1">●</span><span class="badgecount">2</span></span><span title="15 badges"><span class="silver">●</span><span class="badgecount">15</span></span><span title="27 badges"><span class="bronze">●</span><span class="badgecount">27</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="mboeringa has 4 accepted answers">9%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-60336">
<a name="60343"></a>
<div class="comment" id="comment-60343">
<div class="comment-score" id="post-60343-score">1</div>
<div class="comment-text"><p>When I say that building relations don't add information, I'm talking about the data, not about what shows up on any particular map. The information is already there without the relation, it's just not easily visible on osm.org.</p>
<p>However, the osm.org website has never intentionally added the ability to render or browse 3D buildings. So any ability to inspect 3D buildings on osm.org is pretty much accidental at this point. It's still an advantage to be able to do so, but I feel that it's not an important enough benefit on its own to justify using building relations. Instead of altering the data to achieve this result, I'd much rather see the software improved.</p>
<p>And just to avoid a possible misunderstanding: Processing building relations isn't particularly hard, and as building relations cannot always be avoided (most of the time, yes, but not always), that ability is necessary for a feature-complete 3D renderer anyway. So my concern isn't processing the data, it's editing it.</p></div>
<div class="comment-info" id="comment-60343-info">
<span class="comment-age">(29 Oct '17, 14:57)</span>
<a class="comment-user userinfo" href="/users/14/tordanik">Tordanik</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-60336">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-60336-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/60330/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="MxZhWFYhUJRKrL7sCGQnUsHEC0PbIm94"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>