<meta charset="UTF-8"><link rel="stylesheet" type="text/css" href="../style.css"><div id="CALeft">
<div class="headNormal">
<h1><a href="/questions/66460/would-like-to-extract-all-the-waterways-in-europe">Would like to extract all the waterways in Europe</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/66460/up/" id="post-66460-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-66460-score" title="current number of votes">
    1
</div>
<a class="ajax-command post-vote down" href="/vote/66460/down/" id="post-66460-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/66460/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>Hello, I would like to extract all the waterways in a large extent including Europe using Openstreetmap API capabilities. Eventually I would like to include this in a python script. However running it directly through overpass API or one of the openstreetmap-provided mirrors would be the first step in this process.</p>
<p>I tried running the following through Overpass</p>
<pre><code>way(35.359872101102724, -29.628211426818392, 70.90180289857001, 47.014599265244506)["waterway" = "river"];
out;
</code></pre>
<p>But got an error: </p>
<pre><code>runtime error: Query ran out of memory in "query" at line 1. It would need at least 531 MB of RAM to continue.
</code></pre>
<p>I then tried prepending the above with <code>[maxsize:1073741824];</code> and then running, but I still got the same memory error. </p>
<p>How can I extract this data and avoid the memory errors? Thanks</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-overpass" href="/tags/overpass/" rel="tag" title="see questions tagged 'overpass'">overpass</a>
<a class="post-tag tag-link-overpass-turbo" href="/tags/overpass-turbo/" rel="tag" title="see questions tagged 'overpass-turbo'">overpass-turbo</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>25 Oct '18, 13:14</strong>
</p>
<img alt="awa5114's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/23d42f5f532e8b985b9f0815c7897079?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/15843/awa5114">awa5114</a><br/>
<span class="score" title="46 reputation points">46</span><span title="2 badges"><span class="badge1">●</span><span class="badgecount">2</span></span><span title="2 badges"><span class="silver">●</span><span class="badgecount">2</span></span><span title="6 badges"><span class="bronze">●</span><span class="badgecount">6</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="awa5114 has no accepted answers">0%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-66460">
</div>
<div class="comment-tools" id="comment-tools-66460">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-66460-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    2 Answers:
                    </div>
<div class="tabsA"><a href="/questions/66460/would-like-to-extract-all-the-waterways-in-europe?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/66460/would-like-to-extract-all-the-waterways-in-europe?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/66460/would-like-to-extract-all-the-waterways-in-europe?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/66460/would-like-to-extract-all-the-waterways-in-europe?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="66469"></a>
<div class="answer" id="answer-container-66469">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/66469/up/" id="post-66469-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-66469-score" title="current number of votes">
    3
</div>
<a class="ajax-command post-vote down" href="/vote/66469/down/" id="post-66469-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>This clearly outside of the scope of any of the public Overpass API servers. You should simply download an OSM data extract for Europe and extract whatever you want from that, for example with osmfilter <a href="https://wiki.openstreetmap.org/wiki/Osmfilter">https://wiki.openstreetmap.org/wiki/Osmfilter</a> or one of the other tools available.  </p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/66469/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>25 Oct '18, 20:39</strong>
</p>
<img alt="SimonPoole's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/ad2513d6f8e3d709d576ace900c12fa5?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/2053/simonpoole">SimonPoole ♦</a><br/>
<span class="score" title="44667 reputation points"><span class="">44.7k</span></span><span title="13 badges"><span class="badge1">●</span><span class="badgecount">13</span></span><span title="326 badges"><span class="silver">●</span><span class="badgecount">326</span></span><span title="701 badges"><span class="bronze">●</span><span class="badgecount">701</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="SimonPoole has 209 accepted answers">18%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-66469">
<a name="66482"></a>
<div class="comment" id="comment-66482">
<div class="comment-score" id="post-66482-score"></div>
<div class="comment-text"><p>Indeed that is what I have tried to do. I currently have downloaded several files from the GeoFabrik website: euriope-latest.osm, europe-latest.osm.pbf and albania-latest.osm. I also have all the command line tools osmconvert, osmfilter and osmosis. I have tried various queries on all of them but it takes a very long time, and there is no way of judging how long it will take. Do these query tools provide any possibilities in terms of extracting large datasets aside from just getting it all at once?</p></div>
<div class="comment-info" id="comment-66482-info">
<span class="comment-age">(26 Oct '18, 10:19)</span>
<a class="comment-user userinfo" href="/users/15843/awa5114">awa5114</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-66469">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-66469-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="66709"></a>
<div class="answer" id="answer-container-66709">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/66709/up/" id="post-66709-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-66709-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/66709/down/" id="post-66709-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>You might also need to include more tag options.   I found that to get all the navigable waterways in the UK, I also needed </p>
<ul>
<li>water=river with boat=yes</li>
<li>waterway=canal with boat=yes</li>
<li>waterway=river with boat=yes</li>
</ul>
<p>I did it with overpass, in about 8 manual slices- probably not an option for all of Europe.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/66709/" rel="nofollow" title="answer permanent link">permanent link</a></span>
<div class="community-wiki">
        This answer is marked "community wiki".
        
    </div>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>06 Nov '18, 21:56</strong>
</p>
<img alt="spiregrain's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/b5c5070032df7883181003f187eacae0?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/12653/spiregrain">spiregrain</a><br/>
<span class="score" title="183 reputation points">183</span><span title="8 badges"><span class="badge1">●</span><span class="badgecount">8</span></span><span title="8 badges"><span class="silver">●</span><span class="badgecount">8</span></span><span title="15 badges"><span class="bronze">●</span><span class="badgecount">15</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="spiregrain has no accepted answers">0%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-66709">
</div>
<div class="comment-tools" id="comment-tools-66709">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-66709-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/66460/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="BB9BCluMSMIEjZxKRQRBkxNOA01wT8QP"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>