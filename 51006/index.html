<meta charset="UTF-8"><link rel="stylesheet" type="text/css" href="../style.css"><div id="CALeft">
<div class="headNormal">
<h1><a href="/questions/51006/how-to-get-the-start-and-the-endpoint-of-a-route">How to get the start and the endpoint of a route</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/51006/up/" id="post-51006-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-51006-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/51006/down/" id="post-51006-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/51006/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>I'm messing around with OpenStreetMap and Overpass.</p>
<p>Now I want to get information about routes. For example the ferry from Krabi to Railey East. It looks perfect on the map. The dotted ferry line goes from the harbor of Krabi to the harbor of Railey East. But when I click the route, only half lights up. Of course it makes sense. It connects to the other route.</p>
<p><strong>But how do I extract the whole route. How can I programmatic discover the start and the end point of a route?</strong></p>
<p>OSM data layer screenshot with highlighted area: 
<img alt="screenshot" src="/upfiles/route_extraction.png"/></p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-overpass" href="/tags/overpass/" rel="tag" title="see questions tagged 'overpass'">overpass</a>
<a class="post-tag tag-link-route" href="/tags/route/" rel="tag" title="see questions tagged 'route'">route</a>
<a class="post-tag tag-link-relations" href="/tags/relations/" rel="tag" title="see questions tagged 'relations'">relations</a>
<a class="post-tag tag-link-ferry" href="/tags/ferry/" rel="tag" title="see questions tagged 'ferry'">ferry</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>20 Jul '16, 23:47</strong>
</p>
<img alt="NLAnaconda's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/cbcec43f8f6c9d5b869aa5bdc56eb673?s=32&amp;d=identicon&amp;r=g" width="32">
<p><a href="/users/11351/nlanaconda">NLAnaconda</a><br/>
<span class="score" title="166 reputation points">166</span><span title="5 badges"><span class="badge1">●</span><span class="badgecount">5</span></span><span title="6 badges"><span class="silver">●</span><span class="badgecount">6</span></span><span title="13 badges"><span class="bronze">●</span><span class="badgecount">13</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="NLAnaconda has no accepted answers">0%</span>
</p>
</img></div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/51006/">
                edited
                <strong>02 Aug '16, 21:40</strong>
</a>
</p>
<img alt="aseerel4c26's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/66f0dc05b44574e3894be07b0b37cf37?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/5179/aseerel4c26">aseerel4c26 ♦</a><br/>
<span class="score" title="32615 reputation points"><span class="">32.6k</span></span><span title="18 badges"><span class="badge1">●</span><span class="badgecount">18</span></span><span title="248 badges"><span class="silver">●</span><span class="badgecount">248</span></span><span title="554 badges"><span class="bronze">●</span><span class="badgecount">554</span></span></p>
</div>
</div>
<div class="comments-container" id="comments-container-51006">
<a name="51098"></a>
<div class="comment" id="comment-51098">
<div class="comment-score" id="post-51098-score">2</div>
<div class="comment-text"><p>cross-posted: <a href="https://stackoverflow.com/questions/38579137/osm-how-to-get-the-start-and-the-endpoint-of-a-route">https://stackoverflow.com/questions/38579137/osm-how-to-get-the-start-and-the-endpoint-of-a-route</a></p></div>
<div class="comment-info" id="comment-51098-info">
<span class="comment-age">(26 Jul '16, 07:36)</span>
<a class="comment-user userinfo" href="/users/158/scai">scai ♦</a>
</div>
</div>
<a name="51216"></a>
<div class="comment" id="comment-51216">
<div class="comment-score" id="post-51216-score"></div>
<div class="comment-text"><p>when you say "Overpass" you likely mean (at least for the "click" part) <a href="//wiki.openstreetmap.org/wiki/Overpass_API">Overpass API</a>'s interface "<a href="//wiki.openstreetmap.org/wiki/Overpass_turbo">Overpass Turbo</a>".</p></div>
<div class="comment-info" id="comment-51216-info">
<span class="comment-age">(02 Aug '16, 21:17)</span>
<a class="comment-user userinfo" href="/users/5179/aseerel4c26">aseerel4c26 ♦</a>
</div>
</div>
<a name="51217"></a>
<div class="comment" id="comment-51217">
<div class="comment-score" id="post-51217-score"></div>
<div class="comment-text"><p>Yes I do. :)</p></div>
<div class="comment-info" id="comment-51217-info">
<span class="comment-age">(02 Aug '16, 21:19)</span>
<a class="comment-user userinfo" href="/users/11351/nlanaconda">NLAnaconda</a>
</div>
</div>
<a name="51218"></a>
<div class="comment" id="comment-51218">
<div class="comment-score" id="post-51218-score"></div>
<div class="comment-text"><p>I do not know which specific ferry route you are talking about. Could you please provide the OSM object id/link or at least location?</p></div>
<div class="comment-info" id="comment-51218-info">
<span class="comment-age">(02 Aug '16, 21:23)</span>
<a class="comment-user userinfo" href="/users/5179/aseerel4c26">aseerel4c26 ♦</a>
</div>
</div>
<a name="51220"></a>
<div class="comment" id="comment-51220">
<div class="comment-score" id="post-51220-score">1</div>
<div class="comment-text"><p>It is this route: <a href="http://www.openstreetmap.org/way/130768455">http://www.openstreetmap.org/way/130768455</a> Actually what I want to achieve is to know what destinations can be reached from a harbor (in this case: <a href="//www.openstreetmap.org/node/2465989873">node 2465989873</a>)</p></div>
<div class="comment-info" id="comment-51220-info">
<span class="comment-age">(02 Aug '16, 21:27)</span>
<a class="comment-user userinfo" href="/users/11351/nlanaconda">NLAnaconda</a>
</div>
</div>
<a name="51221"></a>
<div class="comment not_top_scorer" id="comment-51221">
<div class="comment-score" id="post-51221-score"></div>
<div class="comment-text"><p>meta: In general, please do not post your questions to several places. That wastes help resources. If you really need to (for whatever reason), please always mentioning it in each post and provide links to the other posts. Once you've got an answer at one place, update all the other places.</p></div>
<div class="comment-info" id="comment-51221-info">
<span class="comment-age">(02 Aug '16, 21:42)</span>
<a class="comment-user userinfo" href="/users/5179/aseerel4c26">aseerel4c26 ♦</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-51006">
<span class="comments-showing">
            showing 5 of 6
        </span>
<a class="show-all-comments-link" href="#">show 1 more comments</a>
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-51006-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    One Answer:
                    </div>
<div class="tabsA"><a href="/questions/51006/how-to-get-the-start-and-the-endpoint-of-a-route?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/51006/how-to-get-the-start-and-the-endpoint-of-a-route?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/51006/how-to-get-the-start-and-the-endpoint-of-a-route?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/51006/how-to-get-the-start-and-the-endpoint-of-a-route?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="51219"></a>
<div class="answer" id="answer-container-51219">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/51219/up/" id="post-51219-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-51219-score" title="current number of votes">
    1
</div>
<a class="ajax-command post-vote down" href="/vote/51219/down/" id="post-51219-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>See our <a href="//wiki.openstreetmap.org/wiki/Tag:route=ferry">documentation wiki about Tag:route=ferry</a> "connect each end of the ferry route to a way on land". So you should be able to </p>
<ul>
<li>(if it is a <a href="//wiki.openstreetmap.org/wiki/Relation">relation</a>) look at the relation's first and last member and the node of each member which is not a part of another member of the relation should be the start and end.</li>
<li>(if it is a <a href="//wiki.openstreetmap.org/wiki/Way">way</a>) look at the way's first and last node – that should be the start and end.</li>
</ul>
<p>However, the wiki is no law book, and things may have been mapped differently in reality.</p>
<p>So, in your <em>example case</em> <a href="//www.openstreetmap.org/way/130768455">way 130768455</a>: this is not a mapping which is like the documentation describes. The western end is in the sea at an Y point. Here you would need to find other ways sharing the same end node and continue your imaginary travel through them (routing algorithms if you search a short travel).</p>
<p>To find locations which can be reaches from <a href="//www.openstreetmap.org/node/2465989873">node 2465989873</a> you would need to look which ways or relations with route=ferry tags the node is a member of and then find your way until (routing algorithms if you search a short one) you reach land (different for ways or relations and different depending if routes have been mapped not land-to-land – as said before).</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/51219/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>02 Aug '16, 21:23</strong>
</p>
<img alt="aseerel4c26's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/66f0dc05b44574e3894be07b0b37cf37?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/5179/aseerel4c26">aseerel4c26 ♦</a><br/>
<span class="score" title="32615 reputation points"><span class="">32.6k</span></span><span title="18 badges"><span class="badge1">●</span><span class="badgecount">18</span></span><span title="248 badges"><span class="silver">●</span><span class="badgecount">248</span></span><span title="554 badges"><span class="bronze">●</span><span class="badgecount">554</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="aseerel4c26 has 169 accepted answers">18%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/51219/">
                edited
                <strong>02 Aug '16, 21:47</strong>
</a>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-51219">
<a name="51222"></a>
<div class="comment" id="comment-51222">
<div class="comment-score" id="post-51222-score"></div>
<div class="comment-text"><p>Thanks for pointing me in the right direction!</p></div>
<div class="comment-info" id="comment-51222-info">
<span class="comment-age">(02 Aug '16, 22:12)</span>
<a class="comment-user userinfo" href="/users/11351/nlanaconda">NLAnaconda</a>
</div>
</div>
<a name="51223"></a>
<div class="comment" id="comment-51223">
<div class="comment-score" id="post-51223-score"></div>
<div class="comment-text"><p><a href="http://help.openstreetmap.org/users/11351/nlanaconda"></a><a href="http://help.openstreetmap.org/users/11351/nlanaconda">@NLAnaconda</a>: thanks for the feedback! :-) Glad to help.</p></div>
<div class="comment-info" id="comment-51223-info">
<span class="comment-age">(02 Aug '16, 22:14)</span>
<a class="comment-user userinfo" href="/users/5179/aseerel4c26">aseerel4c26 ♦</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-51219">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-51219-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/51006/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="IC9R5BReRfwwtbhVu1c1Bd8PIqVTH48y"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>