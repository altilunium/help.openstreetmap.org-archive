<meta charset="UTF-8"><link rel="stylesheet" type="text/css" href="../style.css"><div id="CALeft">
<div class="headNormal">
<h1><a href="/questions/54827/editing-osm-files-locally">Editing osm files locally</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/54827/up/" id="post-54827-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-54827-score" title="current number of votes">
    2
</div>
<a class="ajax-command post-vote down" href="/vote/54827/down/" id="post-54827-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/54827/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
   1
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>Hi all,</p>
<p><strong>Use case</strong>:</p>
<p>I use <a href="http://www.opentripplanner.org/">OpenTripPlanner</a> in combination with OSM and <a href="https://developers.google.com/transit/gtfs/">GTFS</a> data in order to calculate catchment areas ("<em>How far do I get within 10 minutes by car?</em>"). This works fine!</p>
<p>Now I would like to do scenarios like "<em>How does the catchment area change if we build a new street somewhere or if we increase the tempo limit for a certain street etc.?</em>". </p>
<p><strong>Question</strong>:</p>
<p>Therefore, I'm looking for a way to edit my local OSM data (which is the extract of <a href="http://download.geofabrik.de/europe/denmark.html">Denmark from Geofabrik</a>) without uploading the changes to OSM. 
Thus, the work flow will look as simple as:</p>
<ol>
<li>Import osm.pbf of Denmark</li>
<li>Modify OSM data</li>
<li>Export osm.pbf of Denmark </li>
</ol>
<p>I'm interested in suggestions how to implement this work flow by using existing open source tools, editors etc.. I work with Ubuntu 14.04. </p>
<p>Many thanks for your input. </p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-editing" href="/tags/editing/" rel="tag" title="see questions tagged 'editing'">editing</a>
<a class="post-tag tag-link-local" href="/tags/local/" rel="tag" title="see questions tagged 'local'">local</a>
<a class="post-tag tag-link-pbf" href="/tags/pbf/" rel="tag" title="see questions tagged 'pbf'">pbf</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>28 Feb '17, 11:10</strong>
</p>
<img alt="PeBerlin's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/b33683c10ecf24a95f6c7e368edb258f?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/13402/peberlin">PeBerlin</a><br/>
<span class="score" title="46 reputation points">46</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">●</span><span class="badgecount">1</span></span><span title="5 badges"><span class="bronze">●</span><span class="badgecount">5</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="PeBerlin has no accepted answers">0%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/54827/">
                edited
                <strong>05 Mar '17, 02:39</strong>
</a>
</p>
<img alt="aseerel4c26's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/66f0dc05b44574e3894be07b0b37cf37?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/5179/aseerel4c26">aseerel4c26 ♦</a><br/>
<span class="score" title="32615 reputation points"><span class="">32.6k</span></span><span title="18 badges"><span class="badge1">●</span><span class="badgecount">18</span></span><span title="248 badges"><span class="silver">●</span><span class="badgecount">248</span></span><span title="554 badges"><span class="bronze">●</span><span class="badgecount">554</span></span></p>
</div>
</div>
<div class="comments-container" id="comments-container-54827">
</div>
<div class="comment-tools" id="comment-tools-54827">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-54827-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    2 Answers:
                    </div>
<div class="tabsA"><a href="/questions/54827/editing-osm-files-locally?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/54827/editing-osm-files-locally?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/54827/editing-osm-files-locally?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/54827/editing-osm-files-locally?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="54848"></a>
<div class="answer accepted-answer" id="answer-container-54848">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/54848/up/" id="post-54848-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-54848-score" title="current number of votes">
    5
</div>
<a class="ajax-command post-vote down" href="/vote/54848/down/" id="post-54848-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="accept-answer on" href="/accept_answer/54848/" rel="nofollow" title="PeBerlin has selected this answer as the correct answer">
</a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>Just to add to <a href="https://help.openstreetmap.org/users/3577/hjart">@Hjart</a>'s answer:</p>
<ul>
<li>Cut out the area of interest using either Osmosis or osmconvert</li>
<li>Open &amp; edit it in JOSM. (In order to avoid accidental uploading the data you can add upload=false in a JOSM file in XML format).</li>
<li>Save the edited data to a file (PBF or XML). I would recommend that you mark your changes in some way, perhaps using a scenario=xxx tag.</li>
<li>You can use osmosis or osmconvert to change your edited file into an OSM change format (.osc) if you can compare it with the original file. OSC is probably the best format for storing any given scenario as it will only contain the actual modifications.</li>
</ul>
<p>To apply your scenario merge either the OSC file or the JOSM file with all of Denmark. Push this through your OTP model.</p>
<p>You may also remove data which is not needed, such as building outlines etc, from the Denmark file before proceeding. Use osmfilter for this.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/54848/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>01 Mar '17, 10:32</strong>
</p>
<img alt="SK53's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/06cd84075f1adc2870ad102c7233e661?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/647/sk53">SK53 ♦</a><br/>
<span class="score" title="28084 reputation points"><span class="">28.1k</span></span><span title="48 badges"><span class="badge1">●</span><span class="badgecount">48</span></span><span title="268 badges"><span class="silver">●</span><span class="badgecount">268</span></span><span title="433 badges"><span class="bronze">●</span><span class="badgecount">433</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="SK53 has 121 accepted answers">22%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-54848">
<a name="54849"></a>
<div class="comment" id="comment-54849">
<div class="comment-score" id="post-54849-score"></div>
<div class="comment-text"><p>Great, many thanks! That sounds like a reasonable work flow. 
I will go through these steps and see if I can manage it.</p></div>
<div class="comment-info" id="comment-54849-info">
<span class="comment-age">(01 Mar '17, 11:06)</span>
<a class="comment-user userinfo" href="/users/13402/peberlin">PeBerlin</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-54848">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-54848-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="54829"></a>
<div class="answer" id="answer-container-54829">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/54829/up/" id="post-54829-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-54829-score" title="current number of votes">
    2
</div>
<a class="ajax-command post-vote down" href="/vote/54829/down/" id="post-54829-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p><a href="https://wiki.openstreetmap.org/wiki/JOSM">JOSM</a> with the <a href="https://wiki.openstreetmap.org/wiki/JOSM/Plugins/PBF">PBF</a> plugin can do what you want. All of Denmark is a considerable amount of data though, so you'll probably want to split up the pbf</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/54829/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>28 Feb '17, 12:18</strong>
</p>
<img alt="Hjart's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/6edf3a421a450237beae62ba93582637?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/3577/hjart">Hjart</a><br/>
<span class="score" title="2961 reputation points"><span class="">3.0k</span></span><span title="4 badges"><span class="badge1">●</span><span class="badgecount">4</span></span><span title="26 badges"><span class="silver">●</span><span class="badgecount">26</span></span><span title="56 badges"><span class="bronze">●</span><span class="badgecount">56</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Hjart has 14 accepted answers">18%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-54829">
<a name="54835"></a>
<div class="comment" id="comment-54835">
<div class="comment-score" id="post-54835-score"></div>
<div class="comment-text"><p>Many thanks for your answer! I will give JOSM a try. Do you have any specific advices which tools to use to first split and then merge the .osm files?</p></div>
<div class="comment-info" id="comment-54835-info">
<span class="comment-age">(28 Feb '17, 15:36)</span>
<a class="comment-user userinfo" href="/users/13402/peberlin">PeBerlin</a>
</div>
</div>
<a name="54842"></a>
<div class="comment" id="comment-54842">
<div class="comment-score" id="post-54842-score">1</div>
<div class="comment-text"><p>Either osmosis or osmconvert. I'd try with latter &amp; stick with it if it works.</p></div>
<div class="comment-info" id="comment-54842-info">
<span class="comment-age">(28 Feb '17, 21:43)</span>
<a class="comment-user userinfo" href="/users/647/sk53">SK53 ♦</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-54829">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-54829-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/54827/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="QudrULP2xhezC50awu921rGrFY8evyys"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>