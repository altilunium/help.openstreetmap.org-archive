<meta charset="UTF-8"><link rel="stylesheet" type="text/css" href="../style.css"><div id="CALeft">
<div class="headNormal">
<h1><a href="/questions/87183/nominatim-install-with-north-america-data">Nominatim Install with North America Data</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/87183/up/" id="post-87183-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-87183-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/87183/down/" id="post-87183-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/87183/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>Hello all,</p>
<p>Trying to setup a local nominatim server with north america dataset. I will be using this server to normalize some adress stating strings and get full adress (especially city,state,country) data. I have limited disk space and installation got cancelled because of lack of space on disk. So, I'm looking for ways to reduce size. I used --no-updates tag also. Appreciate any suggestions.</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-nominatim" href="/tags/nominatim/" rel="tag" title="see questions tagged 'nominatim'">nominatim</a>
<a class="post-tag tag-link-installation" href="/tags/installation/" rel="tag" title="see questions tagged 'installation'">installation</a>
<a class="post-tag tag-link-northamerica" href="/tags/northamerica/" rel="tag" title="see questions tagged 'northamerica'">northamerica</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>28 Apr '23, 11:45</strong>
</p>
<img alt="Gorkemsanal's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/97f4f7e9bed9ce0816f30b24a7788421?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/22965/gorkemsanal">Gorkemsanal</a><br/>
<span class="score" title="11 reputation points">11</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">●</span><span class="badgecount">1</span></span><span title="2 badges"><span class="bronze">●</span><span class="badgecount">2</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Gorkemsanal has no accepted answers">0%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-87183">
</div>
<div class="comment-tools" id="comment-tools-87183">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-87183-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    One Answer:
                    </div>
<div class="tabsA"><a href="/questions/87183/nominatim-install-with-north-america-data?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/87183/nominatim-install-with-north-america-data?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/87183/nominatim-install-with-north-america-data?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/87183/nominatim-install-with-north-america-data?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="87184"></a>
<div class="answer" id="answer-container-87184">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/87184/up/" id="post-87184-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-87184-score" title="current number of votes">
    2
</div>
<a class="ajax-command post-vote down" href="/vote/87184/down/" id="post-87184-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>There aren't many changes you can to, it's just a lot of data. Nominatim imports everything into 3 database tables first (or 2 tables plus the flatnode file), then convert everything into the final search tables. With --no-updates the 3 tables get deleted but during the index stage they're needed and consume most.</p>
<p>Use the flatnode file <a href="https://nominatim.org/release-docs/latest/admin/Import/#flatnode-files">https://nominatim.org/release-docs/latest/admin/Import/#flatnode-files</a> </p>
<p>Maybe import USA only <a href="https://download.geofabrik.de/north-america.html">https://download.geofabrik.de/north-america.html</a> and then <a href="https://nominatim.org/release-docs/latest/admin/Advanced-Installations/">https://nominatim.org/release-docs/latest/admin/Advanced-Installations/</a> how to add Mexico and Canada later. That could also work if you import one US state after the other but I'm not sure how streets crossing state borders are treated.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/87184/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>28 Apr '23, 12:26</strong>
</p>
<img alt="mtmail's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/96aad1e1801b7ea36fba50687924c935?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/150/mtmail">mtmail</a><br/>
<span class="score" title="4757 reputation points"><span class="">4.8k</span></span><span title="15 badges"><span class="silver">●</span><span class="badgecount">15</span></span><span title="74 badges"><span class="bronze">●</span><span class="badgecount">74</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="mtmail has 50 accepted answers">27%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-87184">
<a name="87191"></a>
<div class="comment" id="comment-87191">
<div class="comment-score" id="post-87191-score"></div>
<div class="comment-text"><p>Thank you, I've created a flatnode file right now installation goes on. However, "Processing: Node(1682145k 654.3k/s) Way(53345k 0.29k/s) Relation(0 0.0/s)" as you can see "Way" has this speed is it too slow or normal?</p></div>
<div class="comment-info" id="comment-87191-info">
<span class="comment-age">(30 Apr '23, 17:53)</span>
<a class="comment-user userinfo" href="/users/22965/gorkemsanal">Gorkemsanal</a>
</div>
</div>
<a name="87203"></a>
<div class="comment" id="comment-87203">
<div class="comment-score" id="post-87203-score"></div>
<div class="comment-text"><p>That seems slow but I know nothing about the hardware you use. The database tuning parameter will have an effect <a href="https://nominatim.org/release-docs/latest/admin/Installation/#tuning-the-postgresql-database">https://nominatim.org/release-docs/latest/admin/Installation/#tuning-the-postgresql-database</a> but so does raw processor speed and how fast the discs are.</p></div>
<div class="comment-info" id="comment-87203-info">
<span class="comment-age">(01 May '23, 20:00)</span>
<a class="comment-user userinfo" href="/users/150/mtmail">mtmail</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-87184">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-87184-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/87183/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="OLQntEoTbasjUZUILqSo6Di1RKjyEt8S"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>