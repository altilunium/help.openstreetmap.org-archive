<meta charset="utf-8"/><link href="../style.css" rel="stylesheet" type="text/css"/><div id="CALeft"><center><a href="../"><img id="ll" src="https://help.openstreetmap.org/upfiles/osm_help_logo_6.png"/></a></center>
<div class="headNormal">
<h1><a href="/questions/84087/why-does-searching-for-pinneberg-bahnhof-find-the-train-station-in-wedel">Why does searching for "Pinneberg, Bahnhof" find the Train station in Wedel?</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/84087/up/" id="post-84087-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-84087-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/84087/down/" id="post-84087-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/84087/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>To reproduce:
 1. open openstreetmap.org
 2. In the search field, enter "Pinneberg, Bahnhof" and click "Go"
 3. Observe that the train station shown on the map is not in Pinneberg, but in Wedel, a different town 21km south of Pinneberg.</p>
<p>Interestingly, searching for "Bahnhof Pinneberg" gives the correct result.</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-nominatim" href="/tags/nominatim/" rel="tag" title="see questions tagged 'nominatim'">nominatim</a>
<a class="post-tag tag-link-geocoding" href="/tags/geocoding/" rel="tag" title="see questions tagged 'geocoding'">geocoding</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>03 Apr '22, 20:13</strong>
</p>
<img alt="_Bj's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/49242364fa70a9f44b7a2b1f1f636042?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/21593/_bj">_Bj</a><br/>
<span class="score" title="11 reputation points">11</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">●</span><span class="badgecount">1</span></span><span title="2 badges"><span class="bronze">●</span><span class="badgecount">2</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="_Bj has no accepted answers">0%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/84087/">
                edited
                <strong>12 Apr '22, 12:09</strong>
</a>
</p>
<img alt="scai's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/52d3234f3be58156770e8a91d575bfbd?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/158/scai">scai ♦</a><br/>
<span class="score" title="33317 reputation points"><span class="">33.3k</span></span><span title="21 badges"><span class="badge1">●</span><span class="badgecount">21</span></span><span title="309 badges"><span class="silver">●</span><span class="badgecount">309</span></span><span title="459 badges"><span class="bronze">●</span><span class="badgecount">459</span></span></p>
</div>
</div>
<div class="comments-container" id="comments-container-84087">
</div>
<div class="comment-tools" id="comment-tools-84087">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-84087-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    One Answer:
                    </div>
<div class="tabsA"><a href="/questions/84087/why-does-searching-for-pinneberg-bahnhof-find-the-train-station-in-wedel?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/84087/why-does-searching-for-pinneberg-bahnhof-find-the-train-station-in-wedel?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/84087/why-does-searching-for-pinneberg-bahnhof-find-the-train-station-in-wedel?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/84087/why-does-searching-for-pinneberg-bahnhof-find-the-train-station-in-wedel?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="84089"></a>
<div class="answer" id="answer-container-84089">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/84089/up/" id="post-84089-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-84089-score" title="current number of votes">
    1
</div>
<a class="ajax-command post-vote down" href="/vote/84089/down/" id="post-84089-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>The search engine on openstreetmap.org works with some fixed phrases to search for specific objects. You can search for <em>Bahnhof Pinneberg</em>, <em>Bahnhof in Pinneberg</em> or <em>Bahnhof bei Pinneberg</em> to find Pinneberg station. Even <em>Pinneberg Bahnhof</em> works but not if you separate the two terms with a comma.</p>
<p>Note that you might have to click on <em>Mehr Treffer</em> to get the desired feature shown.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/84089/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>03 Apr '22, 21:16</strong>
</p>
<img alt="TZorn's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/ddebc8d5f4e0458413eacf65e36561a9?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/10133/tzorn">TZorn</a><br/>
<span class="score" title="12350 reputation points"><span class="">12.3k</span></span><span title="7 badges"><span class="badge1">●</span><span class="badgecount">7</span></span><span title="64 badges"><span class="silver">●</span><span class="badgecount">64</span></span><span title="225 badges"><span class="bronze">●</span><span class="badgecount">225</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="TZorn has 63 accepted answers">15%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-84089">
<a name="84153"></a>
<div class="comment" id="comment-84153">
<div class="comment-score" id="post-84153-score"></div>
<div class="comment-text"><p>Thanks for your answer.</p>
<p>Of course I could stop using a comma in OSM queries which would solve this issue for me.</p>
<p>However, there are two more aspects to this:
a) When the search engine cannot find what I am looking for, then answering with a train station in a completely different city is highly confusing and can lead to substantial real-world problems for instance when the user uses the result for planning a journey. It would be much better when the search engine would tell the user that it could not find "Pinneberg, Bahnhof".</p>
<p>b) using comma to separate different levels in a hierarchy is pretty common. I highly doubt that I am the only person doing this. Google Maps has no problem with this. Maybe it would be worthwhile to add support for this to OSM as well?</p></div>
<div class="comment-info" id="comment-84153-info">
<span class="comment-age">(10 Apr '22, 23:07)</span>
<a class="comment-user userinfo" href="/users/21593/_bj">_Bj</a>
</div>
</div>
<a name="84158"></a>
<div class="comment" id="comment-84158">
<div class="comment-score" id="post-84158-score"></div>
<div class="comment-text"><p><a href="https://www.openstreetmap.org/">https://www.openstreetmap.org/</a> is originally not a map application users are supposed to use. The search is run by <a href="https://nominatim.openstreetmap.org/">https://nominatim.openstreetmap.org/</a> to verify the data structure. You should see if actual apps using OSM data (including: OSMAnd, Organic Maps, Qwant Maps, Arcane Maos, Mapy.cz, Magic Earth, or even Apple Maps) can provide the search result you need. They are allowed to  use different search engines, and add other data from sources incomaptible with this database (you can add add-ons yourself too, eg OpenAddresses in OSMAnd). You can also search the location in another app (eg Acastus Photon, or even Google), then open the result position in the map app you want to use.</p></div>
<div class="comment-info" id="comment-84158-info">
<span class="comment-age">(11 Apr '22, 16:50)</span>
<a class="comment-user userinfo" href="/users/16887/kovoschiz">Kovoschiz</a>
</div>
</div>
<a name="84161"></a>
<div class="comment" id="comment-84161">
<div class="comment-score" id="post-84161-score"></div>
<div class="comment-text"><p>The <a href="https://www.openstreetmap.org/node/1895255302">result shown for your query</a> was obviously not what you had looked for but it was not wrong. The result was not the "Bahnhof Pinneberg" but an object (a bicycle rental station actually) called "Bahnhof" which is located within "Kreis Pinneberg".</p>
<p>A comma might separate hierarchical items and the search engine Nominatim generally supports this use (e.g. you could have searched for "Bahnhof in Pinneberg, Schleswig-Holstein, Deutschland"). But station and city are not different levels of a hierarchy. Nominatim builds a geographical hierarchy (country, state, county, ...) from OSM data but station is an attribute of an object outside this hierarchy.<br/>
(1/2)</p></div>
<div class="comment-info" id="comment-84161-info">
<span class="comment-age">(12 Apr '22, 13:45)</span>
<a class="comment-user userinfo" href="/users/10133/tzorn">TZorn</a>
</div>
</div>
<a name="84162"></a>
<div class="comment" id="comment-84162">
<div class="comment-score" id="post-84162-score">1</div>
<div class="comment-text"><p>When you search for "Pinneberg, Bahnhof" Nominatim first returns the bicycle rental (an object named "Bahnhof" in "Kreis Pinneberg"), secondly a mail box with reference "Bahnhof" in "Kreis Pinneberg", and only on third rank your desired Pinneberg station (order of results is also influenced from where you start on the map so you might see a different order). Nominatim does not have any (or at least no advanced) logic built in predicting what the most likely result is a user is looking for. You need to scroll further down the result list or try some of the other search methods pointed out by Kovoschiz.
(2/2)</p></div>
<div class="comment-info" id="comment-84162-info">
<span class="comment-age">(12 Apr '22, 13:46)</span>
<a class="comment-user userinfo" href="/users/10133/tzorn">TZorn</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-84089">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-84089-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/84087/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="wnUCiOonu17UNvvlN3cOSSGfWf46kHHQ"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>