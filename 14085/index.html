<meta charset="utf-8"/><link href="../style.css" rel="stylesheet" type="text/css"/><div id="CALeft"><center><a href="../"><img id="ll" src="https://help.openstreetmap.org/upfiles/osm_help_logo_6.png"/></a></center>
<div class="headNormal">
<h1><a href="/questions/14085/osmosis-planetosm-to-postgresql-disk-space-caching">Osmosis Planet.osm to PostgreSQL disk space / caching</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/14085/up/" id="post-14085-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-14085-score" title="current number of votes">
    1
</div>
<a class="ajax-command post-vote down" href="/vote/14085/down/" id="post-14085-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/14085/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>Hey guys, I'm trying to dump a recent planet.osm file to a local PostgreSQL database on OS X. </p>
<p>I'm running a 120 GB SSD for my system drive, and a 500GB 7200RPM external drive for the database connected via Firewire 800.</p>
<p>When I run osmosis with a simple read-xml, write-pgsql command I notice my system drive (the SSD) in activity manager fills up while my database (on the 500GB external drive) isn't being populated at all, or used at all.</p>
<p>It's on this step: <code>Processing input data, building geometries and creating database load files.</code></p>
<p>Obviously the SSD isn't large enough to handle whatever operations are being cached / created. So my question is, what is osmosis creating in the background and is there a way to force it to utilize the other volume instead of the system default?</p>
<p>After some testing, I believe that Osmosis is utilizing the temp folder on OS X, which is why I am seeing drive usage on my system drive/my SSD.</p>
<p>I am unsure if I can relocated the temp folder or if Java / Osmosis can told made to use another directory.</p>
<p>THANKS!
-Cody</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-planet" href="/tags/planet/" rel="tag" title="see questions tagged 'planet'">planet</a>
<a class="post-tag tag-link-disk" href="/tags/disk/" rel="tag" title="see questions tagged 'disk'">disk</a>
<a class="post-tag tag-link-drive" href="/tags/drive/" rel="tag" title="see questions tagged 'drive'">drive</a>
<a class="post-tag tag-link-osmosis" href="/tags/osmosis/" rel="tag" title="see questions tagged 'osmosis'">osmosis</a>
<a class="post-tag tag-link-space" href="/tags/space/" rel="tag" title="see questions tagged 'space'">space</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>08 Jul '12, 21:59</strong>
</p>
<img alt="Smartkid's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/aa9f28cc449a272dbd654e8edf660877?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/4007/smartkid">Smartkid</a><br/>
<span class="score" title="26 reputation points">26</span><span title="3 badges"><span class="badge1">●</span><span class="badgecount">3</span></span><span title="3 badges"><span class="silver">●</span><span class="badgecount">3</span></span><span title="5 badges"><span class="bronze">●</span><span class="badgecount">5</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Smartkid has no accepted answers">0%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/14085/">
                edited
                <strong>08 Jul '12, 23:31</strong>
</a>
</p>
<img alt="Frederik%20Ramm's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/a2b38d937e70ab39d895d17da0dd1ba4?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/104/frederik-ramm">Frederik Ramm ♦</a><br/>
<span class="score" title="82494 reputation points"><span class="">82.5k</span></span><span title="92 badges"><span class="badge1">●</span><span class="badgecount">92</span></span><span title="720 badges"><span class="silver">●</span><span class="badgecount">720</span></span><span title="1273 badges"><span class="bronze">●</span><span class="badgecount">1273</span></span></p>
</div>
</div>
<div class="comments-container" id="comments-container-14085">
</div>
<div class="comment-tools" id="comment-tools-14085">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-14085-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    One Answer:
                    </div>
<div class="tabsA"><a href="/questions/14085/osmosis-planetosm-to-postgresql-disk-space-caching?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/14085/osmosis-planetosm-to-postgresql-disk-space-caching?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/14085/osmosis-planetosm-to-postgresql-disk-space-caching?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/14085/osmosis-planetosm-to-postgresql-disk-space-caching?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="14090"></a>
<div class="answer" id="answer-container-14090">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/14090/up/" id="post-14090-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-14090-score" title="current number of votes">
    4
</div>
<a class="ajax-command post-vote down" href="/vote/14090/down/" id="post-14090-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>You can set a different temporary directory with the command </p>
<pre><code>export JAVACMD_OPTIONS="-Djava.io.tmpdir=/dir/to/osm/tmp"
</code></pre>
<p>Also read the information about the <code>nodeLocationStorage</code> parameter on the <a href="http://wiki.openstreetmap.org/wiki/Osmosis/Detailed_Usage_0.41#--write-pgsql_.28--wp.29">Osmosis wiki page</a>.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/14090/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>08 Jul '12, 23:30</strong>
</p>
<img alt="Frederik%20Ramm's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/a2b38d937e70ab39d895d17da0dd1ba4?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/104/frederik-ramm">Frederik Ramm ♦</a><br/>
<span class="score" title="82494 reputation points"><span class="">82.5k</span></span><span title="92 badges"><span class="badge1">●</span><span class="badgecount">92</span></span><span title="720 badges"><span class="silver">●</span><span class="badgecount">720</span></span><span title="1273 badges"><span class="bronze">●</span><span class="badgecount">1273</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Frederik Ramm has 417 accepted answers">23%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-14090">
<a name="14155"></a>
<div class="comment" id="comment-14155">
<div class="comment-score" id="post-14155-score">1</div>
<div class="comment-text"><p>Thanks so much, this worked like a charm. </p>
<p>For those who are following, running the JAVACMD_OPTIONS line above will move the location on disk that Java uses as a temporary directory. </p>
<p>In my case, the default was OS X's temp dir which is automatically emptied on system restart. When I moved Java's tmp dir, an artifact was that Java's temp files are no longer automatically removed on system restart. You can simply delete the content of the folder you choose and/or reset the Java tmp dir afterwards. </p>
<p>Anyway, thanks Frederik!
-Cody</p></div>
<div class="comment-info" id="comment-14155-info">
<span class="comment-age">(10 Jul '12, 22:36)</span>
<a class="comment-user userinfo" href="/users/4007/smartkid">Smartkid</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-14090">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-14090-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/14085/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="xMFUMSN6845yNxT4CV5rg6Abuu9ylaBF"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>