<meta charset="UTF-8"><link rel="stylesheet" type="text/css" href="../style.css"><div id="CALeft">
<div class="headNormal">
<h1><a href="/questions/2261/lukavac-city-is-not-in-serbia">Lukavac city is not in Serbia</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/2261/up/" id="post-2261-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-2261-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/2261/down/" id="post-2261-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/2261/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>Hello, please add Lukavac to the Bosnia and Herzegovina! </p>
<p>In the map, Lukavac city is on Serbia... </p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-lukavac" href="/tags/lukavac/" rel="tag" title="see questions tagged 'lukavac'">lukavac</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>18 Jan '11, 14:30</strong>
</p>
<img alt="BAVARAC's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/972add1cc57807044efae8eb100112fe?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/694/bavarac">BAVARAC</a><br/>
<span class="score" title="1 reputation points">1</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="bronze">●</span><span class="badgecount">1</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="BAVARAC has no accepted answers">0%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/2261/">
                edited
                <strong>20 Jan '11, 10:46</strong>
</a>
</p>
<img alt="Richard's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/08324717c25d6067fa4ff23ef37d455f?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/5/richard">Richard ♦</a><br/>
<span class="score" title="30902 reputation points"><span class="">30.9k</span></span><span title="44 badges"><span class="badge1">●</span><span class="badgecount">44</span></span><span title="279 badges"><span class="silver">●</span><span class="badgecount">279</span></span><span title="412 badges"><span class="bronze">●</span><span class="badgecount">412</span></span></p>
</div>
</div>
<div class="comments-container" id="comments-container-2261">
<a name="2262"></a>
<div class="comment" id="comment-2262">
<div class="comment-score" id="post-2262-score"></div>
<div class="comment-text"><p>Someone will probably soon tell us that this is not the right place for issues like this, and that you instead should use <a href="http://openstreetbugs.schokokeks.org/">http://openstreetbugs.schokokeks.org/</a> for bugs in the map.</p>
<p>But I think the problem is still interesting: Why does Lukavac show up in Serbia in Nominatim, when for example Tuzla does not?</p>
<p><a href="http://open.mapquestapi.com/nominatim/v1/details.php?place_id=7618777">http://open.mapquestapi.com/nominatim/v1/details.php?place_id=7618777</a> shows a polygon which I can't find when I open the area in JOSM. Is that (deleted?) polygon the cause - and how can I find it? Or maybe the polygon is virtual and just built up of the surburbs where Lukavac is parent?</p></div>
<div class="comment-info" id="comment-2262-info">
<span class="comment-age">(18 Jan '11, 15:57)</span>
<a class="comment-user userinfo" href="/users/652/gnurk">gnurk</a>
</div>
</div>
<a name="2281"></a>
<div class="comment" id="comment-2281">
<div class="comment-score" id="post-2281-score"></div>
<div class="comment-text"><p>Yes it's virtual, if they don't use any other source of data which would be very bad of them imo.</p></div>
<div class="comment-info" id="comment-2281-info">
<span class="comment-age">(19 Jan '11, 07:47)</span>
<a class="comment-user userinfo" href="/users/188/emj">emj</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-2261">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-2261-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    2 Answers:
                    </div>
<div class="tabsA"><a href="/questions/2261/lukavac-city-is-not-in-serbia?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/2261/lukavac-city-is-not-in-serbia?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/2261/lukavac-city-is-not-in-serbia?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/2261/lukavac-city-is-not-in-serbia?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="2319"></a>
<div class="answer" id="answer-container-2319">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/2319/up/" id="post-2319-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-2319-score" title="current number of votes">
    6
</div>
<a class="ajax-command post-vote down" href="/vote/2319/down/" id="post-2319-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>The answer is that until recently the Bosnia and Herzegovina polygon (<a href="http://www.openstreetmap.org/browse/relation/214908">http://www.openstreetmap.org/browse/relation/214908</a>) was broken.  Without a valid polygon all Nominatim can do is to select the nearest country node which is mostly wrong, but better than nothing.</p>
<p>Unfortunately, because of resource limits, Nominatim can not currently update an entire countries worth of data when the polygon was fixed and so country level polygons are deliberately excluded from triggering re-indexing.</p>
<p>When you recently edited the Lukavac node you caused it to re-index this point and the data now works.  It would have started working without the is_in tag - it just needed anything that triggered re-indexing.</p>
<p>This is a problem and it is being worked on.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/2319/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>20 Jan '11, 13:32</strong>
</p>
<img alt="twain's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/bda08a105bb6a4a606d47c1b27187fac?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/4/twain">twain</a><br/>
<span class="score" title="2381 reputation points"><span class="">2.4k</span></span><span title="25 badges"><span class="silver">●</span><span class="badgecount">25</span></span><span title="38 badges"><span class="bronze">●</span><span class="badgecount">38</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="twain has 15 accepted answers">40%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-2319">
</div>
<div class="comment-tools" id="comment-tools-2319">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-2319-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="2272"></a>
<div class="answer" id="answer-container-2272">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/2272/up/" id="post-2272-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-2272-score" title="current number of votes">
    -2
</div>
<a class="ajax-command post-vote down" href="/vote/2272/down/" id="post-2272-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>Perhaps adding is_in:country = "Bosnia and Herzegovina" to <a href="http://www.openstreetmap.org/browse/node/367404258">the node for Lukavac</a>, the search is only as good as the data.</p>
<p>Compare the tags:</p>
<pre><code>name=Lukavac
is_in=Bosnia and Herzegovina
place=town
</code></pre>
<p>The <a href="http://www.openstreetmap.org/browse/node/275005833">Tuzla node</a> (which shown as Bosnia &amp; Herzegovina</p>
<pre><code>is_in=Tuzla, Federation, Bosnia and Herzegovina
is_in:continent=Europe
name=Tuzla
</code></pre>
<p>The <a href="http://www.openstreetmap.org/browse/node/25929985">Stockholm node</a> has a lot of tags for these kind of searches. e.g.:</p>
<pre><code>is_in:city = Stockholm
is_in:continent = Europe
is_in:country = Sweden
is_in:country_code = SE
is_in:county = Stockholms län
is_in:kommun = Stockholm
is_in:landskap = Södermanland, Uppland
is_in:municipality = Stockholm
</code></pre>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/2272/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>19 Jan '11, 01:17</strong>
</p>
<img alt="emj's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/dd3858f5f89f5a6b738f9dbe59824440?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/188/emj">emj</a><br/>
<span class="score" title="2024 reputation points"><span class="">2.0k</span></span><span title="12 badges"><span class="badge1">●</span><span class="badgecount">12</span></span><span title="35 badges"><span class="silver">●</span><span class="badgecount">35</span></span><span title="47 badges"><span class="bronze">●</span><span class="badgecount">47</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="emj has 11 accepted answers">15%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/2272/">
                edited
                <strong>19 Jan '11, 08:05</strong>
</a>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-2272">
<a name="2274"></a>
<div class="comment" id="comment-2274">
<div class="comment-score" id="post-2274-score">1</div>
<div class="comment-text"><p>Well, loading the node with even more of the controversial is_in tags might solve the problem, but I think it would be interesting to understand the root cause why Nominatim thinks Lukavac is in Serbia before hiding the symptoms.</p></div>
<div class="comment-info" id="comment-2274-info">
<span class="comment-age">(19 Jan '11, 01:53)</span>
<a class="comment-user userinfo" href="/users/652/gnurk">gnurk</a>
</div>
</div>
<a name="2280"></a>
<div class="comment" id="comment-2280">
<div class="comment-score" id="post-2280-score"></div>
<div class="comment-text"><p>Nominatim isn't very consistent one thing works one week is changed the other, so change the data and hope that some other city is put in Serbia and then you have more data.</p></div>
<div class="comment-info" id="comment-2280-info">
<span class="comment-age">(19 Jan '11, 07:40)</span>
<a class="comment-user userinfo" href="/users/188/emj">emj</a>
</div>
</div>
<a name="2282"></a>
<div class="comment" id="comment-2282">
<div class="comment-score" id="post-2282-score"></div>
<div class="comment-text"><p>The is_in haters have no other solution, so practically it is atm better with is_in than any other non existing solution.</p></div>
<div class="comment-info" id="comment-2282-info">
<span class="comment-age">(19 Jan '11, 08:07)</span>
<a class="comment-user userinfo" href="/users/188/emj">emj</a>
</div>
</div>
<a name="2286"></a>
<div class="comment" id="comment-2286">
<div class="comment-score" id="post-2286-score"></div>
<div class="comment-text"><p>Sure there is another solution to is_in. Closed (and hopefully correct) administrative boundaries as either ways or relations.</p></div>
<div class="comment-info" id="comment-2286-info">
<span class="comment-age">(19 Jan '11, 08:54)</span>
<a class="comment-user userinfo" href="/users/8/petschge">petschge</a>
</div>
</div>
<a name="2292"></a>
<div class="comment not_top_scorer" id="comment-2292">
<div class="comment-score" id="post-2292-score"></div>
<div class="comment-text"><p>I have now added is_in:country = Bosnia and Herzegovina to the Lukavac node.</p>
<p>I guess we have to wait some days to see the result. Nominatim currently says the data is from 2011/01/16.</p></div>
<div class="comment-info" id="comment-2292-info">
<span class="comment-age">(19 Jan '11, 10:56)</span>
<a class="comment-user userinfo" href="/users/652/gnurk">gnurk</a>
</div>
</div>
<a name="2316"></a>
<div class="comment not_top_scorer" id="comment-2316">
<div class="comment-score" id="post-2316-score"></div>
<div class="comment-text"><p>emj, please don't be so aggressive ("and you know it", "it's not like I'm telling you"). This is a help site. If you want to start a flame-war please use the mailing lists.</p></div>
<div class="comment-info" id="comment-2316-info">
<span class="comment-age">(20 Jan '11, 10:47)</span>
<a class="comment-user userinfo" href="/users/5/richard">Richard ♦</a>
</div>
</div>
<a name="2317"></a>
<div class="comment" id="comment-2317">
<div class="comment-score" id="post-2317-score">1</div>
<div class="comment-text"><p>Richard: Not intended to sound aggressive at all,  but I know I was annoyed to have stuff recommended that just doesn't work with no rationale about the question that is supposed to be solved. Deleting the comment seems to work ok, and doesn't make the discussion seem strange.</p></div>
<div class="comment-info" id="comment-2317-info">
<span class="comment-age">(20 Jan '11, 12:06)</span>
<a class="comment-user userinfo" href="/users/188/emj">emj</a>
</div>
</div>
<a name="2320"></a>
<div class="comment not_top_scorer" id="comment-2320">
<div class="comment-score" id="post-2320-score"></div>
<div class="comment-text"><p>Thanks! :)</p></div>
<div class="comment-info" id="comment-2320-info">
<span class="comment-age">(20 Jan '11, 13:34)</span>
<a class="comment-user userinfo" href="/users/5/richard">Richard ♦</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-2272">
<span class="comments-showing">
            showing 5 of 8
        </span>
<a class="show-all-comments-link" href="#">show 3 more comments</a>
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-2272-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/2261/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="nwk4LWXn7kgjATigZnRh30WKfvN6srC2"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>