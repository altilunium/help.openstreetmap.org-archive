<meta charset="UTF-8"><link rel="stylesheet" type="text/css" href="../style.css"><div id="CALeft">
<div class="headNormal">
<h1><a href="/questions/11853/osmosis-lonlat-value-changes">Osmosis lon/lat value changes</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/11853/up/" id="post-11853-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-11853-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/11853/down/" id="post-11853-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/11853/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>Hi,</p>
<p>I have 'successfully' extracted the data from my planet.osm into my DB using Osmosis but have noticed that the lon/lat values have been altered. For example: -1.297504, 50.964552 has now become -15112163, 513073058.</p>
<p>Am I just being stupid or does this seem a little wrong? Any help would be greatly appreciated.</p>
<p>Many Thanks.</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-latitude" href="/tags/latitude/" rel="tag" title="see questions tagged 'latitude'">latitude</a>
<a class="post-tag tag-link-changes" href="/tags/changes/" rel="tag" title="see questions tagged 'changes'">changes</a>
<a class="post-tag tag-link-longitude" href="/tags/longitude/" rel="tag" title="see questions tagged 'longitude'">longitude</a>
<a class="post-tag tag-link-osmosis" href="/tags/osmosis/" rel="tag" title="see questions tagged 'osmosis'">osmosis</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>09 Apr '12, 23:24</strong>
</p>
<img alt="stevethepenguin's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/8eed33fb797dd7f32b1bd6654bafce0b?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/3306/stevethepenguin">stevethepenguin</a><br/>
<span class="score" title="1 reputation points">1</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">●</span><span class="badgecount">1</span></span><span title="2 badges"><span class="bronze">●</span><span class="badgecount">2</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="stevethepenguin has no accepted answers">0%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-11853">
</div>
<div class="comment-tools" id="comment-tools-11853">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-11853-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    2 Answers:
                    </div>
<div class="tabsA"><a href="/questions/11853/osmosis-lonlat-value-changes?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/11853/osmosis-lonlat-value-changes?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/11853/osmosis-lonlat-value-changes?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/11853/osmosis-lonlat-value-changes?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="11857"></a>
<div class="answer" id="answer-container-11857">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/11857/up/" id="post-11857-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-11857-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/11857/down/" id="post-11857-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>Hi,<br/>
this definitely does not look right. Can you provide more information about your database projection and the command with parameters you used to import? How did you get those coordinate values? Did you use ST_AsText() on the geometry column?</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/11857/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>10 Apr '12, 07:29</strong>
</p>
<img alt="frabron's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/30b87850d86c99d1c4f1f72c9abaeb52?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/3216/frabron">frabron</a><br>
<span class="score" title="361 reputation points">361</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="4 badges"><span class="silver">●</span><span class="badgecount">4</span></span><span title="11 badges"><span class="bronze">●</span><span class="badgecount">11</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="frabron has 2 accepted answers">16%</span>
</br></p>
</div>
</div>
<div class="comments-container" id="comments-container-11857">
<a name="11862"></a>
<div class="comment" id="comment-11862">
<div class="comment-score" id="post-11862-score"></div>
<div class="comment-text"><p>Hi,</p>
<p>I'm using a mySQL DB as my host doesn't provide PostgreSQL. The coordinates I have provided are for my local pub and have been obtained from the XAPI web service (and double checked with Google Maps). I used the following command/parameters for the import:</p></div>
<div class="comment-info" id="comment-11862-info">
<span class="comment-age">(10 Apr '12, 09:55)</span>
<a class="comment-user userinfo" href="/users/3306/stevethepenguin">stevethepenguin</a>
</div>
</div>
<a name="11863"></a>
<div class="comment" id="comment-11863">
<div class="comment-score" id="post-11863-score"></div>
<div class="comment-text"><p>osmosis --read-xml file=hampshire.osm --node-key-value keyValueList="railway.station,railway.subway_entrance,amenity.parking,
amenity.bar,amenity.pub,amenity.fast_food,amenity.restaurant,amenity.atm,amenity.bank" --write-apidb authFile=auth.config</p>
<p>The above code runs through without any errors and all information is inserted into the DB but the coordinates are heavily altered.</p>
<p>Thanks.</p></div>
<div class="comment-info" id="comment-11863-info">
<span class="comment-age">(10 Apr '12, 09:55)</span>
<a class="comment-user userinfo" href="/users/3306/stevethepenguin">stevethepenguin</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-11857">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-11857-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="11864"></a>
<div class="answer" id="answer-container-11864">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/11864/up/" id="post-11864-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-11864-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/11864/down/" id="post-11864-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>I don't know MySQL very well, but of what type is your geometry column? I believe there is a conversion error while inserting the coordinates from osmosis into the database ...</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/11864/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>10 Apr '12, 11:08</strong>
</p>
<img alt="frabron's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/30b87850d86c99d1c4f1f72c9abaeb52?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/3216/frabron">frabron</a><br/>
<span class="score" title="361 reputation points">361</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="4 badges"><span class="silver">●</span><span class="badgecount">4</span></span><span title="11 badges"><span class="bronze">●</span><span class="badgecount">11</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="frabron has 2 accepted answers">16%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-11864">
<a name="11865"></a>
<div class="comment" id="comment-11865">
<div class="comment-score" id="post-11865-score"></div>
<div class="comment-text"><p>The mySQL DB doesn't use a single geometry column - it use two separate columns (one for lon, one for lat) with the double data type.</p></div>
<div class="comment-info" id="comment-11865-info">
<span class="comment-age">(10 Apr '12, 11:26)</span>
<a class="comment-user userinfo" href="/users/3306/stevethepenguin">stevethepenguin</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-11864">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-11864-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/11853/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="TqPORuZ3cJonyesVsLfPaXbTJu01VY5z"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>