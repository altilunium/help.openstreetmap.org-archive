<meta charset="UTF-8"><link rel="stylesheet" type="text/css" href="../style.css"><div id="CALeft">
<div class="headNormal">
<h1><a href="/questions/79613/multipolygon-taiwan-strait-does-not-show-in-nominatim-search">Multipolygon Taiwan Strait does not show in Nominatim search</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/79613/up/" id="post-79613-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-79613-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/79613/down/" id="post-79613-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/79613/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>Hello,</p>
<p>When I search "Taiwan Strait" ( <a href="https://www.openstreetmap.org/search?query=Taiwan%20Strait">https://www.openstreetmap.org/search?query=Taiwan%20Strait</a> ), the correct multipolyon result ( <a href="https://www.openstreetmap.org/relation/9348353,">https://www.openstreetmap.org/relation/9348353,</a> it's a big one so might take a while to load ) does not shown in the result.</p>
<p>I checked the multipolyon in JOSM and it's quite complex one.</p>
<p>Is this a bug in Nominatim or issue in the strait multipolygon?</p>
<p>Thanks in advance!</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-nominatim" href="/tags/nominatim/" rel="tag" title="see questions tagged 'nominatim'">nominatim</a>
<a class="post-tag tag-link-strait" href="/tags/strait/" rel="tag" title="see questions tagged 'strait'">strait</a>
<a class="post-tag tag-link-multipolygon" href="/tags/multipolygon/" rel="tag" title="see questions tagged 'multipolygon'">multipolygon</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>11 Apr '21, 22:51</strong>
</p>
<img alt="strongwillow's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/e39830800041c01c0ad201916e2c4065?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/12575/strongwillow">strongwillow</a><br/>
<span class="score" title="65 reputation points">65</span><span title="7 badges"><span class="badge1">●</span><span class="badgecount">7</span></span><span title="8 badges"><span class="silver">●</span><span class="badgecount">8</span></span><span title="13 badges"><span class="bronze">●</span><span class="badgecount">13</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="strongwillow has no accepted answers">0%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/79613/">
                edited
                <strong>11 Apr '21, 22:54</strong>
</a>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-79613">
</div>
<div class="comment-tools" id="comment-tools-79613">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-79613-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    2 Answers:
                    </div>
<div class="tabsA"><a href="/questions/79613/multipolygon-taiwan-strait-does-not-show-in-nominatim-search?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/79613/multipolygon-taiwan-strait-does-not-show-in-nominatim-search?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/79613/multipolygon-taiwan-strait-does-not-show-in-nominatim-search?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/79613/multipolygon-taiwan-strait-does-not-show-in-nominatim-search?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="79616"></a>
<div class="answer" id="answer-container-79616">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/79616/up/" id="post-79616-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-79616-score" title="current number of votes">
    5
</div>
<a class="ajax-command post-vote down" href="/vote/79616/down/" id="post-79616-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>Mapping these bays and straits as multipolygons is error prone (they are easy to break), pollutes the database with countless versions (every time someone splits a pice of coastline, a new version of the relation must be uploaded), creates giant objects that complicate editing for everyone (there is a reason we don't map oceans as polygons...), and serves no purpose that could not equally be served by a node. When I encounter polygons like that, I usually replace them with a node. I have done that here now.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/79616/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>12 Apr '21, 00:06</strong>
</p>
<img alt="Frederik%20Ramm's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/a2b38d937e70ab39d895d17da0dd1ba4?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/104/frederik-ramm">Frederik Ramm ♦</a><br/>
<span class="score" title="82494 reputation points"><span class="">82.5k</span></span><span title="92 badges"><span class="badge1">●</span><span class="badgecount">92</span></span><span title="720 badges"><span class="silver">●</span><span class="badgecount">720</span></span><span title="1273 badges"><span class="bronze">●</span><span class="badgecount">1273</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Frederik Ramm has 417 accepted answers">23%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-79616">
<a name="79618"></a>
<div class="comment" id="comment-79618">
<div class="comment-score" id="post-79618-score"></div>
<div class="comment-text"><p>Hi <a href="https://help.openstreetmap.org/users/104/frederik-ramm">@Frederik</a>, I also don't like this kind of super large multipolygon for all sorts of reasons. Thanks for confirming this is bad mapping.</p>
<p>However I don't quite agree to replace that with just a node. A strait node is rendered usually insignificantly. How about a simple polygon like English Channel: <a href="https://www.openstreetmap.org/way/920269202">https://www.openstreetmap.org/way/920269202</a> It's a rough approximation but it's good enough for different purpose</p></div>
<div class="comment-info" id="comment-79618-info">
<span class="comment-age">(12 Apr '21, 09:31)</span>
<a class="comment-user userinfo" href="/users/12575/strongwillow">strongwillow</a>
</div>
</div>
<a name="79621"></a>
<div class="comment" id="comment-79621">
<div class="comment-score" id="post-79621-score">2</div>
<div class="comment-text"><p>That English Channel polygon is terrible. It doesn't even have holes for the Channel Islands. It will break anything which renders water polygons above land.</p></div>
<div class="comment-info" id="comment-79621-info">
<span class="comment-age">(12 Apr '21, 11:03)</span>
<a class="comment-user userinfo" href="/users/5/richard">Richard ♦</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-79616">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-79616-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="79614"></a>
<div class="answer" id="answer-container-79614">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/79614/up/" id="post-79614-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-79614-score" title="current number of votes">
    2
</div>
<a class="ajax-command post-vote down" href="/vote/79614/down/" id="post-79614-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>The main polygon looks broken when I inspect with the JOSM editor. All elements (ways) exist but there's two gaps and some ways are not in the correct order. Sadly <a href="http://ra.osmsurround.org/analyzeRelation">http://ra.osmsurround.org/analyzeRelation</a> times out for me for this relation, it's huge. Once fixed Nominatim will import it and link the node to the relation (based on position and wikidata id).</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/79614/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>11 Apr '21, 23:06</strong>
</p>
<img alt="mtmail's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/96aad1e1801b7ea36fba50687924c935?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/150/mtmail">mtmail</a><br/>
<span class="score" title="4757 reputation points"><span class="">4.8k</span></span><span title="15 badges"><span class="silver">●</span><span class="badgecount">15</span></span><span title="74 badges"><span class="bronze">●</span><span class="badgecount">74</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="mtmail has 50 accepted answers">27%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-79614">
<a name="79615"></a>
<div class="comment" id="comment-79615">
<div class="comment-score" id="post-79615-score">1</div>
<div class="comment-text"><p>for example a gap between <a href="https://www.openstreetmap.org/way/207552518">https://www.openstreetmap.org/way/207552518</a> and <a href="https://www.openstreetmap.org/way/225761779">https://www.openstreetmap.org/way/225761779</a></p></div>
<div class="comment-info" id="comment-79615-info">
<span class="comment-age">(11 Apr '21, 23:09)</span>
<a class="comment-user userinfo" href="/users/150/mtmail">mtmail</a>
</div>
</div>
<a name="79617"></a>
<div class="comment" id="comment-79617">
<div class="comment-score" id="post-79617-score"></div>
<div class="comment-text"><p>Thanks for checking. Indeed large multipolygon tends to break</p></div>
<div class="comment-info" id="comment-79617-info">
<span class="comment-age">(12 Apr '21, 09:24)</span>
<a class="comment-user userinfo" href="/users/12575/strongwillow">strongwillow</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-79614">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-79614-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/79613/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="0Hn02JjPMRuPR9rodXvOxUHhntm7Kr66"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>