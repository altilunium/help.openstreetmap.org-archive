<meta charset="UTF-8"><link rel="stylesheet" type="text/css" href="../style.css"><div id="CALeft">
<div class="headNormal">
<h1><a href="/questions/49370/multiple-questions-about-relations-routes">Multiple questions about relations / routes</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/49370/up/" id="post-49370-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-49370-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/49370/down/" id="post-49370-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/49370/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>I'm trying to learn how to properly create relations for MTB way routes and have the following questions:</p>
<ol>
<li>Is it possible to create a relation route by just designating the relation for a subset of way segment nodes instead of entire way segments?  This would allow route creation without having to split ways into segments at all intersections where the route turns onto a new way.  There would be no direction to the route but that is not a problem for the routes I want to create (they can be ridden either direction).</li>
<li>(Assuming routes must consist of way segments with direction specified correctly), how do you handle a single route that passes over the same way segment twice but in opposite directions?</li>
<li>Related to 2., how do you handle multiple routes that use the same way segment but in opposite directions?  I have read that you can duplicate the way segment so you have two spatially identical way segments "on top of each other" but with opposite directions.  Is that the correct way to do this?  I worry that subsequent tag or other edits to the "top" way segment might miss the duplicate "bottom" segment.  Also whether that would foul up name rendering if there are two identical segments with the same name rendered twice.</li>
<li>Are there any detailed tutorials / info sources explaining how to create relations to designate routes for ways?  Please reference if so.</li>
</ol>
<p>Thanks for the assistance.</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-mtb" href="/tags/mtb/" rel="tag" title="see questions tagged 'mtb'">mtb</a>
<a class="post-tag tag-link-route" href="/tags/route/" rel="tag" title="see questions tagged 'route'">route</a>
<a class="post-tag tag-link-relation" href="/tags/relation/" rel="tag" title="see questions tagged 'relation'">relation</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>23 Apr '16, 03:14</strong>
</p>
<img alt="hdmtb's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/efc638db6236b1d5523fb3e1c58a5ac5?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/12217/hdmtb">hdmtb</a><br/>
<span class="score" title="11 reputation points">11</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">●</span><span class="badgecount">1</span></span><span title="3 badges"><span class="bronze">●</span><span class="badgecount">3</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="hdmtb has no accepted answers">0%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-49370">
<a name="49383"></a>
<div class="comment" id="comment-49383">
<div class="comment-score" id="post-49383-score"></div>
<div class="comment-text"><p>meta: here <a href="/faq/">on this site</a> please ask one question only in one "question" entry. That makes it more helpful for other people in the future.</p></div>
<div class="comment-info" id="comment-49383-info">
<span class="comment-age">(23 Apr '16, 21:42)</span>
<a class="comment-user userinfo" href="/users/5179/aseerel4c26">aseerel4c26 ♦</a>
</div>
</div>
<a name="83130"></a>
<div class="comment" id="comment-83130">
<div class="comment-score" id="post-83130-score"></div>
<div class="comment-text"><p>re: route with nodes instead of ways
I asked myself exactly the same question while mapping foot route in the city. Splitting many ways absolutely makes future maintenance way more complicated.
Have you found any interesting feedback regarding this topic?</p></div>
<div class="comment-info" id="comment-83130-info">
<span class="comment-age">(20 Jan '22, 23:52)</span>
<a class="comment-user userinfo" href="/users/16784/yrtimid">yrtimiD</a>
</div>
</div>
<a name="83137"></a>
<div class="comment" id="comment-83137">
<div class="comment-score" id="post-83137-score"></div>
<div class="comment-text"><p>maxerickson's answer below is still valid. You need to split the way.</p></div>
<div class="comment-info" id="comment-83137-info">
<span class="comment-age">(21 Jan '22, 07:53)</span>
<a class="comment-user userinfo" href="/users/10133/tzorn">TZorn</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-49370">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-49370-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    2 Answers:
                    </div>
<div class="tabsA"><a href="/questions/49370/multiple-questions-about-relations-routes?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/49370/multiple-questions-about-relations-routes?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/49370/multiple-questions-about-relations-routes?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/49370/multiple-questions-about-relations-routes?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="49372"></a>
<div class="answer" id="answer-container-49372">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/49372/up/" id="post-49372-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-49372-score" title="current number of votes">
    3
</div>
<a class="ajax-command post-vote down" href="/vote/49372/down/" id="post-49372-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>Routes don't have to have a direction. It's fine to split ways where needed for modeling something. Alternative ways of modeling the difference reflected in the split would anyway be just as complicated.</p>
<p>If a way can have traffic in both directions, there's no problem using it for routes that traverse it in one direction or the other. Ways should not overlap.</p>
<p>So a route can have a direction, in which case the ways would be marked as forward or backward, but it is not necessary, many ways just have a blank role, with no info about direction. The is some indication of this on the wiki page for routes:</p>
<p><a href="http://wiki.openstreetmap.org/wiki/Relation:route#Members">http://wiki.openstreetmap.org/wiki/Relation:route#Members</a></p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/49372/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>23 Apr '16, 05:55</strong>
</p>
<img alt="maxerickson's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/c860445e868ebb21da141635a4aa7b06?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/10973/maxerickson">maxerickson</a><br/>
<span class="score" title="12700 reputation points"><span class="">12.7k</span></span><span title="10 badges"><span class="badge1">●</span><span class="badgecount">10</span></span><span title="83 badges"><span class="silver">●</span><span class="badgecount">83</span></span><span title="176 badges"><span class="bronze">●</span><span class="badgecount">176</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="maxerickson has 93 accepted answers">32%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-49372">
<a name="49378"></a>
<div class="comment" id="comment-49378">
<div class="comment-score" id="post-49378-score"></div>
<div class="comment-text"><p>Thanks for input.  Still wondering about renderings that for example include arrows alongside routes to indicate intended direction.  If all segments are not using the "correct" direction for a given route, those arrows will be confusing.</p>
<p>Also - should I include just the ways without nodes in the relations, or include ways and their nodes?</p>
<p>Thanks.</p></div>
<div class="comment-info" id="comment-49378-info">
<span class="comment-age">(23 Apr '16, 14:45)</span>
<a class="comment-user userinfo" href="/users/12217/hdmtb">hdmtb</a>
</div>
</div>
<a name="49379"></a>
<div class="comment" id="comment-49379">
<div class="comment-score" id="post-49379-score"></div>
<div class="comment-text"><p>Don't include nodes of ways. They can and should be automatically derived from ways. Also it just makes it way more difficult to keep the relation up to date since nodes can be added and removed from ways.</p></div>
<div class="comment-info" id="comment-49379-info">
<span class="comment-age">(23 Apr '16, 18:01)</span>
<a class="comment-user userinfo" href="/users/158/scai">scai ♦</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-49372">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-49372-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="49375"></a>
<div class="answer" id="answer-container-49375">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/49375/up/" id="post-49375-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-49375-score" title="current number of votes">
    2
</div>
<a class="ajax-command post-vote down" href="/vote/49375/down/" id="post-49375-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>2&amp;3 : Add the way twice in the relation,  and ensure that all the ways come in the proper order in the relation. You can add roles forward  and backward but it is not mandatory : usually routes can be used in both directions. </p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/49375/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>23 Apr '16, 06:46</strong>
</p>
<img alt="yvecai's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/3c7cffe544d6a1c46c97a25b2fdcdedc?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/5587/yvecai">yvecai</a><br/>
<span class="score" title="1481 reputation points"><span class="">1.5k</span></span><span title="12 badges"><span class="silver">●</span><span class="badgecount">12</span></span><span title="26 badges"><span class="bronze">●</span><span class="badgecount">26</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="yvecai has 7 accepted answers">9%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-49375">
</div>
<div class="comment-tools" id="comment-tools-49375">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-49375-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/49370/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="ORGVJpboVhWA3C2KGFKqHT2IR2F4Rgdt"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>