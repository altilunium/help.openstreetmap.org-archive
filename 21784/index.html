<meta charset="utf-8"/><link href="../style.css" rel="stylesheet" type="text/css"/><div id="CALeft"><center><a href="../"><img id="ll" src="https://help.openstreetmap.org/upfiles/osm_help_logo_6.png"/></a></center>
<div class="headNormal">
<h1><a href="/questions/21784/render-place-name-in-two-languages-with-mapnik">render place name in two languages with mapnik</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/21784/up/" id="post-21784-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-21784-score" title="current number of votes">
    1
</div>
<a class="ajax-command post-vote down" href="/vote/21784/down/" id="post-21784-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/21784/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>Hi All,</p>
<p>Is it possible to render place names (areas, river, streets, etc.) with two languages: place name in local language and its English translation near?</p>
<p>Thank you.</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-rendering" href="/tags/rendering/" rel="tag" title="see questions tagged 'rendering'">rendering</a>
<a class="post-tag tag-link-mapnik" href="/tags/mapnik/" rel="tag" title="see questions tagged 'mapnik'">mapnik</a>
<a class="post-tag tag-link-placenames" href="/tags/placenames/" rel="tag" title="see questions tagged 'placenames'">placenames</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>24 Apr '13, 14:57</strong>
</p>
<img alt="jvalcenko's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/23c04d8569cab5c5dbc443ea3a2c837e?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/6216/jvalcenko">jvalcenko</a><br/>
<span class="score" title="31 reputation points">31</span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="1 badges"><span class="silver">●</span><span class="badgecount">1</span></span><span title="2 badges"><span class="bronze">●</span><span class="badgecount">2</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="jvalcenko has no accepted answers">0%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/21784/">
                edited
                <strong>30 Sep '13, 18:18</strong>
</a>
</p>
<img alt="aseerel4c26's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/66f0dc05b44574e3894be07b0b37cf37?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/5179/aseerel4c26">aseerel4c26 ♦</a><br/>
<span class="score" title="32615 reputation points"><span class="">32.6k</span></span><span title="18 badges"><span class="badge1">●</span><span class="badgecount">18</span></span><span title="248 badges"><span class="silver">●</span><span class="badgecount">248</span></span><span title="554 badges"><span class="bronze">●</span><span class="badgecount">554</span></span></p>
</div>
</div>
<div class="comments-container" id="comments-container-21784">
</div>
<div class="comment-tools" id="comment-tools-21784">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-21784-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    2 Answers:
                    </div>
<div class="tabsA"><a href="/questions/21784/render-place-name-in-two-languages-with-mapnik?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/21784/render-place-name-in-two-languages-with-mapnik?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/21784/render-place-name-in-two-languages-with-mapnik?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/21784/render-place-name-in-two-languages-with-mapnik?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="21786"></a>
<div class="answer accepted-answer" id="answer-container-21786">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/21786/up/" id="post-21786-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-21786-score" title="current number of votes">
    5
</div>
<a class="ajax-command post-vote down" href="/vote/21786/down/" id="post-21786-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="accept-answer on" href="/accept_answer/21786/" rel="nofollow" title="jvalcenko has selected this answer as the correct answer">
</a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>Yes. You can see the MapQuest rendering already does something like this: <a href="http://osm.org/go/0t2tSf--?layers=Q">http://osm.org/go/0t2tSf--?layers=Q</a></p>
<p>For your own rendering, the best way to do this is likely in your PostgreSQL query. There you can add some logic to make sure all of the labels make sense, such as not including the English translation if it is the same as the local name. You'll need to make sure you have imported the <code>name:en</code> column as well as the local name. (If you are using osm2pgsql you will need to adjust your <a href="http://wiki.openstreetmap.org/wiki/Osm2pgsql#Import_style">import style</a>, or you can use hstore to import all tags, option <code>-k</code> (or <code>--hstore</code>), which obviates the need to change the default style.)</p>
<p>Here is an example query from an osm2pgsql import for a places layer. If there is a <code>name:en</code> tag for a place that is different from the <code>name</code> tag, the name will look like "Local Name (English Name)", otherwise you will just get "Local Name".</p>
<pre><code>( select way,
    case when "name:en" is not null and "name:en" &lt;&gt; name
      then name || ' (' || "name:en" || ')'
      else name end as name
  from planet_osm_point
  where place in ('city', 'town', 'village', 'hamlet')
) as places
</code></pre>
<p>When using the hstore option replace <code>"name:en"</code> with <code>tags-&gt;'name:en'</code>.</p>
<p>A simple approach is to import into PostGIS using alternative table names, using the <code>-p</code> option, and then create views with the standard Mapnik stylesheet names. The easiest way to build the view is to query all the column names (<code>select column_name from information_schema.columns where table_name ='TAB_NAME'</code>) and use this as the basis for creating the view. Only the name column needs to be changed as shown above. (An untested example is <a href="http://pastebin.com/E8jWVcsn">here</a> on pastebin)</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/21786/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>24 Apr '13, 15:25</strong>
</p>
<img alt="ajashton's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/90af4b163a309869d590111d8114836a?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/3248/ajashton">ajashton</a><br/>
<span class="score" title="170 reputation points">170</span><span title="5 badges"><span class="silver">●</span><span class="badgecount">5</span></span><span title="6 badges"><span class="bronze">●</span><span class="badgecount">6</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="ajashton has one accepted answer">33%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/21786/">
                edited
                <strong>30 Sep '13, 10:53</strong>
</a>
</p>
<img alt="SK53's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/06cd84075f1adc2870ad102c7233e661?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/647/sk53">SK53 ♦</a><br/>
<span class="score" title="28084 reputation points"><span class="">28.1k</span></span><span title="48 badges"><span class="badge1">●</span><span class="badgecount">48</span></span><span title="268 badges"><span class="silver">●</span><span class="badgecount">268</span></span><span title="433 badges"><span class="bronze">●</span><span class="badgecount">433</span></span></p>
</div>
</div>
<div class="comments-container" id="comments-container-21786">
</div>
<div class="comment-tools" id="comment-tools-21786">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-21786-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="21882"></a>
<div class="answer" id="answer-container-21882">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/21882/up/" id="post-21882-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-21882-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/21882/down/" id="post-21882-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>Like in <a href="http://osm-tools.org/">http://osm-tools.org</a> -&gt; thaimap ?</p>
<p>Ask the maintainer of that site: scroll down the page to see contact data.
Or read his explanation how he did that.</p>
<p>Also see <a href="http://wiki.openstreetmap.org/wiki/Map_internationalization">Map_internationalization</a> in general.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/21882/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>26 Apr '13, 13:38</strong>
</p>
<img alt="stephan75's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/245b73d4390c3408fe3c6da759b9897f?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/99/stephan75">stephan75</a><br/>
<span class="score" title="12642 reputation points"><span class="">12.6k</span></span><span title="5 badges"><span class="badge1">●</span><span class="badgecount">5</span></span><span title="56 badges"><span class="silver">●</span><span class="badgecount">56</span></span><span title="210 badges"><span class="bronze">●</span><span class="badgecount">210</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="stephan75 has 37 accepted answers">6%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-21882">
</div>
<div class="comment-tools" id="comment-tools-21882">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-21882-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/21784/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="wflgIFFED39Hu4y6xgxwXNLWGEpEtaF0"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>