<meta charset="UTF-8"><link rel="stylesheet" type="text/css" href="../style.css"><div id="CALeft">
<div class="headNormal">
<h1><a href="/questions/74790/underground-feature-representation">Underground feature representation</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/74790/up/" id="post-74790-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-74790-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/74790/down/" id="post-74790-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/74790/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>I just mapped two superposed features. A large public place (highway=pedestrian; area=yes) and an underlying parking (location=underground) with its ways (highway=service; service=parking_aisle; location=underground). </p>
<p>I am rather disappointed to see the result on the map (mapnik) because the underground parking aisles appear on the public place on the surface. I have tried level and layer tags to potentially change their representation without success. Any idea on how to manage this issue or is it the expected result?</p>
<p>Here is the case: <a href="https://www.openstreetmap.org/#map=19/45.39973/-71.89598">https://www.openstreetmap.org/#map=19/45.39973/-71.89598</a></p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-underground" href="/tags/underground/" rel="tag" title="see questions tagged 'underground'">underground</a>
<a class="post-tag tag-link-parking_aisle" href="/tags/parking_aisle/" rel="tag" title="see questions tagged 'parking_aisle'">parking_aisle</a>
<a class="post-tag tag-link-multi-storey" href="/tags/multi-storey/" rel="tag" title="see questions tagged 'multi-storey'">multi-storey</a>
<a class="post-tag tag-link-mapnik" href="/tags/mapnik/" rel="tag" title="see questions tagged 'mapnik'">mapnik</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>13 May '20, 14:20</strong>
</p>
<img alt="jfd553's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/a504353df13461ace2c733906a99ce16?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/9697/jfd553">jfd553</a><br/>
<span class="score" title="389 reputation points">389</span><span title="20 badges"><span class="badge1">●</span><span class="badgecount">20</span></span><span title="23 badges"><span class="silver">●</span><span class="badgecount">23</span></span><span title="32 badges"><span class="bronze">●</span><span class="badgecount">32</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="jfd553 has no accepted answers">0%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/74790/">
                edited
                <strong>13 May '20, 14:37</strong>
</a>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-74790">
</div>
<div class="comment-tools" id="comment-tools-74790">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-74790-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    2 Answers:
                    </div>
<div class="tabsA"><a href="/questions/74790/underground-feature-representation?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/74790/underground-feature-representation?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/74790/underground-feature-representation?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/74790/underground-feature-representation?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="74792"></a>
<div class="answer accepted-answer" id="answer-container-74792">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/74792/up/" id="post-74792-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-74792-score" title="current number of votes">
    2
</div>
<a class="ajax-command post-vote down" href="/vote/74792/down/" id="post-74792-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="accept-answer on" href="/accept_answer/74792/" rel="nofollow" title="jfd553 has selected this answer as the correct answer">
</a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>There's actually a recently <a href="https://github.com/gravitystorm/openstreetmap-carto/issues/4118">filed issue</a> which relates to part of this question.</p>
<p>However, how to render underground facilities is a more broadly-based question and there is currently no good answer, see <a href="https://www.openstreetmap.org/#map=18/53.40820/-2.97929">for instance</a> passages to access an underground metro station. The CartoCSS styles get more and more complex with additional layers, and most of these underground features are currently edge cases which probably don't justify the major work required to resolve the rendering in a small number of areas. This is especially so as the tagging may evolve as there are more people mapping them.</p>
<p>It is quite likely that for the kind of map output you expect that additional post-processing over-and-above the current architecture of the Carto CSS style which is constrained by needing to stay close to OSM because it is refreshed continually. There are probably cases where underground service roads should be shown as well as those where it would be preferred that they are not.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/74792/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>13 May '20, 15:27</strong>
</p>
<img alt="SK53's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/06cd84075f1adc2870ad102c7233e661?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/647/sk53">SK53 ♦</a><br/>
<span class="score" title="28084 reputation points"><span class="">28.1k</span></span><span title="48 badges"><span class="badge1">●</span><span class="badgecount">48</span></span><span title="268 badges"><span class="silver">●</span><span class="badgecount">268</span></span><span title="433 badges"><span class="bronze">●</span><span class="badgecount">433</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="SK53 has 121 accepted answers">22%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-74792">
<a name="74793"></a>
<div class="comment" id="comment-74793">
<div class="comment-score" id="post-74793-score">1</div>
<div class="comment-text"><p>Well, I then understand why I initially did not find any satisfying answer. Thank.</p></div>
<div class="comment-info" id="comment-74793-info">
<span class="comment-age">(13 May '20, 15:37)</span>
<a class="comment-user userinfo" href="/users/9697/jfd553">jfd553</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-74792">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-74792-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="74806"></a>
<div class="answer" id="answer-container-74806">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/74806/up/" id="post-74806-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-74806-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/74806/down/" id="post-74806-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>Hi jfd553,</p>
<p>Have a look here, <a href="https://www.openstreetmap.org/#map=19/51.92319/4.46459">https://www.openstreetmap.org/#map=19/51.92319/4.46459</a>
Otherwise I would use layers or levels the last is more 3D mapping IMHO or enlighthen the object with underground=yes. In case of a park simple covered=yes.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/74806/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>14 May '20, 14:54</strong>
</p>
<img alt="Hendrikklaas's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/742e93034cd38ad243f7ab26f350b659?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/3443/hendrikklaas">Hendrikklaas</a><br/>
<span class="score" title="9286 reputation points"><span class="">9.3k</span></span><span title="207 badges"><span class="badge1">●</span><span class="badgecount">207</span></span><span title="238 badges"><span class="silver">●</span><span class="badgecount">238</span></span><span title="387 badges"><span class="bronze">●</span><span class="badgecount">387</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Hendrikklaas has 39 accepted answers">5%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-74806">
</div>
<div class="comment-tools" id="comment-tools-74806">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-74806-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/74790/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="cYEdxS6ulwu6hp3dMGhyjn9FwBWdXQgE"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>