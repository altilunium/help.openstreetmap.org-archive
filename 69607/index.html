<meta charset="utf-8"/><link href="../style.css" rel="stylesheet" type="text/css"/><div id="CALeft"><center><a href="../"><img id="ll" src="https://help.openstreetmap.org/upfiles/osm_help_logo_6.png"/></a></center>
<div class="headNormal">
<h1><a href="/questions/69607/disconnected-loop-confuses-router">Disconnected loop confuses router</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/69607/up/" id="post-69607-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-69607-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/69607/down/" id="post-69607-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/69607/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>While trying to navigate by car to Tenaya Lodge, California (<a href="https://www.openstreetmap.org/#map=18/37.47295/-119.63505),">https://www.openstreetmap.org/#map=18/37.47295/-119.63505),</a> I experienced route calculation errors both when navigating to the Lodge, and when planning a route away from it while sitting in one of the Lodge rooms. I think I have traced the problem to the short closed way representing the paving around the outside swimming pool. The router has to move the start or end of the proposed route on to a mapped road, and it seems that the router on my Garmin Etrex-30 was choosing the swimming pool paving as the nearest road, and then failing to find any connecting roads. Navigating to Tenaya was achieved by moving the destination point to one of the service roads; navigating away was achieved by standing outside.
I would welcome advice on the best way to eliminate this problem. The simplest solution would be to delete the path surrounding the pool, leaving just the water mapped, but I am reluctant to delete another mapper's work if anyone can suggest a better method.</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-routingerror" href="/tags/routingerror/" rel="tag" title="see questions tagged 'routingerror'">routingerror</a>
<a class="post-tag tag-link-disconnected" href="/tags/disconnected/" rel="tag" title="see questions tagged 'disconnected'">disconnected</a>
<a class="post-tag tag-link-loop" href="/tags/loop/" rel="tag" title="see questions tagged 'loop'">loop</a>
<a class="post-tag tag-link-routing" href="/tags/routing/" rel="tag" title="see questions tagged 'routing'">routing</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>13 Jun '19, 09:56</strong>
</p>
<img alt="Madryn's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/c81fd17cde8b2747629b78bdef81a202?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/2591/madryn">Madryn</a><br/>
<span class="score" title="2241 reputation points"><span class="">2.2k</span></span><span title="36 badges"><span class="badge1">●</span><span class="badgecount">36</span></span><span title="51 badges"><span class="silver">●</span><span class="badgecount">51</span></span><span title="81 badges"><span class="bronze">●</span><span class="badgecount">81</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Madryn has 5 accepted answers">13%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-69607">
</div>
<div class="comment-tools" id="comment-tools-69607">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-69607-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    One Answer:
                    </div>
<div class="tabsA"><a href="/questions/69607/disconnected-loop-confuses-router?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/69607/disconnected-loop-confuses-router?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/69607/disconnected-loop-confuses-router?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/69607/disconnected-loop-confuses-router?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="69608"></a>
<div class="answer accepted-answer" id="answer-container-69608">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/69608/up/" id="post-69608-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-69608-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/69608/down/" id="post-69608-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="accept-answer on" href="/accept_answer/69608/" rel="nofollow" title="Madryn has selected this answer as the correct answer">
</a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>The best solution is to add a footway connection between the <a href="https://www.openstreetmap.org/way/244349648">pedestrian area around the pool</a> and the nearby service road. This way you can navigate from and to the pool without problems.</p>
<p>Are you familiar with this location? On aerial imagery it looks like there is a footway to the west of the pool.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/69608/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>13 Jun '19, 10:01</strong>
</p>
<img alt="scai's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/52d3234f3be58156770e8a91d575bfbd?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/158/scai">scai ♦</a><br/>
<span class="score" title="33317 reputation points"><span class="">33.3k</span></span><span title="21 badges"><span class="badge1">●</span><span class="badgecount">21</span></span><span title="309 badges"><span class="silver">●</span><span class="badgecount">309</span></span><span title="459 badges"><span class="bronze">●</span><span class="badgecount">459</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="scai has 168 accepted answers">23%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-69608">
<a name="69609"></a>
<div class="comment" id="comment-69609">
<div class="comment-score" id="post-69609-score"></div>
<div class="comment-text"><p>I have been there for two nights; that's all. The pool and the surrounding area are separated from the service roads by a metal fence, with some lockable pedestrian gates to the roads. I don't remember the full path layout or the exact line of the fence, but I think I have enough information to implement your suggestion, and no doubt another mapper could improve on my efforts.</p></div>
<div class="comment-info" id="comment-69609-info">
<span class="comment-age">(13 Jun '19, 10:29)</span>
<a class="comment-user userinfo" href="/users/2591/madryn">Madryn</a>
</div>
</div>
<a name="69643"></a>
<div class="comment" id="comment-69643">
<div class="comment-score" id="post-69643-score">1</div>
<div class="comment-text"><p>I have connected the path surrounding the pool to the main road system, and made it clear that both are footpaths only.</p></div>
<div class="comment-info" id="comment-69643-info">
<span class="comment-age">(17 Jun '19, 19:06)</span>
<a class="comment-user userinfo" href="/users/2591/madryn">Madryn</a>
</div>
</div>
<a name="69646"></a>
<div class="comment" id="comment-69646">
<div class="comment-score" id="post-69646-score"></div>
<div class="comment-text"><p>Unless I miss something the path has been a footway <a href="https://www.openstreetmap.org/way/244349648/history">for the past five years</a>. So while this solution might fix the current routing issues I find it worthwhile also notifying the router manufacturer. Firstly they shouldn't route on a footway if in car mode and secondly they should exclude small routing islands like this path from the routing graph.</p>
<p>There's also still something odd about the changes you made. You created a relation for the paved area but missed adding the pool as an inner way. If you have the relation you could also remove  the highway tag from the outer way (unless you left it there as a safeguard for routers not understanding relations or areas).</p></div>
<div class="comment-info" id="comment-69646-info">
<span class="comment-age">(18 Jun '19, 09:22)</span>
<a class="comment-user userinfo" href="/users/10133/tzorn">TZorn</a>
</div>
</div>
<a name="69647"></a>
<div class="comment" id="comment-69647">
<div class="comment-score" id="post-69647-score"></div>
<div class="comment-text"><p>It is not necessary to create a relation to fix this routing error. Just add a footway from the road to the pedestrian area. There is no need to add another footway <em>around</em> the pedestrian area either.</p></div>
<div class="comment-info" id="comment-69647-info">
<span class="comment-age">(18 Jun '19, 09:26)</span>
<a class="comment-user userinfo" href="/users/158/scai">scai ♦</a>
</div>
</div>
<a name="69696"></a>
<div class="comment" id="comment-69696">
<div class="comment-score" id="post-69696-score"></div>
<div class="comment-text"><p>I did not deliberately create a relation, neither did I deliberately remove one. If I remember correctly, ID showed the path around the pool as some sort of highway. Thinking that I had found the problem, I tried to change it to a footpath. Clearly that has not had the desired effect, or has had unwanted side effects. Perhaps someone could revert my changes in this area, so that I can attempt to make the minimum necessary change (a short footpath link from the pool surround to the road system)? I do not know how to do that myself.
As regards telling the router manufacturer, I was using an Etrex 30, which I suspect Garmin would no longer be interested in updating, as it is quite an old model.</p></div>
<div class="comment-info" id="comment-69696-info">
<span class="comment-age">(21 Jun '19, 19:39)</span>
<a class="comment-user userinfo" href="/users/2591/madryn">Madryn</a>
</div>
</div>
<a name="69725"></a>
<div class="comment not_top_scorer" id="comment-69725">
<div class="comment-score" id="post-69725-score"></div>
<div class="comment-text"><p>I removed the relation. One could have left it in there and added the pool as an inner member but the aerial imagery I found was not good enough for me to really judge the correct extend on the ground. It appears to me that there are additional pools and multiple ways. So I just left it with the simple way around the pool. Additionally, I removed the descriptive names from the pool and the main access road.</p></div>
<div class="comment-info" id="comment-69725-info">
<span class="comment-age">(24 Jun '19, 08:49)</span>
<a class="comment-user userinfo" href="/users/10133/tzorn">TZorn</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-69608">
<span class="comments-showing">
            showing 5 of 6
        </span>
<a class="show-all-comments-link" href="#">show 1 more comments</a>
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-69608-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/69607/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="YrTfqVqHJvJyUrxbqwVPOr3Z1p6DUtjC"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>