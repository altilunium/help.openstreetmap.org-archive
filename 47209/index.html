<meta charset="UTF-8"><link rel="stylesheet" type="text/css" href="../style.css"><div id="CALeft">
<div class="headNormal">
<h1><a href="/questions/47209/install-overpass-on-mac-os-x">Install Overpass on Mac OS X</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/47209/up/" id="post-47209-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-47209-score" title="current number of votes">
    1
</div>
<a class="ajax-command post-vote down" href="/vote/47209/down/" id="post-47209-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/47209/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>For testing purposes (before putting it on a Linux server), I would like to install the Overpass API on Mac OS X (El Capitan).
According to the <a href="http://wiki.openstreetmap.org/wiki/Overpass_API/versions#Other_changes_3">changelog</a> it should also build on a Mac. However, the <a href="http://wiki.openstreetmap.org/wiki/Overpass_API/Installation#Installation">installation guide</a> is only given for Ubuntu. I would follow these instructions, however homebrew cannot find the packages libexpat1-dev and zlib1g-dev.
What can I do?</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-overpass" href="/tags/overpass/" rel="tag" title="see questions tagged 'overpass'">overpass</a>
<a class="post-tag tag-link-macosx" href="/tags/macosx/" rel="tag" title="see questions tagged 'macosx'">macosx</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>18 Dec '15, 12:44</strong>
</p>
<img alt="Arik's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/382c1236163ab7156d672328538ba11e?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/11756/arik">Arik</a><br/>
<span class="score" title="51 reputation points">51</span><span title="2 badges"><span class="badge1">●</span><span class="badgecount">2</span></span><span title="2 badges"><span class="silver">●</span><span class="badgecount">2</span></span><span title="5 badges"><span class="bronze">●</span><span class="badgecount">5</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Arik has no accepted answers">0%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-47209">
</div>
<div class="comment-tools" id="comment-tools-47209">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-47209-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    2 Answers:
                    </div>
<div class="tabsA"><a href="/questions/47209/install-overpass-on-mac-os-x?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/47209/install-overpass-on-mac-os-x?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/47209/install-overpass-on-mac-os-x?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/47209/install-overpass-on-mac-os-x?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="47217"></a>
<div class="answer accepted-answer" id="answer-container-47217">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/47217/up/" id="post-47217-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-47217-score" title="current number of votes">
    3
</div>
<a class="ajax-command post-vote down" href="/vote/47217/down/" id="post-47217-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="accept-answer on" href="/accept_answer/47217/" rel="nofollow" title="Arik has selected this answer as the correct answer">
</a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>If you follow the instructions at: overpass-api.de/no_frills.html, "Software Installation" this will work on a Mac provided you build with: make CXXFLAGS="-O3" CPPFLAGS="-DNATIVE_LARGE_FILES"</p>
<p><em>Error:  I still get an error saying "ld: library not found for -lrt" though. Is there a way to get around this?</em></p>
<p>Oh! I forgot that problem. This will happen about 6 times in the build. The way I worked around it is each time that make stops with this error, copy &amp; paste the last gcc command line (these spread over more than one line) and delete the "-lrt", then hit return. When it finishes, re-type "make CXXFLAGS="-O3" CPPFLAGS="-DNATIVE_LARGE_FILES"</p>
<p>BTW: We have an issue for this. Please follow up here: <a href="https://github.com/drolbr/Overpass-API/issues/216">https://github.com/drolbr/Overpass-API/issues/216</a></p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/47217/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>18 Dec '15, 16:12</strong>
</p>
<img alt="malcolmh's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/73a79b941319efb1c455368f7dcd2703?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/11724/malcolmh">malcolmh</a><br/>
<span class="score" title="96 reputation points">96</span><span title="1 badges"><span class="silver">●</span><span class="badgecount">1</span></span><span title="3 badges"><span class="bronze">●</span><span class="badgecount">3</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="malcolmh has one accepted answer">50%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/47217/">
                edited
                <strong>19 Dec '15, 16:31</strong>
</a>
</p>
<img alt="mmd's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/264d84ab05b942224b05960903eba7a7?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/8708/mmd">mmd</a><br/>
<span class="score" title="5682 reputation points"><span class="">5.7k</span></span><span title="1 badges"><span class="badge1">●</span><span class="badgecount">1</span></span><span title="53 badges"><span class="silver">●</span><span class="badgecount">53</span></span><span title="88 badges"><span class="bronze">●</span><span class="badgecount">88</span></span></p>
</div>
</div>
<div class="comments-container" id="comments-container-47217">
<a name="47231"></a>
<div class="comment" id="comment-47231">
<div class="comment-score" id="post-47231-score">1</div>
<div class="comment-text"><p>Well, that's really only a workaround. Better would be to address this in <a href="https://github.com/drolbr/Overpass-API/blob/master/src/configure.ac#L21">https://github.com/drolbr/Overpass-API/blob/master/src/configure.ac#L21</a> and recreate the build environment. Result: no more manual fiddling. Anyone with a mac here who is brave enough to test this and update the github issue i mentioned? A patch could be similar to this one: <a href="http://lists.freedesktop.org/archives/mesa-commit/2013-February/041707.html">http://lists.freedesktop.org/archives/mesa-commit/2013-February/041707.html</a></p></div>
<div class="comment-info" id="comment-47231-info">
<span class="comment-age">(19 Dec '15, 09:58)</span>
<a class="comment-user userinfo" href="/users/8708/mmd">mmd</a>
</div>
</div>
<a name="47232"></a>
<div class="comment" id="comment-47232">
<div class="comment-score" id="post-47232-score"></div>
<div class="comment-text"><p>Tried it, same failure:</p>
<p>ld: library not found for -lrt
clang: error: linker command failed with exit code 1 (use -v to see invocation)
make[2]: <strong><em> [bin/osm3s_query] Error 1
make[1]: </em></strong> [all-recursive] Error 1
make: *** [all] Error 2</p></div>
<div class="comment-info" id="comment-47232-info">
<span class="comment-age">(19 Dec '15, 10:16)</span>
<a class="comment-user userinfo" href="/users/11724/malcolmh">malcolmh</a>
</div>
</div>
<a name="47233"></a>
<div class="comment" id="comment-47233">
<div class="comment-score" id="post-47233-score"></div>
<div class="comment-text"><p>Did you also run autoscan, aclocal, autoheader, libtoolize, automake --add-missing, autoconf (see <a href="http://wiki.openstreetmap.org/wiki/Overpass_API/Installation#Installation">Installation option 2</a>) before running configure and make again?</p></div>
<div class="comment-info" id="comment-47233-info">
<span class="comment-age">(19 Dec '15, 10:54)</span>
<a class="comment-user userinfo" href="/users/8708/mmd">mmd</a>
</div>
</div>
<a name="47234"></a>
<div class="comment" id="comment-47234">
<div class="comment-score" id="post-47234-score"></div>
<div class="comment-text"><p>No. These steps are not mentioned in the Installation page. I tried this (BTW, no libtoolize, but ran glibtoolize). Same failure.</p></div>
<div class="comment-info" id="comment-47234-info">
<span class="comment-age">(19 Dec '15, 11:32)</span>
<a class="comment-user userinfo" href="/users/11724/malcolmh">malcolmh</a>
</div>
</div>
<a name="47240"></a>
<div class="comment" id="comment-47240">
<div class="comment-score" id="post-47240-score"></div>
<div class="comment-text"><p>no_frills.html is targetting more the official releases. I recommend to check this <a href="http://wiki.openstreetmap.org/wiki/Overpass_API/Installation">Wiki page</a> as well. </p>
<p>Thanks to Travis CI I now have a working build on Mac OS X without any manual tweaks: <a href="https://travis-ci.org/mmd-osm/Overpass-API/builds/97856095">https://travis-ci.org/mmd-osm/Overpass-API/builds/97856095</a></p>
<p>Please retest with the changes described <a href="https://github.com/mmd-osm/Overpass-API/commit/bd091c081f3777dc42e4ad892e513afec03a8b09">here</a> - except for the .travis.yml maybe, which is only in <a href="https://github.com/mmd-osm/Overpass-API/tree/test754_osx">my branch</a>.</p></div>
<div class="comment-info" id="comment-47240-info">
<span class="comment-age">(19 Dec '15, 16:25)</span>
<a class="comment-user userinfo" href="/users/8708/mmd">mmd</a>
</div>
</div>
</div>
<div class="comment-tools" id="comment-tools-47217">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-47217-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="82874"></a>
<div class="answer" id="answer-container-82874">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/82874/up/" id="post-82874-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-82874-score" title="current number of votes">
    0
</div>
<a class="ajax-command post-vote down" href="/vote/82874/down/" id="post-82874-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>Hello, 
I found these links: <br/>
<a href="https://github.com/sodascience/osmenrich_docker">https://github.com/sodascience/osmenrich_docker</a><br/>
<a href="https://github.com/wiktorn/Overpass-API">https://github.com/wiktorn/Overpass-API</a> </p>
<p>Hope this helps someone in the future.</p>
<p>Cheers</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/82874/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>18 Dec '21, 21:01</strong>
</p>
<img alt="wobi's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/5bfcb2e9d3cd4816c85c6521762caabf?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/21094/wobi">wobi</a><br>
<span class="score" title="116 reputation points">116</span><span title="2 badges"><span class="badge1">●</span><span class="badgecount">2</span></span><span title="3 badges"><span class="silver">●</span><span class="badgecount">3</span></span><span title="7 badges"><span class="bronze">●</span><span class="badgecount">7</span></span><br>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="wobi has no accepted answers">0%</span>
</br></br></p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/82874/">
                edited
                <strong>18 Dec '21, 21:02</strong>
</a>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-82874">
</div>
<div class="comment-tools" id="comment-tools-82874">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-82874-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/47209/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="nW688jwQgzCzU6dh5ChFzD8uy24XpwFg"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>