<meta charset="UTF-8"><link rel="stylesheet" type="text/css" href="../style.css"><div id="CALeft">
<div class="headNormal">
<h1><a href="/questions/32257/how-to-get-full-object-of-older-versions">How to Get full object of older versions?</a></h1>
</div>
<div class="" id="main-body">
<div id="askform">
<table id="question-table" style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/32257/up/" id="post-32257-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-32257-score" title="current number of votes">
    1
</div>
<a class="ajax-command post-vote down" href="/vote/32257/down/" id="post-32257-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
<a class="ajax-command favorite-mark" href="/mark_favorite/32257/" id="favorite-mark" rel="nofollow" title="mark/unmark this question as favorite (click again to cancel)"> </a>
<div class="favorite-count" id="favorite-count">
</div>
</div>
</td>
<td>
<div id="item-right">
<div class="question-body">
<p>I want a full osm object like we get on querying    <a href="http://www.openstreetmap.org/api/0.6/way/40003158/full">http://www.openstreetmap.org/api/0.6/way/40003158/full</a></p>
<p>but i also want to specify the version of the object too like in <a href="http://www.openstreetmap.org/api/0.6/way/40003158/3">http://www.openstreetmap.org/api/0.6/way/40003158/3</a></p>
<p>I want to have the full object of older versions i.e. result of both queries in combined form</p>
</div>
<div class="tags-container tags" id="question-tags">
<a class="post-tag tag-link-query" href="/tags/query/" rel="tag" title="see questions tagged 'query'">query</a>
<a class="post-tag tag-link-api" href="/tags/api/" rel="tag" title="see questions tagged 'api'">api</a>
<a class="post-tag tag-link-version" href="/tags/version/" rel="tag" title="see questions tagged 'version'">version</a>
<a class="post-tag tag-link-full" href="/tags/full/" rel="tag" title="see questions tagged 'full'">full</a>
</div>
<div class="post-controls" id="question-controls">
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        asked
        <strong>10 Apr '14, 09:31</strong>
</p>
<img alt="amritkarma's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/651103e616e49724bb139f1a3e0a1a39?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/4902/amritkarma">amritkarma</a><br/>
<span class="score" title="684 reputation points">684</span><span title="21 badges"><span class="badge1">●</span><span class="badgecount">21</span></span><span title="29 badges"><span class="silver">●</span><span class="badgecount">29</span></span><span title="41 badges"><span class="bronze">●</span><span class="badgecount">41</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="amritkarma has one accepted answer">11%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-32257">
</div>
<div class="comment-tools" id="comment-tools-32257">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-32257-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
<hr/>
<div class="tabBar">
<a name="sort-top"></a>
<div class="headQuestions">
                    2 Answers:
                    </div>
<div class="tabsA"><a href="/questions/32257/how-to-get-full-object-of-older-versions?sort=active" title="most recently updated answers/comments will be shown first">active answers</a><a href="/questions/32257/how-to-get-full-object-of-older-versions?sort=oldest" title="oldest answers will be shown first">oldest answers</a><a href="/questions/32257/how-to-get-full-object-of-older-versions?sort=newest" title="newest answers will be shown first">newest answers</a><a class="on" href="/questions/32257/how-to-get-full-object-of-older-versions?sort=votes" title="most voted answers will be shown first">popular answers</a></div>
</div>
<a name="32259"></a>
<div class="answer" id="answer-container-32259">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/32259/up/" id="post-32259-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-32259-score" title="current number of votes">
    2
</div>
<a class="ajax-command post-vote down" href="/vote/32259/down/" id="post-32259-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>This is not currently possible. Work is underway to support this in a future version of the Overpass API but it's not quite there yet. Currently, you would have to download an old planet file from planet.openstreetmap.org and then extract the object(s) in question from that.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/32259/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>10 Apr '14, 10:01</strong>
</p>
<img alt="Frederik%20Ramm's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/a2b38d937e70ab39d895d17da0dd1ba4?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/104/frederik-ramm">Frederik Ramm ♦</a><br/>
<span class="score" title="82494 reputation points"><span class="">82.5k</span></span><span title="92 badges"><span class="badge1">●</span><span class="badgecount">92</span></span><span title="720 badges"><span class="silver">●</span><span class="badgecount">720</span></span><span title="1273 badges"><span class="bronze">●</span><span class="badgecount">1273</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="Frederik Ramm has 417 accepted answers">23%</span>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-32259">
</div>
<div class="comment-tools" id="comment-tools-32259">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-32259-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<a name="32262"></a>
<div class="answer" id="answer-container-32262">
<table style="width:100%;">
<tr>
<td style="width:30px;vertical-align:top">
<div class="vote-buttons">
<a class="ajax-command post-vote up" href="/vote/32262/up/" id="post-32262-upvote" rel="nofollow" title="I like this post (click again to cancel)"> </a>
<div class="post-score" id="post-32262-score" title="current number of votes">
    1
</div>
<a class="ajax-command post-vote down" href="/vote/32262/down/" id="post-32262-downvote" rel="nofollow" title="I dont like this post (click again to cancel)"> </a>
</div>
</td>
<td>
<div class="item-right">
<div class="answer-body">
<p>To be slightly more verbose than Frederiks correct answer: What is the meaning of "version 3 of way 40003158"?
A way is changed if and only if either it's tags or the list of nodes are modified. There is no new version of a way when one of it's nodes is moved to another position.</p>
<p>Therefore let's imagine the following scenario:</p>
<ol>
<li>way 40003158 ("the way" in the following) is in version 2 and has two nodes A and B, both in version 1 (short as A1 and B1)</li>
<li>Somebody moves A1 to another position. Afterwards we have the way still in version 2 and B1, but A2 now as that node has a new version.</li>
<li>As next somebody reverts the way. This changes the order of A and B in the way. As a result we have the way in version 3, and the nodes as A2 and B1.</li>
<li>Sombody moves B1, leading to B2.</li>
<li>Somebody changes some tags on the way, leading to the way being in v4.</li>
</ol>
<p>Now, after (4) happened you want to get the full version of the way in version 3. But which one do you want?
Version 3 of the way had 2 different states: (way3, A2,B1) and (way3, A2,B2).
You can imagine that for ways with more nodes there may be many different states of the complex object identified by the same way-object version in OSM.</p>
<p>To get what you want you would need to know the timestamp, too, and you would have to adjust your question to one of the following:</p>
<ul>
<li>"I want to have the full version 3 of the way 40003158 at the time where the way reached that version"</li>
<li>"I want to have the full version 3 of the way 40003158 at time X"</li>
<li>"I want to have the complete/"deep" object state of way 40003158 at time X"</li>
</ul>
<p>All this is possible, but far from trivial yet. As Frederik mentioned, it's a planned feature for Overpass (afaik mainly the last variant of the reformulated question).</p>
<p><strong>CAUTION:</strong> If you nevertheless would like to tackle that problem yourself, please be careful with API requests regarding full object history, which would be necessary. These are expensive requests on the server and therefore not a good idea to be scripted and done in batch sequences like you would probably need them.</p>
</div>
<div class="answer-controls post-controls">
<span class="action-link"><a class="ajax-command withprompt copy" href="/answer_link/32262/" rel="nofollow" title="answer permanent link">permanent link</a></span>
</div>
<div class="post-update-info-container">
<div class="post-update-info post-update-info-user">
<p style="line-height:12px;">
        answered
        <strong>10 Apr '14, 10:22</strong>
</p>
<img alt="jongleur1983's gravatar image" class="gravatar" height="32" src="https://secure.gravatar.com/avatar/83f2df0e360d227d13ab7951981da40f?s=32&amp;d=identicon&amp;r=g" width="32"/>
<p><a href="/users/4922/jongleur1983">jongleur1983</a><br/>
<span class="score" title="71 reputation points">71</span><span title="4 badges"><span class="bronze">●</span><span class="badgecount">4</span></span><br/>
<span class="accept_rate" title="Rate of the user's accepted answers">accept rate:</span>
<span title="jongleur1983 has no accepted answers">0%</span>
</p>
</div>
<div class="post-update-info post-update-info-edited">
<p style="line-height:12px;">
<a href="/revisions/32262/">
                edited
                <strong>10 Apr '14, 10:25</strong>
</a>
</p>
</div>
</div>
<div class="comments-container" id="comments-container-32262">
</div>
<div class="comment-tools" id="comment-tools-32262">
</div>
<div class="clear"></div>
<div class="comment-form-container" id="comment-32262-form-container">
</div>
<div class="clear"></div>
</div>
</td>
</tr>
</table>
</div>
<div class="paginator-container-left">
</div>
<form action="/questions/32257/answer/" id="fmanswer" method="post">
<input name="csrfmiddlewaretoken" type="hidden" value="HZaZG1gbHn5ubbeJ9A6mlemWMBFGDRnk"/>
<div style="clear:both">
</div>
</form>
</div>
</div>
</div>